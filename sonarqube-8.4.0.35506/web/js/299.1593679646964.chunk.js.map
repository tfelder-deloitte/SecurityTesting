{"version":3,"sources":["webpack:///./src/main/js/app/components/AdminContext.tsx","webpack:///./node_modules/lodash/forEach.js","webpack:///./src/main/js/components/common/RestartButton.tsx","webpack:///./node_modules/lodash/_arrayEach.js","webpack:///./node_modules/lodash/_castFunction.js","webpack:///./src/main/js/apps/system/styles.css?4b04","webpack:///./src/main/js/apps/system/styles.css","webpack:///./node_modules/lodash/each.js","webpack:///./src/main/js/components/common/StatusIndicator.css?548e","webpack:///./src/main/js/components/common/StatusIndicator.css","webpack:///./src/main/js/apps/system/utils.ts","webpack:///./src/main/js/components/common/StatusIndicator.tsx","webpack:///./src/main/js/apps/system/components/info-items/HealthCauseItem.tsx","webpack:///./src/main/js/apps/system/components/info-items/HealthItem.tsx","webpack:///./src/main/js/apps/system/components/info-items/SysInfoItem.tsx","webpack:///./src/main/js/apps/system/components/info-items/Section.tsx","webpack:///./src/main/js/apps/system/components/info-items/HealthCard.tsx","webpack:///./src/main/js/apps/system/components/ClusterSysInfos.tsx","webpack:///./src/main/js/apps/system/components/ChangeLogLevelForm.tsx","webpack:///./src/main/js/apps/system/components/PageActions.tsx","webpack:///./src/main/js/apps/system/components/PageHeader.tsx","webpack:///./src/main/js/apps/system/components/StandaloneSysInfos.tsx","webpack:///./src/main/js/apps/system/components/system-upgrade/SystemUpgradeIntermediate.tsx","webpack:///./src/main/js/apps/system/components/system-upgrade/SystemUpgradeItem.tsx","webpack:///./src/main/js/apps/system/components/system-upgrade/SystemUpgradeForm.tsx","webpack:///./src/main/js/apps/system/components/system-upgrade/SystemUpgradeNotif.tsx","webpack:///./src/main/js/apps/system/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/SimpleModal.js","webpack:///./node_modules/sonar-ui-common/components/controls/ConfirmModal.js","webpack:///./node_modules/lodash/map.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFormatter.js","webpack:///./node_modules/sonar-ui-common/components/controls/ConfirmButton.js","webpack:///./node_modules/sonar-ui-common/components/controls/ModalButton.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/OpenCloseIcon.js","webpack:///./src/main/js/api/system.ts","webpack:///./node_modules/sonar-ui-common/components/controls/BoxedGroupAccordion.js"],"names":["defaultPendingPlugins","installing","removing","updating","defaultSystemStatus","AdminContext","fetchSystemStatus","fetchPendingPlugins","pendingPlugins","systemStatus","arrayEach","baseEach","castFunction","isArray","module","exports","collection","iteratee","handleConfirm","then","props","render","className","confirmButtonText","modalBody","modalHeader","onConfirm","this","onClick","disabled","array","index","length","value","api","content","__esModule","default","i","options","exported","locals","___CSS_LOADER_API_IMPORT___","push","LOGS_LEVELS","DEFAULT_LOG_LEVEL","PLUGINS_FIELD","SETTINGS_FIELD","STATS_FIELD","SYSTEM_FIELD","ignoreInfoFields","sysInfoObject","getHealth","getHealthCauses","getLogsLevel","undefined","isLogInfoBlock","Boolean","hasLoggingInfo","logLevel","indexOf","getAppNodes","sysInfoData","getServerId","getVersion","getClusterVersion","appNodes","getSystemLogsLevel","logLevels","map","getNodeName","nodeInfo","getSystemData","statData","statistics","getClusterMainCardSection","getStandaloneMainSections","key","includes","startsWith","parseQuery","urlQuery","expandedCards","expand","serializeQuery","query","sortUpgrades","upgrades","upgrade","Number","version","split","groupUpgrades","groupedVersions","Object","keys","color","size","HealthCauseItem","health","healthCause","Alert","display","variant","HealthItem","biggerHealth","name","healthCauses","hasHealthCauses","statusIndicator","toLowerCase","cause","idx","overlay","SysInfoItem","Array","JSON","stringify","BooleanItem","ObjectItem","Section","items","id","style","wordBreak","HealthCard","open","mainSection","sections","item","showFields","showSections","showLogLevelWarning","data","renderHeader","title","section","ClusterSysInfos","toggleCard","node","getSearchNodes","handleFormSubmit","event","preventDefault","newLevel","state","setState","onChange","handleLevelChange","currentTarget","header","contentLabel","onRequestClose","onClose","onSubmit","level","checked","type","htmlFor","infoMsg","handleLogsLevelOpen","openLogsLevelForm","handleLogsLevelChange","onLogLevelChange","handleLogsLevelClose","removeElementFocus","blur","componentWillReceiveProps","nextProps","suffix","now","infoUrl","logsUrl","canDownloadLogs","download","href","rel","target","serverId","Date","getFullYear","getMonth","getDate","getHours","getMinutes","canRestart","Consumer","RestartButton","cluster","PageHeader","isCluster","loading","showActions","copyValue","StandAloneSysInfos","Web","_","getStandaloneSecondarySections","showMore","toggleIntermediatVersions","turned","releaseDate","date","long","formattedDate","changeLogUrl","description","SystemUpgradeItem","edition","systemUpgrades","lastUpgrade","downloadUrl","community","defaultMessage","values","slice","upgrading","appState","withAppState","mounted","openSystemUpgradeForm","fetchSystemUpgrade","handleOpenSystemUpgradeForm","handleCloseSystemUpgradeForm","componentDidMount","componentWillUnmount","fetchSysInfo","toggleSysInfoCards","toggledCard","location","filter","card","concat","updateQuery","newQuery","router","replace","pathname","renderSysInfo","Suggestions","suggestions","defer","addSuggestions","removeSuggestions","SuggestionsInner","componentDidUpdate","prevProps","extendStatics","__extends","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","n","arguments","call","apply","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","React","Modal_1","SimpleModal","_super","_this","submitting","stopSubmitting","handleCloseClick","submit","handleSubmitClick","result","_a","children","modalProps","createElement","onCloseClick","onFormSubmit","onSubmitClick","Component","l10n_1","DeferredSpinner_1","buttons_1","ClickEventBoundary_1","SimpleModal_1","ConfirmModal","handleSubmit","confirmData","renderModalContent","_b","confirmDisable","headerDescription","isDestructive","_c","cancelButtonText","translate","SubmitButton","autoFocus","ResetButtonLink","noBackdrop","PureComponent","arrayMap","baseIteratee","baseMap","react_intl_1","dates_1","formatterOption","year","month","day","longFormatterOption","FormattedDate","parseDate","ConfirmModal_1","ModalButton_1","ConfirmButton","renderConfirmModal","modalHeaderDescription","confirmModalProps","modal","ModalButton","handleButtonClick","handleCloseModal","Fragment","baseAssignValue","createAggregator","groupBy","Icon_1","fill","iconProps","ChevronDownIcon_1","ChevronRightIcon_1","setLogLevel","catch","getSystemInfo","getSystemStatus","getSystemUpgrades","getMigrationStatus","migrateDatabase","restart","waitSystemUPStatus","max","slowThreshold","status","classNames","OpenCloseIcon_1","BoxedGroupAccordion","hoveringInner","handleClick","onDetailEnter","onDetailLeave","role","onMouseEnter","onMouseLeave"],"mappings":"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","file":"js/299.1593679646964.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { PendingPluginResult } from '../../types/plugins';\n\nexport interface AdminContextInterface {\n  fetchSystemStatus: () => void;\n  fetchPendingPlugins: () => void;\n  pendingPlugins: PendingPluginResult;\n  systemStatus: T.SysStatus;\n}\n\nexport const defaultPendingPlugins = { installing: [], removing: [], updating: [] };\nexport const defaultSystemStatus = 'UP';\n\nconst AdminContext = React.createContext<AdminContextInterface>({\n  fetchSystemStatus: () => {},\n  fetchPendingPlugins: () => {},\n  pendingPlugins: defaultPendingPlugins,\n  systemStatus: defaultSystemStatus\n});\nexport default AdminContext;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConfirmButton from 'sonar-ui-common/components/controls/ConfirmButton';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { restart } from '../../api/system';\n\ninterface Props {\n  className?: string;\n  fetchSystemStatus: () => void;\n  systemStatus: T.SysStatus;\n}\n\nexport default class RestartButton extends React.PureComponent<Props> {\n  handleConfirm = () => {\n    return restart().then(this.props.fetchSystemStatus);\n  };\n\n  render() {\n    const { className, systemStatus } = this.props;\n    return (\n      <ConfirmButton\n        confirmButtonText={translate('restart')}\n        modalBody={\n          <>\n            <p className=\"spacer-top spacer-bottom\">\n              {translate('system.are_you_sure_to_restart')}\n            </p>\n            <p>{translate('system.forcing_shutdown_not_recommended')}</p>\n          </>\n        }\n        modalHeader={translate('system.restart_server')}\n        onConfirm={this.handleConfirm}>\n        {({ onClick }) => (\n          <Button\n            className={classNames('button-red', className)}\n            disabled={systemStatus !== 'UP'}\n            onClick={onClick}>\n            {systemStatus === 'RESTARTING'\n              ? translate('system.restart_in_progress')\n              : translate('system.restart_server')}\n          </Button>\n        )}\n      </ConfirmButton>\n    );\n  }\n}\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".system-info-health-title{margin-top:24px;margin-bottom:16px}.system-info-health-info{margin-top:-12px}.system-info-copy-paste-id-info{max-width:550px;padding:8px 16px;clear:both;line-height:1.8}.system-info-health-info .status-indicator{position:relative;top:8px}.system-info-health-info.no-margin .status-indicator{margin:0}.system-info-section~.system-info-section{margin-top:16px}.system-info-section-item-name{width:25vw;overflow:hidden;text-overflow:ellipsis}.system-upgrade-version{padding:8px}.system-upgrade-version~.system-upgrade-version{margin-top:10px;padding-top:18px;border-top:1px solid #e6e6e6}.system-upgrade-intermediate{padding:6px 10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = require('./forEach');\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./StatusIndicator.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".status-indicator{display:inline-block;box-sizing:border-box;width:16px;height:16px;border-radius:16px;margin:4px}.status-indicator.small-status-indicator{width:8px;height:8px;border-radius:8px;margin:8px}.status-indicator.big-status-indicator{width:24px;height:24px;border-radius:24px;margin:0}.status-indicator.red{position:relative;z-index:2;background-color:#d4333f}.status-indicator.red:after{position:absolute;z-index:3;display:block;width:6px;height:2px;top:3px;left:1px;background-color:#fff;content:\\\"\\\"}.status-indicator.yellow{background-color:#eabe06}.status-indicator.green{background-color:#0a0}.status-indicator.orange{background-color:#ed7d20}.status-indicator.gray{background-color:#b4b4b4}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { each, groupBy, memoize, omit, omitBy, pickBy, sortBy } from 'lodash';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsString,\n  serializeStringArray\n} from 'sonar-ui-common/helpers/query';\nimport { SystemUpgrade } from '../../types/system';\n\nexport interface Query {\n  expandedCards: string[];\n}\n\nexport const LOGS_LEVELS = ['INFO', 'DEBUG', 'TRACE'];\nconst DEFAULT_LOG_LEVEL = LOGS_LEVELS[0];\n\nexport const APP_NODES_FIELD = 'Application Nodes';\nexport const CE_FIELD_PREFIX = 'Compute Engine';\nexport const CE_LOGGING_FIELD = 'Compute Engine Logging';\nexport const HA_FIELD = 'High Availability';\nexport const HEALTH_CAUSES_FIELD = 'Health Causes';\nexport const HEALTH_FIELD = 'Health';\nexport const LOGS_LEVEL_FIELD = 'Logs Level';\nexport const NAME_FIELD = 'Name';\nexport const NCLOC_FIELD = 'ncloc';\nexport const PLUGINS_FIELD = 'Plugins';\nexport const SEARCH_NODES_FIELD = 'Search Nodes';\nexport const SEARCH_PREFIX = 'Search';\nexport const SERVER_ID_FIELD = 'Server ID';\nexport const SETTINGS_FIELD = 'Settings';\nexport const STATE_FIELD = 'State';\nexport const STATS_FIELD = 'Statistics';\nexport const SYSTEM_FIELD = 'System';\nexport const VERSION_FIELD = 'Version';\nexport const WEB_LOGGING_FIELD = 'Web Logging';\nexport const WEB_PREFIX = 'Web';\n\nexport function ignoreInfoFields(sysInfoObject: T.SysInfoValueObject) {\n  return omit(sysInfoObject, [\n    HEALTH_FIELD,\n    HEALTH_CAUSES_FIELD,\n    NAME_FIELD,\n    PLUGINS_FIELD,\n    SETTINGS_FIELD,\n    SERVER_ID_FIELD,\n    VERSION_FIELD\n  ]);\n}\n\nexport function getHealth(sysInfoObject: T.SysInfoBase) {\n  return sysInfoObject[HEALTH_FIELD];\n}\n\nexport function getHealthCauses(sysInfoObject: T.SysInfoBase) {\n  return sysInfoObject[HEALTH_CAUSES_FIELD];\n}\n\nexport function getLogsLevel(sysInfoObject?: T.SysInfoValueObject): string {\n  if (sysInfoObject !== undefined) {\n    if (isLogInfoBlock(sysInfoObject)) {\n      return sysInfoObject[LOGS_LEVEL_FIELD];\n    } else if (hasLoggingInfo(sysInfoObject)) {\n      return sortBy(\n        [\n          getLogsLevel(sysInfoObject[WEB_LOGGING_FIELD]),\n          getLogsLevel(sysInfoObject[CE_LOGGING_FIELD])\n        ],\n        logLevel => LOGS_LEVELS.indexOf(logLevel)\n      )[1];\n    }\n  }\n  return DEFAULT_LOG_LEVEL;\n}\n\nexport function getAppNodes(sysInfoData: T.SysInfoCluster): T.SysInfoAppNode[] {\n  return sysInfoData[APP_NODES_FIELD];\n}\n\nexport function getSearchNodes(sysInfoData: T.SysInfoCluster): T.SysInfoSearchNode[] {\n  return sysInfoData[SEARCH_NODES_FIELD];\n}\n\nexport function isCluster(\n  sysInfoData: T.SysInfoCluster | T.SysInfoStandalone\n): sysInfoData is T.SysInfoCluster {\n  return sysInfoData[SYSTEM_FIELD] && sysInfoData[SYSTEM_FIELD][HA_FIELD] === true;\n}\n\nexport function isLogInfoBlock(\n  sysInfoObject: T.SysInfoValueObject\n): sysInfoObject is T.SysInfoLogging {\n  return sysInfoObject[LOGS_LEVEL_FIELD] !== undefined;\n}\n\nexport function hasLoggingInfo(\n  sysInfoObject: T.SysInfoValueObject\n): sysInfoObject is T.SysInfoStandalone | T.SysInfoAppNode {\n  return Boolean(sysInfoObject[WEB_LOGGING_FIELD] || sysInfoObject[CE_LOGGING_FIELD]);\n}\n\nexport function getServerId(sysInfoData: T.SysInfoCluster | T.SysInfoStandalone): string {\n  return sysInfoData && sysInfoData[SYSTEM_FIELD][SERVER_ID_FIELD];\n}\n\nexport function getVersion(sysInfoData: T.SysInfoStandalone): string | undefined {\n  return sysInfoData && sysInfoData[SYSTEM_FIELD][VERSION_FIELD];\n}\n\nexport function getClusterVersion(sysInfoData: T.SysInfoCluster): string | undefined {\n  const appNodes = getAppNodes(sysInfoData);\n  return appNodes.length > 0 ? appNodes[0][SYSTEM_FIELD][VERSION_FIELD] : undefined;\n}\n\nexport function getSystemLogsLevel(sysInfoData: T.SysInfoCluster | T.SysInfoStandalone): string {\n  if (isCluster(sysInfoData)) {\n    const logLevels = sortBy(getAppNodes(sysInfoData).map(getLogsLevel), logLevel =>\n      LOGS_LEVELS.indexOf(logLevel)\n    );\n    return logLevels.length > 0 ? logLevels[logLevels.length - 1] : DEFAULT_LOG_LEVEL;\n  } else {\n    return getLogsLevel(sysInfoData);\n  }\n}\n\nexport function getNodeName(nodeInfo: T.SysInfoAppNode | T.SysInfoSearchNode): string {\n  return nodeInfo[NAME_FIELD];\n}\n\nfunction getSystemData(sysInfoData: T.SysInfoBase): T.SysInfoValueObject {\n  const statData: T.SysInfoValueObject = {};\n  const statistics = sysInfoData[STATS_FIELD] as T.SysInfoValueObject; // TODO\n  if (statistics) {\n    statData['Lines of Code'] = formatMeasure(statistics[NCLOC_FIELD] as number, 'INT');\n  }\n  return { ...sysInfoData[SYSTEM_FIELD], ...statData };\n}\n\nexport function getClusterMainCardSection(sysInfoData: T.SysInfoCluster): T.SysInfoValueObject {\n  return {\n    ...getSystemData(sysInfoData),\n    ...omit(sysInfoData, [\n      APP_NODES_FIELD,\n      PLUGINS_FIELD,\n      SEARCH_NODES_FIELD,\n      SETTINGS_FIELD,\n      STATS_FIELD,\n      SYSTEM_FIELD\n    ])\n  };\n}\n\nexport function getStandaloneMainSections(sysInfoData: T.SysInfoBase): T.SysInfoValueObject {\n  return {\n    ...getSystemData(sysInfoData),\n    ...(omitBy(\n      sysInfoData,\n      (value, key) =>\n        value == null ||\n        [PLUGINS_FIELD, SETTINGS_FIELD, STATS_FIELD, SYSTEM_FIELD].includes(key) ||\n        key.startsWith(CE_FIELD_PREFIX) ||\n        key.startsWith(SEARCH_PREFIX) ||\n        key.startsWith(WEB_PREFIX)\n    ) as T.SysInfoValueObject)\n  };\n}\n\nexport function getStandaloneSecondarySections(sysInfoData: T.SysInfoBase): T.SysInfoSection {\n  return {\n    Web: pickBy(sysInfoData, (_, key) => key.startsWith(WEB_PREFIX)) as T.SysInfoValueObject,\n    'Compute Engine': pickBy(sysInfoData, (_, key) =>\n      key.startsWith(CE_FIELD_PREFIX)\n    ) as T.SysInfoValueObject,\n    'Search Engine': pickBy(sysInfoData, (_, key) =>\n      key.startsWith(SEARCH_PREFIX)\n    ) as T.SysInfoValueObject\n  };\n}\n\nexport function getFileNameSuffix(suffix?: string) {\n  const now = new Date();\n  return (\n    `${suffix ? suffix + '-' : ''}` +\n    `${now.getFullYear()}-${now.getMonth() + 1}-` +\n    `${now.getDate()}-${now.getHours()}-${now.getMinutes()}`\n  );\n}\n\nexport function groupSections(sysInfoData: T.SysInfoValueObject) {\n  const mainSection: T.SysInfoValueObject = {};\n  const sections: T.SysInfoSection = {};\n  each(sysInfoData, (item, key) => {\n    if (typeof item !== 'object' || item instanceof Array) {\n      mainSection[key] = item;\n    } else {\n      sections[key] = item;\n    }\n  });\n  return { mainSection, sections };\n}\n\nexport const parseQuery = memoize(\n  (urlQuery: T.RawQuery): Query => ({\n    expandedCards: parseAsArray(urlQuery.expand, parseAsString)\n  })\n);\n\nexport const serializeQuery = memoize(\n  (query: Query): T.RawQuery =>\n    cleanQuery({\n      expand: serializeStringArray(query.expandedCards)\n    })\n);\n\nexport function sortUpgrades(upgrades: SystemUpgrade[]): SystemUpgrade[] {\n  return sortBy(upgrades, [\n    (upgrade: SystemUpgrade) => -Number(upgrade.version.split('.')[0]),\n    (upgrade: SystemUpgrade) => -Number(upgrade.version.split('.')[1] || 0),\n    (upgrade: SystemUpgrade) => -Number(upgrade.version.split('.')[2] || 0)\n  ]);\n}\n\nexport function groupUpgrades(upgrades: SystemUpgrade[]): SystemUpgrade[][] {\n  const groupedVersions = groupBy(upgrades, upgrade => upgrade.version.split('.')[0]);\n  const sortedMajor = sortBy(Object.keys(groupedVersions), key => -Number(key));\n  return sortedMajor.map(key => groupedVersions[key]);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './StatusIndicator.css';\n\ninterface Props {\n  className?: string;\n  color?: string;\n  size?: string;\n}\n\nexport default function StatusIndicator({ className, color, size }: Props) {\n  return (\n    <i\n      className={classNames(\n        'status-indicator',\n        color,\n        {\n          'small-status-indicator': size === 'small',\n          'big-status-indicator': size === 'big'\n        },\n        className\n      )}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\n\ninterface Props {\n  className?: string;\n  health: T.HealthType;\n  healthCause: string;\n}\n\nexport default function HealthCauseItem({ className, health, healthCause }: Props) {\n  return (\n    <Alert\n      className={classNames('boxed-group-accordion-alert', className)}\n      display=\"inline\"\n      variant={health === 'RED' ? 'error' : 'warning'}>\n      {healthCause}\n    </Alert>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport StatusIndicator from '../../../../components/common/StatusIndicator';\nimport HealthCauseItem from './HealthCauseItem';\n\ninterface Props {\n  biggerHealth?: boolean;\n  name?: string;\n  className?: string;\n  health: T.HealthType;\n  healthCauses?: string[];\n}\n\nexport default function HealthItem({ biggerHealth, className, name, health, healthCauses }: Props) {\n  const hasHealthCauses = healthCauses && healthCauses.length > 0 && health !== 'GREEN';\n  const statusIndicator = (\n    <StatusIndicator color={health.toLowerCase()} size={biggerHealth ? 'big' : undefined} />\n  );\n  return (\n    <div className={classNames('system-info-health-info', className)}>\n      {hasHealthCauses &&\n        healthCauses!.map((cause, idx) => (\n          <HealthCauseItem className=\"spacer-right\" health={health} healthCause={cause} key={idx} />\n        ))}\n      {name ? (\n        <Tooltip overlay={translateWithParameters('system.current_health_of_x', name)}>\n          <span>{statusIndicator}</span>\n        </Tooltip>\n      ) : (\n        statusIndicator\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport AlertErrorIcon from 'sonar-ui-common/components/icons/AlertErrorIcon';\nimport AlertSuccessIcon from 'sonar-ui-common/components/icons/AlertSuccessIcon';\nimport { HEALTH_FIELD, STATE_FIELD } from '../../utils';\nimport HealthItem from './HealthItem';\n\nexport interface Props {\n  name: string;\n  value: T.SysInfoValue;\n}\n\nexport default function SysInfoItem({ name, value }: Props): JSX.Element {\n  if (name === HEALTH_FIELD || name === STATE_FIELD) {\n    return <HealthItem className=\"no-margin\" health={value as T.HealthType} />;\n  }\n  if (value instanceof Array) {\n    return <code>{JSON.stringify(value)}</code>;\n  }\n  switch (typeof value) {\n    case 'boolean':\n      return <BooleanItem value={value} />;\n    case 'object':\n      return <ObjectItem value={value} />;\n    default:\n      return <code>{value}</code>;\n  }\n}\n\nfunction BooleanItem({ value }: { value: boolean }) {\n  if (value) {\n    return <AlertSuccessIcon />;\n  } else {\n    return <AlertErrorIcon />;\n  }\n}\n\nfunction ObjectItem({ value }: { value: T.SysInfoValueObject }) {\n  return (\n    <table className=\"data\">\n      <tbody>\n        {map(value, (value, name) => (\n          <tr key={name}>\n            <td className=\"thin nowrap\">{name}</td>\n            <td>\n              <SysInfoItem name={name} value={value} />\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport SysInfoItem from './SysInfoItem';\n\ninterface Props {\n  name?: string;\n  items: T.SysInfoValueObject;\n}\n\nexport default function Section({ name, items }: Props) {\n  return (\n    <div className=\"system-info-section\">\n      {name && <h4 className=\"spacer-bottom\">{name}</h4>}\n      <table className=\"data zebra\" id={name}>\n        <tbody>\n          {map(items, (value, name) => {\n            return (\n              <tr key={name}>\n                <td className=\"thin\">\n                  <div className=\"system-info-section-item-name\">{name}</div>\n                </td>\n                <td style={{ wordBreak: 'break-all' }}>\n                  <SysInfoItem name={name} value={value} />\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport BoxedGroupAccordion from 'sonar-ui-common/components/controls/BoxedGroupAccordion';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getLogsLevel, groupSections, LOGS_LEVELS } from '../../utils';\nimport HealthItem from './HealthItem';\nimport Section from './Section';\n\ninterface Props {\n  biggerHealth?: boolean;\n  health?: T.HealthType;\n  healthCauses?: string[];\n  onClick: (toggledCard: string) => void;\n  open: boolean;\n  name: string;\n  sysInfoData: T.SysInfoValueObject;\n}\n\nexport default function HealthCard({\n  biggerHealth,\n  health,\n  healthCauses,\n  onClick,\n  open,\n  name,\n  sysInfoData\n}: Props) {\n  const { mainSection, sections } = groupSections(sysInfoData);\n  const showFields = open && mainSection && Object.keys(mainSection).length > 0;\n  const showSections = open && sections;\n  const logLevel = getLogsLevel(sysInfoData);\n  const showLogLevelWarning = logLevel && logLevel !== LOGS_LEVELS[0];\n  return (\n    <BoxedGroupAccordion\n      data={name}\n      onClick={onClick}\n      open={open}\n      renderHeader={() => (\n        <>\n          {showLogLevelWarning && (\n            <Alert\n              className=\"boxed-group-accordion-alert spacer-left\"\n              display=\"inline\"\n              variant=\"warning\">\n              {translate('system.log_level.warning.short')}\n            </Alert>\n          )}\n          {health && (\n            <HealthItem\n              biggerHealth={biggerHealth}\n              className=\"pull-right\"\n              health={health}\n              healthCauses={healthCauses}\n              name={name}\n            />\n          )}\n        </>\n      )}\n      title={name}>\n      {showFields && <Section items={mainSection} />}\n      {showSections &&\n        map(sections, (section, name) => <Section items={section} key={name} name={name} />)}\n    </BoxedGroupAccordion>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  getAppNodes,\n  getClusterMainCardSection,\n  getHealth,\n  getHealthCauses,\n  getNodeName,\n  getSearchNodes,\n  ignoreInfoFields\n} from '../utils';\nimport HealthCard from './info-items/HealthCard';\n\ninterface Props {\n  expandedCards: string[];\n  sysInfoData: T.SysInfoCluster;\n  toggleCard: (toggledCard: string) => void;\n}\n\nexport default function ClusterSysInfos({ expandedCards, sysInfoData, toggleCard }: Props) {\n  const mainCardName = 'System';\n  return (\n    <>\n      <HealthCard\n        biggerHealth={true}\n        health={getHealth(sysInfoData)}\n        healthCauses={getHealthCauses(sysInfoData)}\n        name={mainCardName}\n        onClick={toggleCard}\n        open={expandedCards.includes(mainCardName)}\n        sysInfoData={ignoreInfoFields(getClusterMainCardSection(sysInfoData))}\n      />\n      <li className=\"note system-info-health-title\">\n        {translate('system.application_nodes_title')}\n      </li>\n      {sortBy(getAppNodes(sysInfoData), getNodeName).map((node: T.SysInfoAppNode) => (\n        <HealthCard\n          health={getHealth(node)}\n          healthCauses={getHealthCauses(node)}\n          key={getNodeName(node)}\n          name={getNodeName(node)}\n          onClick={toggleCard}\n          open={expandedCards.includes(getNodeName(node))}\n          sysInfoData={ignoreInfoFields(node)}\n        />\n      ))}\n      <li className=\"note system-info-health-title\">{translate('system.search_nodes_title')}</li>\n      {sortBy(getSearchNodes(sysInfoData), getNodeName).map((node: T.SysInfoSearchNode) => (\n        <HealthCard\n          key={getNodeName(node)}\n          name={getNodeName(node)}\n          onClick={toggleCard}\n          open={expandedCards.includes(getNodeName(node))}\n          sysInfoData={ignoreInfoFields(node)}\n        />\n      ))}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setLogLevel } from '../../../api/system';\nimport { LOGS_LEVELS } from '../utils';\n\ninterface Props {\n  infoMsg: string;\n  logLevel: string;\n  onChange: (level: string) => void;\n  onClose: () => void;\n}\n\ninterface State {\n  newLevel: string;\n  updating: boolean;\n}\n\nexport default class ChangeLogLevelForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { newLevel: props.logLevel, updating: false };\n  }\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const { newLevel } = this.state;\n    if (!this.state.updating) {\n      this.setState({ updating: true });\n      setLogLevel(newLevel).then(\n        () => this.props.onChange(newLevel),\n        () => this.setState({ updating: false })\n      );\n    }\n  };\n\n  handleLevelChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    this.setState({ newLevel: event.currentTarget.value });\n\n  render() {\n    const { updating, newLevel } = this.state;\n    const header = translate('system.set_log_level');\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form id=\"set-log-level-form\" onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n          <div className=\"modal-body\">\n            {LOGS_LEVELS.map(level => (\n              <p className=\"spacer-bottom\" key={level}>\n                <input\n                  checked={level === newLevel}\n                  className=\"spacer-right text-middle\"\n                  id={`loglevel-${level}`}\n                  name=\"system.log_levels\"\n                  onChange={this.handleLevelChange}\n                  type=\"radio\"\n                  value={level}\n                />\n                <label className=\"text-middle\" htmlFor={`loglevel-${level}`}>\n                  {level}\n                </label>\n              </p>\n            ))}\n            <Alert className=\"spacer-top\" variant=\"info\">\n              {this.props.infoMsg}\n            </Alert>\n            {newLevel !== 'INFO' && (\n              <Alert className=\"spacer-top\" variant=\"warning\">\n                {translate('system.log_level.warning')}\n              </Alert>\n            )}\n          </div>\n          <div className=\"modal-foot\">\n            {updating && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={updating} id=\"set-log-level-submit\">\n              {translate('save')}\n            </SubmitButton>\n            <ResetButtonLink id=\"set-log-level-cancel\" onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </div>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport AdminContext from '../../../app/components/AdminContext';\nimport RestartButton from '../../../components/common/RestartButton';\nimport { getFileNameSuffix } from '../utils';\nimport ChangeLogLevelForm from './ChangeLogLevelForm';\n\ninterface Props {\n  canDownloadLogs: boolean;\n  canRestart: boolean;\n  cluster: boolean;\n  logLevel: string;\n  onLogLevelChange: () => void;\n  serverId?: string;\n}\n\ninterface State {\n  logLevel: string;\n  openLogsLevelForm: boolean;\n}\n\nexport default class PageActions extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      logLevel: props.logLevel,\n      openLogsLevelForm: false\n    };\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.logLevel !== this.state.logLevel) {\n      this.setState({ logLevel: nextProps.logLevel });\n    }\n  }\n\n  handleLogsLevelOpen = () => {\n    this.setState({ openLogsLevelForm: true });\n  };\n\n  handleLogsLevelChange = (logLevel: string) => {\n    this.setState({ logLevel });\n    this.props.onLogLevelChange();\n    this.handleLogsLevelClose();\n  };\n\n  handleLogsLevelClose = () => {\n    this.setState({ openLogsLevelForm: false });\n  };\n\n  removeElementFocus = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.currentTarget.blur();\n  };\n\n  render() {\n    const infoUrl = getBaseUrl() + '/api/system/info';\n    const logsUrl = getBaseUrl() + '/api/system/logs';\n    return (\n      <div className=\"page-actions\">\n        <span>\n          <span className=\"text-middle\">\n            {translate('system.logs_level')}\n            {':'}\n            <strong className=\"little-spacer-left\">{this.state.logLevel}</strong>\n          </span>\n          <EditButton\n            className=\"spacer-left button-small\"\n            id=\"edit-logs-level-button\"\n            onClick={this.handleLogsLevelOpen}\n          />\n        </span>\n        {this.props.canDownloadLogs && (\n          <Dropdown\n            className=\"display-inline-block spacer-left\"\n            overlay={\n              <ul className=\"menu\">\n                <li>\n                  <a\n                    download=\"sonarqube_app.log\"\n                    href={logsUrl + '?process=app'}\n                    id=\"logs-link\"\n                    rel=\"noopener noreferrer\"\n                    target=\"_blank\">\n                    Main Process\n                  </a>\n                </li>\n                <li>\n                  <a\n                    download=\"sonarqube_ce.log\"\n                    href={logsUrl + '?process=ce'}\n                    id=\"ce-logs-link\"\n                    rel=\"noopener noreferrer\"\n                    target=\"_blank\">\n                    Compute Engine\n                  </a>\n                </li>\n                <li>\n                  <a\n                    download=\"sonarqube_es.log\"\n                    href={logsUrl + '?process=es'}\n                    id=\"es-logs-link\"\n                    rel=\"noopener noreferrer\"\n                    target=\"_blank\">\n                    Search Engine\n                  </a>\n                </li>\n                <li>\n                  <a\n                    download=\"sonarqube_web.log\"\n                    href={logsUrl + '?process=web'}\n                    id=\"web-logs-link\"\n                    rel=\"noopener noreferrer\"\n                    target=\"_blank\">\n                    Web Server\n                  </a>\n                </li>\n              </ul>\n            }>\n            <Button>\n              {translate('system.download_logs')}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Dropdown>\n        )}\n        <a\n          className=\"button spacer-left\"\n          download={`sonarqube-support-info-${getFileNameSuffix(this.props.serverId)}.json`}\n          href={infoUrl}\n          id=\"download-link\"\n          onClick={this.removeElementFocus}\n          rel=\"noopener noreferrer\"\n          target=\"_blank\">\n          {translate('system.download_system_info')}\n        </a>\n        {this.props.canRestart && (\n          <AdminContext.Consumer>\n            {({ fetchSystemStatus, systemStatus }) => (\n              <RestartButton\n                className=\"spacer-left\"\n                fetchSystemStatus={fetchSystemStatus}\n                systemStatus={systemStatus}\n              />\n            )}\n          </AdminContext.Consumer>\n        )}\n        {this.state.openLogsLevelForm && (\n          <ChangeLogLevelForm\n            infoMsg={translate(\n              this.props.cluster ? 'system.cluster_log_level.info' : 'system.log_level.info'\n            )}\n            logLevel={this.state.logLevel}\n            onChange={this.handleLogsLevelChange}\n            onClose={this.handleLogsLevelClose}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { toShortNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport PageActions from './PageActions';\n\nexport interface Props {\n  isCluster: boolean;\n  loading: boolean;\n  logLevel: string;\n  onLogLevelChange: () => void;\n  serverId?: string;\n  showActions: boolean;\n  version?: string;\n}\n\nexport default function PageHeader(props: Props) {\n  const { isCluster, loading, logLevel, serverId, showActions, version } = props;\n  return (\n    <header className=\"page-header\">\n      <h1 className=\"page-title\">{translate('system_info.page')}</h1>\n      {showActions && (\n        <PageActions\n          canDownloadLogs={!isCluster}\n          canRestart={!isCluster}\n          cluster={isCluster}\n          logLevel={logLevel}\n          onLogLevelChange={props.onLogLevelChange}\n          serverId={serverId}\n        />\n      )}\n      {loading && (\n        <div className=\"page-actions\">\n          <i className=\"spinner\" />\n        </div>\n      )}\n      {serverId && version && (\n        <div className=\"system-info-copy-paste-id-info boxed-group display-flex-center\">\n          <div className=\"flex-1\">\n            <table className=\"width-100\">\n              <tbody>\n                <tr>\n                  <th>\n                    <strong>{translate('system.server_id')}</strong>\n                  </th>\n                  <td>{serverId}</td>\n                </tr>\n                <tr>\n                  <th>\n                    <strong>{translate('system.version')}</strong>\n                  </th>\n                  <td>{version}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <ClipboardButton\n            className=\"flex-0\"\n            copyValue={`SonarQube ID information\nServer ID: ${serverId}\nVersion: ${version}\nDate: ${toShortNotSoISOString(Date.now())}\n`}>\n            {translate('system.copy_id_info')}\n          </ClipboardButton>\n        </div>\n      )}\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport {\n  getHealth,\n  getHealthCauses,\n  getStandaloneMainSections,\n  getStandaloneSecondarySections,\n  ignoreInfoFields\n} from '../utils';\nimport HealthCard from './info-items/HealthCard';\n\ninterface Props {\n  expandedCards: string[];\n  sysInfoData: T.SysInfoStandalone;\n  toggleCard: (toggledCard: string) => void;\n}\n\nexport default function StandAloneSysInfos({ expandedCards, sysInfoData, toggleCard }: Props) {\n  const mainCardName = 'System';\n  return (\n    <>\n      <HealthCard\n        biggerHealth={true}\n        health={getHealth(sysInfoData)}\n        healthCauses={getHealthCauses(sysInfoData)}\n        name={mainCardName}\n        onClick={toggleCard}\n        open={expandedCards.includes(mainCardName)}\n        sysInfoData={ignoreInfoFields(getStandaloneMainSections(sysInfoData))}\n      />\n      {map(getStandaloneSecondarySections(sysInfoData), (section, name) => (\n        <HealthCard\n          key={name}\n          name={name}\n          onClick={toggleCard}\n          open={expandedCards.includes(name)}\n          sysInfoData={ignoreInfoFields(section)}\n        />\n      ))}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport DateFormatter from 'sonar-ui-common/components/intl/DateFormatter';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { SystemUpgrade } from '../../../../types/system';\n\ninterface Props {\n  className?: string;\n  upgrades: SystemUpgrade[];\n}\n\ninterface State {\n  showMore: boolean;\n}\n\nexport default class SystemUpgradeIntermediate extends React.PureComponent<Props, State> {\n  state: State = { showMore: false };\n\n  toggleIntermediatVersions = () => {\n    this.setState(state => ({ showMore: !state.showMore }));\n  };\n\n  render() {\n    const { showMore } = this.state;\n    const { upgrades } = this.props;\n    if (upgrades.length <= 0) {\n      return null;\n    }\n\n    return (\n      <div className={this.props.className}>\n        <ButtonLink className=\"little-spacer-bottom\" onClick={this.toggleIntermediatVersions}>\n          {showMore\n            ? translate('system.hide_intermediate_versions')\n            : translate('system.show_intermediate_versions')}\n          <DropdownIcon className=\"little-spacer-left\" turned={showMore} />\n        </ButtonLink>\n        {showMore &&\n          upgrades.map(upgrade => (\n            <div className=\"note system-upgrade-intermediate\" key={upgrade.version}>\n              {upgrade.releaseDate && (\n                <DateFormatter date={upgrade.releaseDate} long={true}>\n                  {formattedDate => (\n                    <p>\n                      <b className=\"little-spacer-right\">SonarQube {upgrade.version}</b>\n                      {formattedDate}\n                      {upgrade.changeLogUrl && (\n                        <a\n                          className=\"spacer-left\"\n                          href={upgrade.changeLogUrl}\n                          rel=\"noopener noreferrer\"\n                          target=\"_blank\">\n                          {translate('system.release_notes')}\n                        </a>\n                      )}\n                    </p>\n                  )}\n                </DateFormatter>\n              )}\n              {upgrade.description && <p className=\"little-spacer-top\">{upgrade.description}</p>}\n            </div>\n          ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DateFormatter from 'sonar-ui-common/components/intl/DateFormatter';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport {\n  getEdition,\n  getEditionDownloadFilename,\n  getEditionDownloadUrl\n} from '../../../../helpers/editions';\nimport { EditionKey } from '../../../../types/editions';\nimport { SystemUpgrade } from '../../../../types/system';\nimport SystemUpgradeIntermediate from './SystemUpgradeIntermediate';\n\ninterface Props {\n  edition: EditionKey | undefined;\n  type: string;\n  systemUpgrades: SystemUpgrade[];\n}\n\nexport default function SystemUpgradeItem(props: Props) {\n  const { edition, type, systemUpgrades } = props;\n  const lastUpgrade = systemUpgrades[0];\n  const downloadUrl = getEditionDownloadUrl(\n    getEdition(edition || EditionKey.community),\n    lastUpgrade\n  );\n\n  return (\n    <div className=\"system-upgrade-version\">\n      <h3 className=\"h1 spacer-bottom\">\n        <strong>{type}</strong>\n      </h3>\n      <p>\n        <FormattedMessage\n          defaultMessage={translate('system.version_is_availble')}\n          id=\"system.version_is_availble\"\n          values={{ version: <b>SonarQube {lastUpgrade.version}</b> }}\n        />\n      </p>\n      <p className=\"spacer-top\">{lastUpgrade.description}</p>\n      <div className=\"big-spacer-top\">\n        {lastUpgrade.releaseDate && (\n          <DateFormatter date={lastUpgrade.releaseDate} long={true}>\n            {formattedDate => (\n              <span>{translateWithParameters('system.released_x', formattedDate)}</span>\n            )}\n          </DateFormatter>\n        )}\n        {lastUpgrade.changeLogUrl && (\n          <a\n            className=\"spacer-left\"\n            href={lastUpgrade.changeLogUrl}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('system.release_notes')}\n          </a>\n        )}\n      </div>\n      <SystemUpgradeIntermediate className=\"spacer-top\" upgrades={systemUpgrades.slice(1)} />\n      <div className=\"big-spacer-top\">\n        <a\n          className=\"button\"\n          download={getEditionDownloadFilename(downloadUrl)}\n          href={downloadUrl}\n          rel=\"noopener noreferrer\"\n          target=\"_blank\">\n          {translateWithParameters('system.download_x', lastUpgrade.version)}\n        </a>\n        <a\n          className=\"spacer-left\"\n          href=\"https://redirect.sonarsource.com/doc/upgrading.html\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\">\n          {translate('system.how_to_upgrade')}\n        </a>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { withAppState } from '../../../../components/hoc/withAppState';\nimport { EditionKey } from '../../../../types/editions';\nimport { SystemUpgrade } from '../../../../types/system';\nimport SystemUpgradeItem from './SystemUpgradeItem';\n\ninterface Props {\n  appState: Pick<T.AppState, 'edition'>;\n  onClose: () => void;\n  systemUpgrades: SystemUpgrade[][];\n}\n\ninterface State {\n  upgrading: boolean;\n}\n\nexport class SystemUpgradeForm extends React.PureComponent<Props, State> {\n  state: State = { upgrading: false };\n\n  render() {\n    const { upgrading } = this.state;\n    const { appState, systemUpgrades } = this.props;\n    const header = translate('system.system_upgrade');\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <div className=\"modal-head\">\n          <h2>{header}</h2>\n        </div>\n        <div className=\"modal-body\">\n          {systemUpgrades.map((upgrades, idx) => (\n            <SystemUpgradeItem\n              edition={\n                appState.edition as EditionKey /* TODO: Fix once AppState is no longer ambiant. */\n              }\n              key={upgrades[upgrades.length - 1].version}\n              systemUpgrades={upgrades}\n              type={\n                idx === 0 ? translate('system.latest_version') : translate('system.lts_version')\n              }\n            />\n          ))}\n        </div>\n        <div className=\"modal-foot\">\n          {upgrading && <i className=\"spinner spacer-right\" />}\n          <a\n            className=\"pull-left\"\n            href=\"https://www.sonarqube.org/downloads/\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('system.see_sonarqube_downloads')}\n          </a>\n          <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport default withAppState(SystemUpgradeForm);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getSystemUpgrades } from '../../../../api/system';\nimport { SystemUpgrade } from '../../../../types/system';\nimport { groupUpgrades, sortUpgrades } from '../../utils';\nimport SystemUpgradeForm from './SystemUpgradeForm';\n\ninterface State {\n  systemUpgrades: SystemUpgrade[][];\n  openSystemUpgradeForm: boolean;\n}\n\nexport default class SystemUpgradeNotif extends React.PureComponent<{}, State> {\n  mounted = false;\n  state: State = { openSystemUpgradeForm: false, systemUpgrades: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchSystemUpgrade();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchSystemUpgrade = () =>\n    getSystemUpgrades().then(\n      ({ upgrades }) => {\n        if (this.mounted) {\n          this.setState({ systemUpgrades: groupUpgrades(sortUpgrades(upgrades)) });\n        }\n      },\n      () => {}\n    );\n\n  handleOpenSystemUpgradeForm = () => {\n    this.setState({ openSystemUpgradeForm: true });\n  };\n\n  handleCloseSystemUpgradeForm = () => {\n    this.setState({ openSystemUpgradeForm: false });\n  };\n\n  render() {\n    const { systemUpgrades } = this.state;\n\n    if (systemUpgrades.length <= 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"page-notifs\">\n        <Alert variant=\"info\">\n          {translate('system.new_version_available')}\n          <Button className=\"spacer-left\" onClick={this.handleOpenSystemUpgradeForm}>\n            {translate('learn_more')}\n          </Button>\n        </Alert>\n        {this.state.openSystemUpgradeForm && (\n          <SystemUpgradeForm\n            onClose={this.handleCloseSystemUpgradeForm}\n            systemUpgrades={systemUpgrades}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getSystemInfo } from '../../../api/system';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport '../styles.css';\nimport {\n  getClusterVersion,\n  getServerId,\n  getSystemLogsLevel,\n  getVersion,\n  isCluster,\n  parseQuery,\n  Query,\n  serializeQuery\n} from '../utils';\nimport ClusterSysInfos from './ClusterSysInfos';\nimport PageHeader from './PageHeader';\nimport StandaloneSysInfos from './StandaloneSysInfos';\nimport SystemUpgradeNotif from './system-upgrade/SystemUpgradeNotif';\n\ntype Props = WithRouterProps;\n\ninterface State {\n  loading: boolean;\n  sysInfoData?: T.SysInfoCluster | T.SysInfoStandalone;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchSysInfo();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchSysInfo = () => {\n    this.setState({ loading: true });\n    getSystemInfo().then(\n      sysInfoData => {\n        if (this.mounted) {\n          this.setState({ loading: false, sysInfoData });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  toggleSysInfoCards = (toggledCard: string) => {\n    const query = parseQuery(this.props.location.query);\n    let expandedCards;\n    if (query.expandedCards.includes(toggledCard)) {\n      expandedCards = query.expandedCards.filter(card => card !== toggledCard);\n    } else {\n      expandedCards = query.expandedCards.concat(toggledCard);\n    }\n    this.updateQuery({ expandedCards });\n  };\n\n  updateQuery = (newQuery: Query) => {\n    const query = serializeQuery({ ...parseQuery(this.props.location.query), ...newQuery });\n    this.props.router.replace({ pathname: this.props.location.pathname, query });\n  };\n\n  renderSysInfo() {\n    const { sysInfoData } = this.state;\n    if (!sysInfoData) {\n      return null;\n    }\n\n    const query = parseQuery(this.props.location.query);\n    if (isCluster(sysInfoData)) {\n      return (\n        <ClusterSysInfos\n          expandedCards={query.expandedCards}\n          sysInfoData={sysInfoData}\n          toggleCard={this.toggleSysInfoCards}\n        />\n      );\n    }\n    return (\n      <StandaloneSysInfos\n        expandedCards={query.expandedCards}\n        sysInfoData={sysInfoData}\n        toggleCard={this.toggleSysInfoCards}\n      />\n    );\n  }\n\n  render() {\n    const { loading, sysInfoData } = this.state;\n    return (\n      <div className=\"page page-limited\">\n        <Suggestions suggestions=\"system_info\" />\n        <Helmet defer={false} title={translate('system_info.page')} />\n        <SystemUpgradeNotif />\n        {sysInfoData && (\n          <PageHeader\n            isCluster={isCluster(sysInfoData)}\n            loading={loading}\n            logLevel={getSystemLogsLevel(sysInfoData)}\n            onLogLevelChange={this.fetchSysInfo}\n            serverId={getServerId(sysInfoData)}\n            showActions={sysInfoData !== undefined}\n            version={\n              isCluster(sysInfoData) ? getClusterVersion(sysInfoData) : getVersion(sysInfoData)\n            }\n          />\n        )}\n        {this.renderSysInfo()}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Modal_1 = require(\"./Modal\");\nvar SimpleModal = (function (_super) {\n    __extends(SimpleModal, _super);\n    function SimpleModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { submitting: false };\n        _this.stopSubmitting = function () {\n            if (_this.mounted) {\n                _this.setState({ submitting: false });\n            }\n        };\n        _this.handleCloseClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.props.onClose();\n        };\n        _this.handleFormSubmit = function (event) {\n            event.preventDefault();\n            _this.submit();\n        };\n        _this.handleSubmitClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.submit();\n        };\n        _this.submit = function () {\n            var result = _this.props.onSubmit();\n            if (result) {\n                _this.setState({ submitting: true });\n                result.then(_this.stopSubmitting, _this.stopSubmitting);\n            }\n        };\n        return _this;\n    }\n    SimpleModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SimpleModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    SimpleModal.prototype.render = function () {\n        var _a = this.props, children = _a.children, header = _a.header, onClose = _a.onClose, onSubmit = _a.onSubmit, modalProps = __rest(_a, [\"children\", \"header\", \"onClose\", \"onSubmit\"]);\n        return (React.createElement(Modal_1.default, __assign({ contentLabel: header, onRequestClose: onClose }, modalProps), children({\n            onCloseClick: this.handleCloseClick,\n            onFormSubmit: this.handleFormSubmit,\n            onSubmitClick: this.handleSubmitClick,\n            submitting: this.state.submitting,\n        })));\n    };\n    return SimpleModal;\n}(React.Component));\nexports.default = SimpleModal;\n//# sourceMappingURL=SimpleModal.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nvar buttons_1 = require(\"./buttons\");\nvar ClickEventBoundary_1 = require(\"./ClickEventBoundary\");\nvar SimpleModal_1 = require(\"./SimpleModal\");\nvar ConfirmModal = (function (_super) {\n    __extends(ConfirmModal, _super);\n    function ConfirmModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.handleSubmit = function () {\n            var result = _this.props.onConfirm(_this.props.confirmData);\n            if (result) {\n                return result.then(_this.props.onClose, function () { });\n            }\n            else {\n                _this.props.onClose();\n                return undefined;\n            }\n        };\n        _this.renderModalContent = function (_a) {\n            var onCloseClick = _a.onCloseClick, onFormSubmit = _a.onFormSubmit, submitting = _a.submitting;\n            var _b = _this.props, children = _b.children, confirmButtonText = _b.confirmButtonText, confirmDisable = _b.confirmDisable, header = _b.header, headerDescription = _b.headerDescription, isDestructive = _b.isDestructive, _c = _b.cancelButtonText, cancelButtonText = _c === void 0 ? l10n_1.translate('cancel') : _c;\n            return (React.createElement(ClickEventBoundary_1.default, null,\n                React.createElement(\"form\", { onSubmit: onFormSubmit },\n                    React.createElement(\"header\", { className: \"modal-head\" },\n                        React.createElement(\"h2\", null, header),\n                        headerDescription),\n                    React.createElement(\"div\", { className: \"modal-body\" }, children),\n                    React.createElement(\"footer\", { className: \"modal-foot\" },\n                        React.createElement(DeferredSpinner_1.default, { className: \"spacer-right\", loading: submitting }),\n                        React.createElement(buttons_1.SubmitButton, { autoFocus: true, className: isDestructive ? 'button-red' : undefined, disabled: submitting || confirmDisable }, confirmButtonText),\n                        React.createElement(buttons_1.ResetButtonLink, { disabled: submitting, onClick: onCloseClick }, cancelButtonText)))));\n        };\n        return _this;\n    }\n    ConfirmModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ConfirmModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ConfirmModal.prototype.render = function () {\n        var _a = this.props, header = _a.header, onClose = _a.onClose, noBackdrop = _a.noBackdrop, size = _a.size;\n        var modalProps = { header: header, onClose: onClose, noBackdrop: noBackdrop, size: size };\n        return (React.createElement(SimpleModal_1.default, __assign({ onSubmit: this.handleSubmit }, modalProps), this.renderModalContent));\n    };\n    return ConfirmModal;\n}(React.PureComponent));\nexports.default = ConfirmModal;\n//# sourceMappingURL=ConfirmModal.js.map","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\nexports.longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\nfunction DateFormatter(_a) {\n    var children = _a.children, date = _a.date, long = _a.long;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, (long ? exports.longFormatterOption : exports.formatterOption)), children));\n}\nexports.default = DateFormatter;\n//# sourceMappingURL=DateFormatter.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ConfirmModal_1 = require(\"./ConfirmModal\");\nvar ModalButton_1 = require(\"./ModalButton\");\nvar ConfirmButton = (function (_super) {\n    __extends(ConfirmButton, _super);\n    function ConfirmButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderConfirmModal = function (_a) {\n            var onClose = _a.onClose;\n            var _b = _this.props, children = _b.children, modalBody = _b.modalBody, modalHeader = _b.modalHeader, modalHeaderDescription = _b.modalHeaderDescription, confirmModalProps = __rest(_b, [\"children\", \"modalBody\", \"modalHeader\", \"modalHeaderDescription\"]);\n            return (React.createElement(ConfirmModal_1.default, __assign({ header: modalHeader, headerDescription: modalHeaderDescription, onClose: onClose }, confirmModalProps), modalBody));\n        };\n        return _this;\n    }\n    ConfirmButton.prototype.render = function () {\n        return React.createElement(ModalButton_1.default, { modal: this.renderConfirmModal }, this.props.children);\n    };\n    return ConfirmButton;\n}(React.PureComponent));\nexports.default = ConfirmButton;\n//# sourceMappingURL=ConfirmButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ModalButton = (function (_super) {\n    __extends(ModalButton, _super);\n    function ModalButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { modal: false };\n        _this.handleButtonClick = function () {\n            _this.setState({ modal: true });\n        };\n        _this.handleFormSubmit = function (event) {\n            if (event) {\n                event.preventDefault();\n            }\n            _this.setState({ modal: true });\n        };\n        _this.handleCloseModal = function () {\n            if (_this.mounted) {\n                _this.setState({ modal: false });\n            }\n        };\n        return _this;\n    }\n    ModalButton.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ModalButton.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ModalButton.prototype.render = function () {\n        return (React.createElement(React.Fragment, null,\n            this.props.children({\n                onClick: this.handleButtonClick,\n                onFormSubmit: this.handleFormSubmit,\n            }),\n            this.state.modal && this.props.modal({ onClose: this.handleCloseModal })));\n    };\n    return ModalButton;\n}(React.PureComponent));\nexports.default = ModalButton;\n//# sourceMappingURL=ModalButton.js.map","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ChevronDownIcon_1 = require(\"./ChevronDownIcon\");\nvar ChevronRightIcon_1 = require(\"./ChevronRightIcon\");\nfunction OpenCloseIcon(_a) {\n    var open = _a.open, iconProps = __rest(_a, [\"open\"]);\n    return open ? React.createElement(ChevronDownIcon_1.default, __assign({}, iconProps)) : React.createElement(ChevronRightIcon_1.default, __assign({}, iconProps));\n}\nexports.default = OpenCloseIcon;\n//# sourceMappingURL=OpenCloseIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, requestTryAndRepeatUntil } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { SystemUpgrade } from '../types/system';\n\nexport function setLogLevel(level: string): Promise<void | Response> {\n  return post('/api/system/change_log_level', { level }).catch(throwGlobalError);\n}\n\nexport function getSystemInfo(): Promise<T.SysInfoCluster | T.SysInfoStandalone> {\n  return getJSON('/api/system/info').catch(throwGlobalError);\n}\n\nexport function getSystemStatus(): Promise<{ id: string; version: string; status: T.SysStatus }> {\n  return getJSON('/api/system/status');\n}\n\nexport function getSystemUpgrades(): Promise<{\n  upgrades: SystemUpgrade[];\n  updateCenterRefresh: string;\n}> {\n  return getJSON('/api/system/upgrades');\n}\n\nexport function getMigrationStatus(): Promise<{\n  message?: string;\n  startedAt?: string;\n  state: string;\n}> {\n  return getJSON('/api/system/db_migration_status');\n}\n\nexport function migrateDatabase(): Promise<{\n  message?: string;\n  startedAt?: string;\n  state: string;\n}> {\n  return postJSON('/api/system/migrate_db');\n}\n\nexport function restart(): Promise<void | Response> {\n  return post('/api/system/restart').catch(throwGlobalError);\n}\n\nexport function waitSystemUPStatus(): Promise<{\n  id: string;\n  version: string;\n  status: T.SysStatus;\n}> {\n  return requestTryAndRepeatUntil(\n    getSystemStatus,\n    { max: -1, slowThreshold: -15 },\n    ({ status }) => status === 'UP'\n  );\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar OpenCloseIcon_1 = require(\"../icons/OpenCloseIcon\");\nvar BoxedGroupAccordion = (function (_super) {\n    __extends(BoxedGroupAccordion, _super);\n    function BoxedGroupAccordion() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { hoveringInner: false };\n        _this.handleClick = function () {\n            _this.props.onClick(_this.props.data);\n        };\n        _this.onDetailEnter = function () {\n            _this.setState({ hoveringInner: true });\n        };\n        _this.onDetailLeave = function () {\n            _this.setState({ hoveringInner: false });\n        };\n        return _this;\n    }\n    BoxedGroupAccordion.prototype.render = function () {\n        var _a = this.props, className = _a.className, open = _a.open, renderHeader = _a.renderHeader, title = _a.title;\n        return (React.createElement(\"div\", { className: classNames('boxed-group boxed-group-accordion', className, {\n                'no-hover': this.state.hoveringInner,\n            }) },\n            React.createElement(\"div\", { className: \"boxed-group-header\", onClick: this.handleClick, role: \"listitem\" },\n                React.createElement(\"span\", { className: \"boxed-group-accordion-title\" },\n                    React.createElement(OpenCloseIcon_1.default, { className: \"little-spacer-right\", open: open }),\n                    title),\n                renderHeader && renderHeader()),\n            open && (React.createElement(\"div\", { className: \"boxed-group-inner\", onMouseEnter: this.onDetailEnter, onMouseLeave: this.onDetailLeave }, this.props.children))));\n    };\n    return BoxedGroupAccordion;\n}(React.PureComponent));\nexports.default = BoxedGroupAccordion;\n//# sourceMappingURL=BoxedGroupAccordion.js.map"],"sourceRoot":""}