{"version":3,"sources":["webpack:///./src/main/js/components/workspace/WorkspaceRuleTitle.tsx","webpack:///./src/main/js/components/workspace/WorkspaceHeader.tsx","webpack:///./src/main/js/apps/coding-rules/components/RemoveExtendedDescriptionModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsDescription.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsTagsPopup.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsMeta.tsx","webpack:///./src/main/js/components/workspace/WorkspaceRuleDetails.tsx","webpack:///./src/main/js/components/workspace/WorkspaceRuleViewer.tsx","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./src/main/js/helpers/markdown.js","webpack:///./src/main/js/components/tags/TagsList.css?d861","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/components/common/MarkdownTips.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/apps/coding-rules/components/SimilarRulesFilter.tsx","webpack:///./src/main/js/apps/coding-rules/styles.css?8cf5","webpack:///./src/main/js/apps/coding-rules/styles.css","webpack:///../sonar-docs/src/tooltips/rules/custom-rules.md"],"names":["WorkspaceRuleTitle","limited","rule","name","className","fill","blue","WorkspaceHeader","handleDrag","_event","data","this","props","onResize","deltaY","children","offsetParent","document","body","onDrag","WorkspaceHeaderButton","icon","onClick","onCollapse","tooltip","maximized","onMinimize","onMaximize","onClose","Icon","color","undefined","RemoveExtendedDescriptionModal","onCancel","onSubmit","header","onCloseClick","onFormSubmit","submitting","disabled","mounted","state","description","descriptionForm","removeDescriptionModal","handleDescriptionChange","event","setState","currentTarget","value","handleCancelClick","handleSaveClick","updateDescription","handleRemoveDescriptionClick","handleCancelRemoving","handleConfirmRemoving","text","key","ruleDetails","markdown_note","organization","then","onChange","handleExtendDescriptionClick","mdNote","renderDescription","id","htmlNote","dangerouslySetInnerHTML","__html","canWrite","renderForm","colSpan","autoFocus","rows","MarkdownTips","hasDescription","isExternal","type","htmlDesc","templateKey","searchResult","onSearch","query","q","ps","Math","min","tags","length","sysTags","onSelect","tag","setTags","onUnselect","availableTags","TagsSelector","listSize","selectedTags","renderType","overlay","renderSeverity","SeverityHelper","severity","renderStatus","status","renderTags","allTags","closeOnClick","closeOnClickOutside","onTagsChange","overlayPlacement","BottomLeft","TagsList","allowUpdate","renderCreationDate","date","createdAt","renderRepository","referencedRepositories","repository","repo","langName","renderTemplate","isTemplate","renderParentTemplate","to","DocTooltip","doc","renderRemediation","debtRemFnType","debtRemFnOffset","debtRemFnCoeff","effortToFixDescription","renderScope","scope","renderExternalBadge","engine","replace","RegExp","displayedKey","startsWith","substr","hasTypeData","renderKey","title","hideSimilarRulesFilter","SimilarRulesFilter","onFilterChange","loading","fetchRuleDetails","Promise","all","organizationKey","ruleKey","repositories","onLoad","noOp","prevProps","organizationsEnabled","appState","RuleDetailsMeta","RuleDetailsDescription","withAppState","handleClose","handleLoaded","setTimeout","style","height","DocMarkdownBlock","default","content","childProps","overlayProps","isTooltip","getFrontMatterPosition","lines","firstLine","lastLine","i","trim","parseFrontMatter","tokens","split","map","x","cutConditionalContent","beginning","ending","newContent","start","indexOf","end","substring","console","error","Error","module","exports","getFrontMatter","position","slice","separateFrontMatter","frontmatter","join","filterContent","regexBase","isSonarCloud","getInstance","contentWithoutStatic","api","__esModule","options","exported","locals","MultiSelectOption","active","custom","element","selected","onHover","label","renderLabel","onFocus","onMouseOver","checked","Boolean","onCheck","onSelectChange","super","handleSelectChange","item","onSelectItem","onUnselectItem","handleSearchChange","onSearchQuery","validateSearchInput","handleElementHover","prevState","activeIdx","getAllElements","handleKeyboard","evt","keyCode","stopPropagation","preventDefault","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","unselectedElements","setElementActive","idx","allElements","container","addEventListener","nextProps","totalElements","searchInput","focus","removeEventListener","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","ref","div","placeholder","defaultProps","filter","includes","window","open","href","handleClick","___CSS_LOADER_API_IMPORT___","push","validateTag","toLowerCase","handleLanguageClick","blur","lang","languages","handleTypeClick","types","handleSeverityClick","severities","handleTagClick","dataset"],"mappings":"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","file":"js/306.m.93c82ec4.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LightBulbIcon from 'sonar-ui-common/components/icons/LightBulbIcon';\nimport { colors } from '../../app/theme';\nimport { RuleDescriptor } from './context';\n\ninterface Props {\n  limited?: boolean;\n  rule: RuleDescriptor;\n}\n\nexport default function WorkspaceRuleTitle({ limited, rule }: Props) {\n  const { name = '—' } = rule;\n  return (\n    <>\n      <LightBulbIcon className=\"little-spacer-right\" fill={colors.blue} />\n      {limited ? <span className=\"text-limited\">{name}</span> : name}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DraggableCore, DraggableData } from 'react-draggable';\nimport { ButtonIcon } from 'sonar-ui-common/components/controls/buttons';\nimport ClearIcon from 'sonar-ui-common/components/icons/ClearIcon';\nimport CollapseIcon from 'sonar-ui-common/components/icons/CollapseIcon';\nimport ExpandIcon from 'sonar-ui-common/components/icons/ExpandIcon';\nimport { IconProps } from 'sonar-ui-common/components/icons/Icon';\nimport MinimizeIcon from 'sonar-ui-common/components/icons/MinimizeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface Props {\n  children: React.ReactNode;\n  maximized?: boolean;\n  onClose: () => void;\n  onCollapse: () => void;\n  onMaximize: () => void;\n  onMinimize: () => void;\n  onResize: (deltaY: number) => void;\n}\n\nexport default class WorkspaceHeader extends React.PureComponent<Props> {\n  handleDrag = (_event: MouseEvent, data: DraggableData) => {\n    this.props.onResize(data.deltaY);\n  };\n\n  render() {\n    return (\n      <header className=\"workspace-viewer-header\">\n        <h6 className=\"workspace-viewer-name\">{this.props.children}</h6>\n\n        <DraggableCore offsetParent={document.body} onDrag={this.handleDrag}>\n          <div className=\"workspace-viewer-resize js-resize\" />\n        </DraggableCore>\n\n        <div className=\"workspace-viewer-actions\">\n          <WorkspaceHeaderButton\n            icon={MinimizeIcon}\n            onClick={this.props.onCollapse}\n            tooltip=\"workspace.minimize\"\n          />\n\n          {this.props.maximized ? (\n            <WorkspaceHeaderButton\n              icon={CollapseIcon}\n              onClick={this.props.onMinimize}\n              tooltip=\"workspace.normal_size\"\n            />\n          ) : (\n            <WorkspaceHeaderButton\n              icon={ExpandIcon}\n              onClick={this.props.onMaximize}\n              tooltip=\"workspace.full_window\"\n            />\n          )}\n\n          <WorkspaceHeaderButton\n            icon={ClearIcon}\n            onClick={this.props.onClose}\n            tooltip=\"workspace.close\"\n          />\n        </div>\n      </header>\n    );\n  }\n}\n\ninterface WorkspaceHeaderButtonProps {\n  icon: React.SFC<IconProps>;\n  onClick: () => void;\n  tooltip: string;\n}\n\nfunction WorkspaceHeaderButton({ icon: Icon, onClick, tooltip }: WorkspaceHeaderButtonProps) {\n  return (\n    <ButtonIcon\n      className=\"workspace-header-icon\"\n      color=\"#fff\"\n      onClick={onClick}\n      tooltip={translate(tooltip)}>\n      <Icon fill={undefined} />\n    </ButtonIcon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onCancel: () => void;\n  onSubmit: () => void;\n}\n\nexport default function RemoveExtendedDescriptionModal({ onCancel, onSubmit }: Props) {\n  const header = translate('coding_rules.remove_extended_description');\n  return (\n    <SimpleModal header={header} onClose={onCancel} onSubmit={onSubmit}>\n      {({ onCloseClick, onFormSubmit, submitting }) => (\n        <form onSubmit={onFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {translate('coding_rules.remove_extended_description.confirm')}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton className=\"button-red\" disabled={submitting}>\n              {translate('remove')}\n            </SubmitButton>\n            <ResetButtonLink onClick={onCloseClick}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      )}\n    </SimpleModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sanitize } from 'dompurify';\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { updateRule } from '../../../api/rules';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport RemoveExtendedDescriptionModal from './RemoveExtendedDescriptionModal';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  onChange: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  description: string;\n  descriptionForm: boolean;\n  removeDescriptionModal: boolean;\n  submitting: boolean;\n}\n\nexport default class RuleDetailsDescription extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    description: '',\n    descriptionForm: false,\n    submitting: false,\n    removeDescriptionModal: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleCancelClick = () => {\n    this.setState({ descriptionForm: false });\n  };\n\n  handleSaveClick = () => {\n    this.updateDescription(this.state.description);\n  };\n\n  handleRemoveDescriptionClick = () => {\n    this.setState({ removeDescriptionModal: true });\n  };\n\n  handleCancelRemoving = () => this.setState({ removeDescriptionModal: false });\n\n  handleConfirmRemoving = () => {\n    this.setState({ removeDescriptionModal: false });\n    this.updateDescription('');\n  };\n\n  updateDescription = (text: string) => {\n    this.setState({ submitting: true });\n\n    updateRule({\n      key: this.props.ruleDetails.key,\n      markdown_note: text,\n      organization: this.props.organization\n    }).then(\n      ruleDetails => {\n        this.props.onChange(ruleDetails);\n        if (this.mounted) {\n          this.setState({ submitting: false, descriptionForm: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  handleExtendDescriptionClick = () => {\n    this.setState({\n      // set description` to the current `mdNote` each time the form is open\n      description: this.props.ruleDetails.mdNote || '',\n      descriptionForm: true\n    });\n  };\n\n  renderDescription = () => (\n    <div id=\"coding-rules-detail-description-extra\">\n      {this.props.ruleDetails.htmlNote !== undefined && (\n        <div\n          className=\"rule-desc spacer-bottom markdown\"\n          // eslint-disable-next-line react/no-danger\n          dangerouslySetInnerHTML={{ __html: sanitize(this.props.ruleDetails.htmlNote) }}\n        />\n      )}\n      {this.props.canWrite && (\n        <Button\n          id=\"coding-rules-detail-extend-description\"\n          onClick={this.handleExtendDescriptionClick}>\n          {translate('coding_rules.extend_description')}\n        </Button>\n      )}\n    </div>\n  );\n\n  renderForm = () => (\n    <div className=\"coding-rules-detail-extend-description-form\">\n      <table className=\"width-100\">\n        <tbody>\n          <tr>\n            <td colSpan={2}>\n              <textarea\n                autoFocus={true}\n                className=\"width-100 little-spacer-bottom\"\n                id=\"coding-rules-detail-extend-description-text\"\n                onChange={this.handleDescriptionChange}\n                rows={4}\n                value={this.state.description}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <Button\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-submit\"\n                onClick={this.handleSaveClick}>\n                {translate('save')}\n              </Button>\n              {this.props.ruleDetails.mdNote !== undefined && (\n                <>\n                  <Button\n                    className=\"button-red spacer-left\"\n                    disabled={this.state.submitting}\n                    id=\"coding-rules-detail-extend-description-remove\"\n                    onClick={this.handleRemoveDescriptionClick}>\n                    {translate('remove')}\n                  </Button>\n                  {this.state.removeDescriptionModal && (\n                    <RemoveExtendedDescriptionModal\n                      onCancel={this.handleCancelRemoving}\n                      onSubmit={this.handleConfirmRemoving}\n                    />\n                  )}\n                </>\n              )}\n              <ResetButtonLink\n                className=\"spacer-left\"\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-cancel\"\n                onClick={this.handleCancelClick}>\n                {translate('cancel')}\n              </ResetButtonLink>\n              {this.state.submitting && <i className=\"spinner spacer-left\" />}\n            </td>\n            <td className=\"text-right\">\n              <MarkdownTips />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasDescription = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n\n    return (\n      <div className=\"js-rule-description\">\n        {hasDescription ? (\n          <div\n            className=\"coding-rules-detail-description rule-desc markdown\"\n            // eslint-disable-next-line react/no-danger\n            dangerouslySetInnerHTML={{ __html: sanitize(ruleDetails.htmlDesc || '') }}\n          />\n        ) : (\n          <div className=\"coding-rules-detail-description rule-desc markdown\">\n            {translateWithParameters('issue.external_issue_description', ruleDetails.name)}\n          </div>\n        )}\n\n        {!ruleDetails.templateKey && (\n          <div className=\"coding-rules-detail-description coding-rules-detail-description-extra\">\n            {!this.state.descriptionForm && this.renderDescription()}\n            {this.state.descriptionForm && this.props.canWrite && this.renderForm()}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, uniq, without } from 'lodash';\nimport * as React from 'react';\nimport { getRuleTags } from '../../../api/rules';\nimport TagsSelector from '../../../components/tags/TagsSelector';\n\nexport interface Props {\n  organization: string | undefined;\n  setTags: (tags: string[]) => void;\n  sysTags: string[];\n  tags: string[];\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class RuleDetailsTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return getRuleTags({\n      q: query,\n      ps: Math.min(this.props.tags.length + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      tags => {\n        if (this.mounted) {\n          // systems tags can not be unset, don't display them in the results\n          this.setState({ searchResult: without(tags, ...this.props.sysTags) });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags(uniq([...this.props.tags, tag]));\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.tags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.tags);\n    return (\n      <TagsSelector\n        listSize={LIST_SIZE}\n        onSearch={this.onSearch}\n        onSelect={this.onSelect}\n        onUnselect={this.onUnselect}\n        selectedTags={this.props.tags}\n        tags={availableTags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport RuleScopeIcon from 'sonar-ui-common/components/icons/RuleScopeIcon';\nimport DateFormatter from 'sonar-ui-common/components/intl/DateFormatter';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport TagsList from '../../../components/tags/TagsList';\nimport { getRuleUrl } from '../../../helpers/urls';\nimport { Query } from '../query';\nimport RuleDetailsTagsPopup from './RuleDetailsTagsPopup';\nimport SimilarRulesFilter from './SimilarRulesFilter';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  hideSimilarRulesFilter?: boolean;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onTagsChange: (tags: string[]) => void;\n  organization: string | undefined;\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n  ruleDetails: T.RuleDetails;\n}\n\nconst EXTERNAL_RULE_REPO_PREFIX = 'external_';\n\nexport default class RuleDetailsMeta extends React.PureComponent<Props> {\n  renderType = () => {\n    const { ruleDetails } = this.props;\n    return (\n      <Tooltip overlay={translate('coding_rules.type.tooltip', ruleDetails.type)}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"type\">\n          <IssueTypeIcon className=\"little-spacer-right\" query={ruleDetails.type} />\n          {translate('issue.type', ruleDetails.type)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderSeverity = () => (\n    <Tooltip overlay={translate('default_severity')}>\n      <li className=\"coding-rules-detail-property\" data-meta=\"severity\">\n        <SeverityHelper\n          className=\"display-inline-flex-center\"\n          severity={this.props.ruleDetails.severity}\n        />\n      </li>\n    </Tooltip>\n  );\n\n  renderStatus = () => {\n    const { ruleDetails } = this.props;\n    if (ruleDetails.status === 'READY') {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('status')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"status\">\n          <span className=\"badge badge-error\">{translate('rules.status', ruleDetails.status)}</span>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTags = () => {\n    const { canWrite, ruleDetails } = this.props;\n    const { sysTags = [], tags = [] } = ruleDetails;\n    const allTags = [...sysTags, ...tags];\n\n    return (\n      <li className=\"coding-rules-detail-property\" data-meta=\"tags\">\n        {this.props.canWrite ? (\n          <Dropdown\n            closeOnClick={false}\n            closeOnClickOutside={true}\n            overlay={\n              <RuleDetailsTagsPopup\n                organization={this.props.organization}\n                setTags={this.props.onTagsChange}\n                sysTags={sysTags}\n                tags={tags}\n              />\n            }\n            overlayPlacement={PopupPlacement.BottomLeft}>\n            <ButtonLink>\n              <TagsList\n                allowUpdate={canWrite}\n                tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n              />\n            </ButtonLink>\n          </Dropdown>\n        ) : (\n          <TagsList\n            allowUpdate={canWrite}\n            className=\"display-flex-center\"\n            tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n          />\n        )}\n      </li>\n    );\n  };\n\n  renderCreationDate = () => (\n    <li className=\"coding-rules-detail-property\" data-meta=\"available-since\">\n      <span className=\"little-spacer-right\">{translate('coding_rules.available_since')}</span>\n      <DateFormatter date={this.props.ruleDetails.createdAt} />\n    </li>\n  );\n\n  renderRepository = () => {\n    const { referencedRepositories, ruleDetails } = this.props;\n    const repository = referencedRepositories[ruleDetails.repo];\n    if (!repository) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.repository_language')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"repository\">\n          {repository.name} ({ruleDetails.langName})\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTemplate = () => {\n    if (!this.props.ruleDetails.isTemplate) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n        <li className=\"coding-rules-detail-property\">{translate('coding_rules.rule_template')}</li>\n      </Tooltip>\n    );\n  };\n\n  renderParentTemplate = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.templateKey) {\n      return null;\n    }\n    return (\n      <li className=\"coding-rules-detail-property\">\n        {translate('coding_rules.custom_rule')}\n        {' ('}\n        <Link to={getRuleUrl(ruleDetails.templateKey, this.props.organization)}>\n          {translate('coding_rules.show_template')}\n        </Link>\n        {')'}\n        <DocTooltip\n          className=\"little-spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rules.md')}\n        />\n      </li>\n    );\n  };\n\n  renderRemediation = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.debtRemFnType) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.remediation_function')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"remediation-function\">\n          {translate('coding_rules.remediation_function', ruleDetails.debtRemFnType)}\n          {':'}\n          {ruleDetails.debtRemFnOffset !== undefined && ` ${ruleDetails.debtRemFnOffset}`}\n          {ruleDetails.debtRemFnCoeff !== undefined && ` +${ruleDetails.debtRemFnCoeff}`}\n          {ruleDetails.effortToFixDescription !== undefined &&\n            ` ${ruleDetails.effortToFixDescription}`}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderScope = () => {\n    const scope = this.props.ruleDetails.scope || 'MAIN';\n    return (\n      <Tooltip overlay={translate('coding_rules.scope.title')}>\n        <li className=\"coding-rules-detail-property\">\n          <RuleScopeIcon className=\"little-spacer-right\" />\n          {translate('coding_rules.scope', scope)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderExternalBadge = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.repo) {\n      return null;\n    }\n    const engine = ruleDetails.repo.replace(new RegExp(`^${EXTERNAL_RULE_REPO_PREFIX}`), '');\n    if (!engine) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translateWithParameters('coding_rules.external_rule.engine', engine)}>\n        <li className=\"coding-rules-detail-property\">\n          <div className=\"badge spacer-left text-text-top\">{engine}</div>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderKey() {\n    const EXTERNAL_PREFIX = 'external_';\n    const { ruleDetails } = this.props;\n    const displayedKey = ruleDetails.key.startsWith(EXTERNAL_PREFIX)\n      ? ruleDetails.key.substr(EXTERNAL_PREFIX.length)\n      : ruleDetails.key;\n    return <span className=\"note text-middle\">{displayedKey}</span>;\n  }\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasTypeData = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n    return (\n      <div className=\"js-rule-meta\">\n        <header className=\"page-header\">\n          <div className=\"pull-right\">\n            {this.renderKey()}\n            {!ruleDetails.isExternal && (\n              <Link\n                className=\"coding-rules-detail-permalink link-no-underline spacer-left text-middle\"\n                title={translate('permalink')}\n                to={getRuleUrl(ruleDetails.key, this.props.organization)}>\n                <LinkIcon />\n              </Link>\n            )}\n            {!this.props.hideSimilarRulesFilter && (\n              <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={ruleDetails} />\n            )}\n          </div>\n          <h3 className=\"page-title coding-rules-detail-header\">\n            <big>{ruleDetails.name}</big>\n          </h3>\n        </header>\n\n        {hasTypeData && (\n          <ul className=\"coding-rules-detail-properties\">\n            {this.renderType()}\n            {this.renderSeverity()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderStatus()}\n                {this.renderScope()}\n              </>\n            )}\n            {this.renderTags()}\n            {!ruleDetails.isExternal && this.renderCreationDate()}\n            {this.renderRepository()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderTemplate()}\n                {this.renderParentTemplate()}\n                {this.renderRemediation()}\n              </>\n            )}\n            {ruleDetails.isExternal && this.renderExternalBadge()}\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { keyBy } from 'lodash';\nimport * as React from 'react';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { getRuleDetails, getRulesApp } from '../../api/rules';\nimport RuleDetailsDescription from '../../apps/coding-rules/components/RuleDetailsDescription';\nimport RuleDetailsMeta from '../../apps/coding-rules/components/RuleDetailsMeta';\nimport '../../apps/coding-rules/styles.css';\nimport { withAppState } from '../hoc/withAppState';\n\ninterface Props {\n  appState: Pick<T.AppState, 'organizationsEnabled'>;\n  onLoad: (details: { name: string }) => void;\n  organizationKey: string | undefined;\n  ruleKey: string;\n}\n\ninterface State {\n  loading: boolean;\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n  ruleDetails?: T.RuleDetails;\n}\n\nexport class WorkspaceRuleDetails extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true, referencedRepositories: {} };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRuleDetails();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.ruleKey !== this.props.ruleKey ||\n      prevProps.organizationKey !== this.props.organizationKey\n    ) {\n      this.fetchRuleDetails();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRuleDetails = () => {\n    this.setState({ loading: true });\n    Promise.all([\n      getRulesApp(this.props.organizationKey),\n      getRuleDetails({ key: this.props.ruleKey, organization: this.props.organizationKey })\n    ]).then(\n      ([{ repositories }, { rule }]) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            referencedRepositories: keyBy(repositories, 'key'),\n            ruleDetails: rule\n          });\n          this.props.onLoad({ name: rule.name });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  noOp = () => {};\n\n  render() {\n    const { organizationKey } = this.props;\n    const { organizationsEnabled } = this.props.appState;\n    const organization = organizationsEnabled ? organizationKey : undefined;\n\n    return (\n      <DeferredSpinner loading={this.state.loading}>\n        {this.state.ruleDetails && (\n          <>\n            <RuleDetailsMeta\n              canWrite={false}\n              hideSimilarRulesFilter={true}\n              onFilterChange={this.noOp}\n              onTagsChange={this.noOp}\n              organization={organization}\n              referencedRepositories={this.state.referencedRepositories}\n              ruleDetails={this.state.ruleDetails}\n            />\n            <RuleDetailsDescription\n              canWrite={false}\n              onChange={this.noOp}\n              organization={organization}\n              ruleDetails={this.state.ruleDetails}\n            />\n          </>\n        )}\n      </DeferredSpinner>\n    );\n  }\n}\n\nexport default withAppState(WorkspaceRuleDetails);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { RuleDescriptor } from './context';\nimport WorkspaceHeader, { Props as WorkspaceHeaderProps } from './WorkspaceHeader';\nimport WorkspaceRuleDetails from './WorkspaceRuleDetails';\nimport WorkspaceRuleTitle from './WorkspaceRuleTitle';\n\nexport interface Props extends T.Omit<WorkspaceHeaderProps, 'children' | 'onClose'> {\n  rule: RuleDescriptor;\n  height: number;\n  onClose: (componentKey: string) => void;\n  onLoad: (details: { key: string; name: string }) => void;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class WorkspaceRuleViewer extends React.PureComponent<Props> {\n  state: State = { loading: true };\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.rule.key !== this.props.rule.key) {\n      this.setState({ loading: true });\n    }\n  }\n\n  handleClose = () => {\n    this.props.onClose(this.props.rule.key);\n  };\n\n  handleLoaded = (rule: { name: string }) => {\n    this.props.onLoad({ key: this.props.rule.key, name: rule.name });\n    // Allow time for the actual rendering, and the browser to pick it up.\n    setTimeout(() => {\n      this.setState({ loading: false });\n    }, 1000);\n  };\n\n  render() {\n    const { rule } = this.props;\n    const { loading } = this.state;\n\n    return (\n      <div className=\"workspace-viewer\">\n        <WorkspaceHeader\n          maximized={this.props.maximized}\n          onClose={this.handleClose}\n          onCollapse={this.props.onCollapse}\n          onMaximize={this.props.onMaximize}\n          onMinimize={this.props.onMinimize}\n          onResize={this.props.onResize}>\n          <WorkspaceRuleTitle rule={rule} />\n        </WorkspaceHeader>\n\n        <div\n          aria-busy={loading}\n          aria-live=\"polite\"\n          className=\"workspace-viewer-container\"\n          style={{ height: this.props.height }}>\n          <WorkspaceRuleDetails\n            onLoad={this.handleLoaded}\n            organizationKey={rule.organization}\n            ruleKey={rule.key}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport { filterContent } from '../../helpers/markdown';\n\nconst DocMarkdownBlock = lazyLoadComponent(() => import('./DocMarkdownBlock'), 'DocMarkdownBlock');\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: T.Dict<string>;\n}\n\ninterface State {\n  content?: string;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.doc.then(\n      ({ default: content }) => {\n        if (this.mounted) {\n          this.setState({ content });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={filterContent(this.state.content)}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// keep this file in JavaScript, because it is used by a webpack loader\nmodule.exports = { getFrontMatter, separateFrontMatter, filterContent };\n\nfunction getFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  return position ? parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine)) : {};\n}\n\nfunction separateFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  if (position) {\n    const frontmatter = parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine));\n    const content = lines.slice(position.lastLine + 1).join('\\n');\n    return { frontmatter, content };\n  } else {\n    return { frontmatter: {}, content };\n  }\n}\n\nfunction getFrontMatterPosition(lines) {\n  let firstLine;\n  let lastLine;\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    if (line.trim() === '---') {\n      if (firstLine === undefined) {\n        firstLine = i;\n      } else {\n        lastLine = i;\n        break;\n      }\n    }\n  }\n  return lastLine !== undefined ? { firstLine, lastLine } : undefined;\n}\n\nfunction parseFrontMatter(lines) {\n  const data = {};\n  for (let i = 0; i < lines.length; i++) {\n    const tokens = lines[i].split(':').map(x => x.trim());\n    if (tokens.length === 2) {\n      data[tokens[0]] = tokens[1];\n    }\n  }\n  return data;\n}\n\n/**\n * @param {string} content\n * @returns {string}\n */\nfunction filterContent(content) {\n  const regexBase = '<!-- \\\\/?(sonarqube|sonarcloud|static) -->';\n  const { isSonarCloud, getInstance } = require('./system');\n  const contentWithInstance = content.replace(/{instance}/gi, getInstance());\n  const contentWithoutStatic = cutConditionalContent(contentWithInstance, 'static');\n  const filteredContent = isSonarCloud()\n    ? cutConditionalContent(contentWithoutStatic, 'sonarqube')\n    : cutConditionalContent(contentWithoutStatic, 'sonarcloud');\n  return filteredContent\n    .replace(new RegExp(`^${regexBase}(\\n|\\r|\\r\\n|$)`, 'gm'), '') // First, remove single-line ones, including ending carriage-returns.\n    .replace(new RegExp(`${regexBase}`, 'g'), ''); // Now remove all remaining ones.\n}\n\n/**\n * @param {string} content\n * @param {string} tag\n * @returns {string}\n */\nfunction cutConditionalContent(content, tag) {\n  const beginning = `<!-- ${tag} -->`;\n  const ending = `<!-- /${tag} -->`;\n\n  let newContent = content;\n  let start = newContent.indexOf(beginning);\n  let end = newContent.indexOf(ending);\n  while (start !== -1 && end !== -1) {\n    if (start < end) {\n      newContent = newContent.substring(0, start) + newContent.substring(end + ending.length);\n    } else {\n      // When conditional tags are incorrectly used we log an error, strip them out and pass to the next pair of tags\n      // eslint-disable-next-line no-console\n      console.error(\n        new Error(\n          `Documentation - incorrect usage of conditional formatting tags here: \"${newContent.substring(\n            end,\n            start + beginning.length\n          )}\"`\n        )\n      );\n      newContent =\n        newContent.substring(0, end) +\n        newContent.substring(end + ending.length, start) +\n        newContent.substring(start + beginning.length);\n    }\n    start = newContent.indexOf(beginning);\n    end = newContent.indexOf(ending);\n  }\n\n  return newContent;\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getMarkdownHelpUrl } from '../../helpers/urls';\n\ninterface Props {\n  className?: string;\n}\n\nexport default class MarkdownTips extends React.PureComponent<Props> {\n  handleClick(evt: React.SyntheticEvent<HTMLAnchorElement>) {\n    evt.preventDefault();\n    window.open(getMarkdownHelpUrl(), 'Markdown', 'height=300,width=600,scrollbars=1,resizable=1');\n  }\n\n  render() {\n    return (\n      <div className={classNames('markdown-tips', this.props.className)}>\n        <a className=\"little-spacer-right\" href=\"#\" onClick={this.handleClick}>\n          {translate('markdown.helplink')}\n        </a>\n        {':'}\n        <span className=\"spacer-left\">*{translate('bold')}*</span>\n        <span className=\"spacer-left\">\n          ``\n          {translate('code')}\n          ``\n        </span>\n        <span className=\"spacer-left\">* {translate('bulleted_point')}</span>\n      </div>\n    );\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport FilterIcon from 'sonar-ui-common/components/icons/FilterIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { Query } from '../query';\n\ninterface Props {\n  onFilterChange: (changes: Partial<Query>) => void;\n  rule: T.Rule;\n}\n\nexport default class SimilarRulesFilter extends React.PureComponent<Props> {\n  handleLanguageClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.lang) {\n      this.props.onFilterChange({ languages: [this.props.rule.lang] });\n    }\n  };\n\n  handleTypeClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onFilterChange({ types: [this.props.rule.type] });\n  };\n\n  handleSeverityClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.severity) {\n      this.props.onFilterChange({ severities: [this.props.rule.severity] });\n    }\n  };\n\n  handleTagClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { tag } = event.currentTarget.dataset;\n    if (tag) {\n      this.props.onFilterChange({ tags: [tag] });\n    }\n  };\n\n  render() {\n    const { rule } = this.props;\n    const { tags = [], sysTags = [], severity } = rule;\n    const allTags = [...tags, ...sysTags];\n\n    return (\n      <Dropdown\n        className=\"display-inline-block\"\n        overlay={\n          <>\n            <ul className=\"menu\">\n              <li className=\"menu-header\">{translate('coding_rules.filter_similar_rules')}</li>\n              <li>\n                <a\n                  data-test=\"coding-rules__similar-language\"\n                  href=\"#\"\n                  onClick={this.handleLanguageClick}>\n                  {rule.langName}\n                </a>\n              </li>\n\n              <li>\n                <a\n                  className=\"display-flex-center\"\n                  data-test=\"coding-rules__similar-type\"\n                  href=\"#\"\n                  onClick={this.handleTypeClick}>\n                  <IssueTypeIcon query={rule.type} />\n                  <span className=\"little-spacer-left\">{translate('issue.type', rule.type)}</span>\n                </a>\n              </li>\n\n              {severity && (\n                <li>\n                  <a\n                    data-test=\"coding-rules__similar-severity\"\n                    href=\"#\"\n                    onClick={this.handleSeverityClick}>\n                    <SeverityHelper className=\"display-flex-center\" severity={rule.severity} />\n                  </a>\n                </li>\n              )}\n\n              {allTags.length > 0 && <li className=\"divider\" />}\n              {allTags.map(tag => (\n                <li key={tag}>\n                  <a\n                    data-tag={tag}\n                    data-test=\"coding-rules__similar-tag\"\n                    href=\"#\"\n                    onClick={this.handleTagClick}>\n                    <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                    <span className=\"text-middle\">{tag}</span>\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </>\n        }>\n        <a\n          className=\"js-rule-filter link-no-underline spacer-left dropdown-toggle\"\n          href=\"#\"\n          title={translate('coding_rules.filter_similar_rules')}>\n          <FilterIcon className=\"icon-half-transparent\" />\n          <DropdownIcon className=\"icon-half-transparent\" />\n        </a>\n      </Dropdown>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".coding-rules-extended-view .coding-rules-list{display:none}.coding-rules-extended-view .coding-rules-details{display:block}.coding-rules-detail-title{position:relative;display:inline-block;margin:16px 0;font-size:16px;font-weight:400}.coding-rules-detail-quality-profile-parameter{display:block;height:100%;padding-top:0;padding-right:10px}.coding-rules-detail-quality-profile-parameter .key,.coding-rules-detail-quality-profile-parameter .sep,.coding-rules-detail-quality-profile-parameter .value{display:inline;vertical-align:top}.coding-rules-detail-quality-profile-parameter .value{display:inline-block;vertical-align:top;line-height:23px;max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Consolas,Liberation Mono,Menlo,Courier,monospace}.coding-rules-detail-quality-profile-parameter+.coding-rules-detail-quality-profile-parameter{margin-top:0}.coding-rules-detail-properties{display:flex;flex-wrap:wrap;align-items:center;margin-top:8px}.coding-rules-detail-properties+.coding-rules-detail-properties{margin-top:-10px}.coding-rules-detail-property{display:flex;align-items:center;margin-right:16px;margin-bottom:8px;font-size:12px}.coding-rules-detail-tag+.coding-rules-detail-tag{margin-left:10px}.coding-rules-detail-tags-change{cursor:pointer}.coding-rules-detail-tags-change:hover span{text-decoration:underline}.coding-rules-detail-tag-edit{line-height:1}.coding-rules-details-tag-edit-cancel{vertical-align:middle}.coding-rules-detail-description{margin:20px 0}.coding-rules-detail-description-extra{margin-top:-10px}.coding-rules-detail-extend-description-form{margin:10px 0}.coding-rules-detail-parameters{width:100%;margin:10px 0 20px}.coding-rules-detail-parameter-name{width:1px;vertical-align:top;padding:5px 10px 5px 0;font-weight:700}.coding-rules-detail-parameter-description{vertical-align:top;padding:5px}.coding-rules-detail-parameter-value{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;word-break:break-all}.coding-rules-detail-list,.coding-rules-detail-quality-profiles{width:100%;line-height:22px}.coding-rules-detail-list td,.coding-rules-detail-quality-profiles td{border-top:1px solid #e6e6e6}.coding-rules-detail-list tr:first-child td,.coding-rules-detail-quality-profiles tr:first-child td{border-top:none}.coding-rules-detail-list-name,.coding-rules-detail-quality-profile-name{vertical-align:top;width:1px;padding:8px 5px 8px 0;font-weight:600;white-space:nowrap}.coding-rules-detail-list-severity,.coding-rules-detail-quality-profile-severity{vertical-align:top;width:1px;padding:8px 5px;white-space:nowrap}.coding-rules-detail-quality-profile-severity i{margin-top:2px}.coding-rules-detail-list-parameters,.coding-rules-detail-quality-profile-parameters{vertical-align:top;padding:8px 5px}.coding-rules-detail-list-actions,.coding-rules-detail-quality-profile-actions{vertical-align:top;width:1px;padding:8px 0 8px 5px;text-align:right;white-space:nowrap}.coding-rules-detail-quality-profile-inheritance{font-size:12px;font-weight:400}.coding-rules-detail-quality-profiles-activation{margin-top:-3px;margin-left:10px}.coding-rules-most-violated-projects td{border-top-color:transparent}.coding-rules-most-violated-projects tr:first-child+tr td{border-top-color:#e6e6e6}.coding-rules-most-violated-projects .coding-rules-detail-list-name{font-weight:400}.coding-rule{padding:8px 10px 8px 8px;border:1px solid transparent;background-color:#fff}.coding-rule.selected{border-color:#4b9fd5!important}.coding-rule+.coding-rule{border-top-color:#e6e6e6}.coding-rule.selected+.coding-rule{border-top-color:transparent}.coding-rule-table{width:100%}.coding-rule-table td{vertical-align:top}.coding-rule-table+.coding-rule-table{margin-top:5px}.coding-rule-table-meta-cell{width:1px;white-space:nowrap}@media (max-width:1320px){.coding-rule-table .tags-list span{max-width:100px}}.coding-rule-title{line-height:20px;font-size:13px}.coding-rule-meta{padding:2px 2px 2px 30px;font-size:12px}.coding-rule-activation{width:40px;line-height:19.5px}.coding-rule-activation-actions{padding-left:20px}.coding-rule-section-separator{height:0;margin:10px 0;border-top:1px solid #e6e6e6}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export default \"Custom rules are created by administrators from templates, and are the only fully-editable rules.\\n\""],"sourceRoot":""}