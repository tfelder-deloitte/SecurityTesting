{"version":3,"sources":["webpack:///./src/main/js/apps/projectActivity/components/EventInner.tsx","webpack:///./src/main/js/apps/projectActivity/components/forms/ChangeEventForm.tsx","webpack:///./src/main/js/apps/projectActivity/components/forms/RemoveEventForm.tsx","webpack:///./src/main/js/apps/projectActivity/components/Event.tsx","webpack:///./src/main/js/apps/projectActivity/components/Events.tsx","webpack:///./src/main/js/apps/projectBaseline/styles.css?25cb","webpack:///./src/main/js/apps/projectBaseline/styles.css","webpack:///./src/main/js/apps/projectBaseline/components/AppHeader.tsx","webpack:///./src/main/js/apps/projectBaseline/components/BaselineSettingAnalysis.tsx","webpack:///./src/main/js/apps/projectBaseline/components/BaselineSettingReferenceBranch.tsx","webpack:///./src/main/js/apps/projectBaseline/components/BranchAnalysisListRenderer.tsx","webpack:///./src/main/js/apps/projectBaseline/components/BranchAnalysisList.tsx","webpack:///./src/main/js/apps/projectBaseline/components/BranchBaselineSettingModal.tsx","webpack:///./src/main/js/apps/projectBaseline/components/BranchListRow.tsx","webpack:///./src/main/js/apps/projectBaseline/components/BranchList.tsx","webpack:///./src/main/js/apps/projectBaseline/components/ProjectBaselineSelector.tsx","webpack:///./src/main/js/apps/projectBaseline/components/App.tsx","webpack:///./src/main/js/apps/projectBaseline/components/AppContainer.ts","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.js","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css?2512","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css","webpack:///./node_modules/lodash/map.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateTimeFormatter.js","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/sonar-ui-common/components/ui/Level.js","webpack:///./node_modules/sonar-ui-common/components/controls/ActionsDropdown.js","webpack:///./node_modules/sonar-ui-common/components/icons/SettingsIcon.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/components/activity-graph/utils.ts","webpack:///./node_modules/sonar-ui-common/components/icons/BranchIcon.js","webpack:///./node_modules/sonar-ui-common/components/ui/Level.css?4f58","webpack:///./node_modules/sonar-ui-common/components/ui/Level.css","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?01af","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./src/main/js/types/project-activity.ts","webpack:///./node_modules/sonar-ui-common/components/controls/RadioCard.js","webpack:///./node_modules/lodash/flatMap.js","webpack:///./node_modules/sonar-ui-common/components/icons/PullRequestIcon.js","webpack:///./node_modules/sonar-ui-common/components/controls/ValidationInput.js","webpack:///./node_modules/sonar-ui-common/components/intl/TimeFormatter.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./src/main/js/components/icons/BranchLikeIcon.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/ProjectEventIcon.js","webpack:///./node_modules/sonar-ui-common/components/controls/SearchSelect.js","webpack:///./node_modules/sonar-ui-common/components/icons/RecommendedIcon.js","webpack:///./node_modules/sonar-ui-common/components/controls/RadioCard.css?eb7a","webpack:///./node_modules/sonar-ui-common/components/controls/RadioCard.css","webpack:///./node_modules/lodash/chunk.js","webpack:///./node_modules/sonar-ui-common/components/icons/WarningIcon.js","webpack:///./src/main/js/apps/projectActivity/utils.ts","webpack:///./src/main/js/app/components/ComponentContext.tsx","webpack:///./node_modules/lodash/throttle.js","webpack:///./src/main/js/api/projectActivity.ts","webpack:///./src/main/js/apps/projectActivity/components/DefinitionChangeEventInner.tsx","webpack:///./src/main/js/apps/projectActivity/components/RichQualityGateEventInner.tsx","webpack:///./src/main/js/api/newCodePeriod.ts","webpack:///./src/main/js/apps/projectBaseline/utils.ts","webpack:///./src/main/js/apps/projectBaseline/components/BaselineSettingDays.tsx","webpack:///./src/main/js/apps/projectBaseline/components/BaselineSettingPreviousVersion.tsx"],"names":["EventInner","event","RichQualityGateEventInner","ComponentContext","Consumer","branchLike","DefinitionChangeEventInner","content","className","category","name","description","overlay","props","super","changeInput","this","setState","target","value","handleSubmit","changeEvent","key","state","confirmButtonText","confirmDisable","header","onClose","onConfirm","size","autoFocus","onChange","type","RemoveEventForm","analysisKey","removeEventQuestion","isDestructive","canAdmin","isFirst","changing","setChanging","deleting","setDeleting","isOther","isVersion","canChange","canDelete","onDelete","showActions","onClick","stopPropagation","events","sortedEvents","map","api","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","AppHeader","defaultMessage","id","values","link","to","BaselineSettingAnalysis","disabled","onSelect","selected","title","renderBranchOption","option","isInvalid","undefined","isMain","BaselineSettingReferenceBranch","branchList","referenceBranch","settingLevel","currentBranch","find","b","htmlFor","autofocus","defaultOptions","minimumQueryLength","onSearch","q","Promise","resolve","filter","includes","onChangeReferenceBranch","renderOption","BranchAnalysisListRenderer","analyses","loading","range","selectedAnalysisKey","byVersionByDay","hasFilteredData","length","Object","keys","byDay","autoBlur","clearable","handleRangeChange","label","searchable","onScroll","handleScroll","ref","registerScrollableNode","version","idx","days","first","sticky","shouldStick","registerBadgeNode","mouseEnterDelay","day","Number","date","long","analysis","args","onSelectAnalysis","valueOf","formattedTime","dateTime","toISOString","Events","checked","onCheck","renderAnalysis","mounted","badges","scroll","e","currentTarget","updateScroll","scrollTop","el","getAttribute","setAttribute","String","offsetTop","badge","fetchAnalyses","selectedNode","document","querySelector","scrollableNode","parent","bottomOffset","initial","branch","component","project","from","Date","then","result","a","scrollToSelected","branchToOption","preventDefault","analysisDate","saving","effectiveValue","requestClose","handleSelectAnalysis","handleSelectDays","handleSelectReferenceBranch","handleSelectSetting","otherBranches","defaultBranch","getValueFromProps","newCodePeriod","currentSetting","currentSettingValue","isChanged","isValid","contentLabel","onRequestClose","onSubmit","role","BaselineSettingPreviousVersion","isDefault","BaselineSettingDays","onChangeDays","BranchListRow","existingBranches","inheritedSetting","settingWarning","branchInheritsItselfAsReference","referenceBranchDoesNotExist","BranchLikeIcon","renderNewCodePeriodSetting","ActionsDropdown","onOpenEditModal","onResetToDefault","branches","updateBranchNewCodePeriod","newSetting","updated","slice","openEditModal","editedBranch","closeEditModal","resetToDefault","fetchBranches","branchLikes","branchSettings","newCodePeriods","ncp","inherited","branchesWithBaseline","branchKey","ProjectBaselineSelector","branchesEnabled","generalSetting","overrideGeneralSetting","onToggleSpecificSetting","setting","renderGeneralSetting","onSelectSetting","onSelectDays","onSelectReferenceBranch","invisible","Alert","variant","onCancel","DEFAULT_GENERAL_SETTING","resetSuccess","success","resetSetting","handleCancel","getUpdatedState","handleToggleSpecificSetting","fetchLeakPeriodSetting","sortAndFilterBranches","prevProps","params","defaultDays","Boolean","all","Suggestions","suggestions","defineProperty","classNames","React","HelpIcon_1","theme_1","Tooltip_1","_a","tagName","createElement","mouseLeaveDelay","onShow","placement","children","ThemeConsumer","theme","fill","colors","gray71","addSuggestions","removeSuggestions","SuggestionsInner","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","__assign","assign","t","s","n","arguments","p","prototype","hasOwnProperty","call","apply","react_intl_1","dates_1","formatterOption","year","month","hour","minute","FormattedDate","parseDate","toNumber","measures_1","formatted","formatMeasure","level","small","muted","extendStatics","__extends","d","setPrototypeOf","__proto__","Array","__","constructor","create","react_router_1","l10n_1","DropdownIcon_1","SettingsIcon_1","buttons_1","clipboard_1","Dropdown_1","overlayPlacement","toggleClassName","onOpen","Button","ActionsDropdownItem","_super","_this","handleClick","blur","render","destructive","download","href","Link","copyValue","ClipboardBase","setCopyButton","copySuccess","translate","visible","PureComponent","ActionsDropdownDivider","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Icon_1","_b","_c","iconProps","viewBox","transform","style","toFinite","remainder","baseAssignValue","createAggregator","groupBy","DEFAULT_GRAPH","issues","GRAPHS_METRICS_DISPLAYED","bugs","code_smells","vulnerabilities","coverage","lines_to_cover","uncovered_lines","duplications","ncloc","duplicated_lines","GRAPHS_METRICS","concat","reliability_rating","security_rating","sqale_rating","duplicated_lines_density","isCustomGraph","graph","custom","getGraphTypes","ignoreCustom","graphs","hasDataValues","serie","data","some","point","y","hasHistoryData","series","getSeriesMetricType","getDisplayedHistoryMetrics","customMetrics","getHistoryMetrics","splitSeriesInGraphs","maxGraph","maxSeries","generateSeries","measuresHistory","metrics","displayedMetrics","measure","metric","uncoveredLines","linesToCover","history","x","translatedName","generateCoveredLinesMetric","findMetric","saveActivityGraph","namespace","join","getActivityGraph","customGraphs","split","ThemedIcon","blue","Radio","GraphType","RecommendedIcon_1","recommended","titleInfo","isActionable","tabIndex","FormattedMessage","baseFlatten","AlertErrorIcon_1","AlertSuccessIcon_1","HelpTooltip_1","hasError","error","required","help","longFormatterOption","second","FormattedTime","baseIsEqual","other","stroke","strokeWidth","lodash_1","Select_1","SearchSelect","handleSearch","query","currentQuery","handleChange","onMultiSelect","handleInputChange","handleFilterOption","debounce","componentDidMount","componentWillUnmount","get","enumerable","configurable","resetOnBlur","Component","canCreate","Creatable","escapeClearsValue","filterOption","isLoading","multi","noResultsText","translateWithParameters","onBlurResetsInput","onInputChange","optionRenderer","placeholder","promptTextCreator","valueRenderer","baseSlice","isIterateeCall","toInteger","nativeCeil","Math","ceil","nativeMax","max","array","guard","index","resIndex","warningIconColor","EVENT_TYPES","APPLICATION_EVENT_TYPES","activityQueryChanged","prevQuery","nextQuery","datesQueryChanged","customMetricsChanged","historyQueryChanged","getAnalysesByVersionByDay","reduce","acc","currentVersion","versionEvent","newVersion","getTime","toString","matchFilters","isAfterFrom","isBeforeTo","hasSelectedCategoryEvents","parseQuery","urlQuery","parseGraph","selectedDate","serializeQuery","serializeUrlQuery","custom_metrics","selected_date","isObject","func","wait","leading","trailing","TypeError","getProjectActivity","catch","createEvent","r","deleteEvent","deleteAnalysis","isDefinitionChangeEvent","definitionChange","expanded","toggleProjectsList","renderProjectLink","renderBranch","mainBranch","changeType","message","newBranch","oldBranch","turned","projects","renderProjectChange","isRichQualityGateEvent","qualityGate","stillFailing","status","failing","getNewCodePeriod","setNewCodePeriod","resetNewCodePeriod","listBranchesNewCodePeriod","validateDays","parsed","parseInt","isNaN","getSettingValue","validateSetting"],"mappings":"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","file":"js/283.m.adefe62c.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { ComponentContext } from '../../../app/components/ComponentContext';\nimport { DefinitionChangeEventInner, isDefinitionChangeEvent } from './DefinitionChangeEventInner';\nimport { isRichQualityGateEvent, RichQualityGateEventInner } from './RichQualityGateEventInner';\n\nexport interface EventInnerProps {\n  event: T.AnalysisEvent;\n}\n\nexport default function EventInner({ event }: EventInnerProps) {\n  if (isRichQualityGateEvent(event)) {\n    return <RichQualityGateEventInner event={event} />;\n  } else if (isDefinitionChangeEvent(event)) {\n    return (\n      <ComponentContext.Consumer>\n        {({ branchLike }) => <DefinitionChangeEventInner branchLike={branchLike} event={event} />}\n      </ComponentContext.Consumer>\n    );\n  } else {\n    const content = (\n      <span className=\"text-middle\">\n        <span className=\"note little-spacer-right\">\n          {translate('event.category', event.category)}:\n        </span>\n        <strong className=\"spacer-right\">{event.name}</strong>\n      </span>\n    );\n    return event.description ? <Tooltip overlay={event.description}>{content}</Tooltip> : content;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConfirmModal from 'sonar-ui-common/components/controls/ConfirmModal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  changeEvent: (event: string, name: string) => Promise<void>;\n  event: T.AnalysisEvent;\n  header: string;\n  onClose: () => void;\n}\n\ninterface State {\n  name: string;\n}\n\nexport default class ChangeEventForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { name: props.event.name };\n  }\n\n  changeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ name: event.target.value });\n  };\n\n  handleSubmit = () => {\n    return this.props.changeEvent(this.props.event.key, this.state.name);\n  };\n\n  render() {\n    const { name } = this.state;\n    return (\n      <ConfirmModal\n        confirmButtonText={translate('change_verb')}\n        confirmDisable={!name || name === this.props.event.name}\n        header={this.props.header}\n        onClose={this.props.onClose}\n        onConfirm={this.handleSubmit}\n        size=\"small\">\n        <div className=\"modal-field\">\n          <label>{translate('name')}</label>\n          <input autoFocus={true} onChange={this.changeInput} type=\"text\" value={name} />\n        </div>\n      </ConfirmModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConfirmModal from 'sonar-ui-common/components/controls/ConfirmModal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface RemoveEventFormProps {\n  analysisKey: string;\n  event: T.AnalysisEvent;\n  header: string;\n  removeEventQuestion: string;\n  onClose: () => void;\n  onConfirm: (analysis: string, event: string) => Promise<void>;\n}\n\nexport default function RemoveEventForm(props: RemoveEventFormProps) {\n  const { analysisKey, event, header, removeEventQuestion } = props;\n  return (\n    <ConfirmModal\n      confirmButtonText={translate('delete')}\n      header={header}\n      isDestructive={true}\n      onClose={props.onClose}\n      onConfirm={() => props.onConfirm(analysisKey, event.key)}>\n      {removeEventQuestion}\n    </ConfirmModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { DeleteButton, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport ProjectEventIcon from 'sonar-ui-common/components/icons/ProjectEventIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport EventInner from './EventInner';\nimport ChangeEventForm from './forms/ChangeEventForm';\nimport RemoveEventForm from './forms/RemoveEventForm';\n\nexport interface EventProps {\n  analysisKey: string;\n  canAdmin?: boolean;\n  event: T.AnalysisEvent;\n  isFirst?: boolean;\n  onChange?: (event: string, name: string) => Promise<void>;\n  onDelete?: (analysisKey: string, event: string) => Promise<void>;\n}\n\nexport function Event(props: EventProps) {\n  const { analysisKey, event, canAdmin, isFirst } = props;\n\n  const [changing, setChanging] = React.useState(false);\n  const [deleting, setDeleting] = React.useState(false);\n\n  const isOther = event.category === 'OTHER';\n  const isVersion = event.category === 'VERSION';\n  const canChange = (isOther || isVersion) && props.onChange;\n  const canDelete = (isOther || (isVersion && !isFirst)) && props.onDelete;\n  const showActions = canAdmin && (canChange || canDelete);\n\n  return (\n    <div className=\"project-activity-event\">\n      <ProjectEventIcon\n        className={classNames(\n          'project-activity-event-icon little-spacer-right text-middle',\n          event.category\n        )}\n      />\n\n      <EventInner event={event} />\n\n      {showActions && (\n        <span className=\"nowrap\">\n          {canChange && (\n            <EditButton\n              aria-label={translate('project_activity.events.tooltip.edit')}\n              className=\"button-small\"\n              data-test=\"project-activity__edit-event\"\n              onClick={() => setChanging(true)}\n              stopPropagation={true}\n            />\n          )}\n          {canDelete && (\n            <DeleteButton\n              aria-label={translate('project_activity.events.tooltip.delete')}\n              className=\"button-small\"\n              data-test=\"project-activity__delete-event\"\n              onClick={() => setDeleting(true)}\n              stopPropagation={true}\n            />\n          )}\n        </span>\n      )}\n\n      {changing && props.onChange && (\n        <ChangeEventForm\n          changeEvent={props.onChange}\n          event={event}\n          header={\n            isVersion\n              ? translate('project_activity.change_version')\n              : translate('project_activity.change_custom_event')\n          }\n          onClose={() => setChanging(false)}\n        />\n      )}\n\n      {deleting && props.onDelete && (\n        <RemoveEventForm\n          analysisKey={analysisKey}\n          event={event}\n          header={\n            isVersion\n              ? translate('project_activity.remove_version')\n              : translate('project_activity.remove_custom_event')\n          }\n          onClose={() => setDeleting(false)}\n          onConfirm={props.onDelete}\n          removeEventQuestion={translate(\n            `project_activity.${isVersion ? 'remove_version' : 'remove_custom_event'}.question`\n          )}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(Event);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport Event from './Event';\n\nexport interface EventsProps {\n  analysisKey: string;\n  canAdmin?: boolean;\n  events: T.AnalysisEvent[];\n  isFirst?: boolean;\n  onChange?: (event: string, name: string) => Promise<void>;\n  onDelete?: (analysis: string, event: string) => Promise<void>;\n}\n\nexport function Events(props: EventsProps) {\n  const { analysisKey, canAdmin, events, isFirst } = props;\n\n  const sortedEvents = sortBy(\n    events,\n    // versions last\n    event => (event.category === 'VERSION' ? 1 : 0),\n    // then the rest sorted by category\n    'category'\n  );\n\n  return (\n    <div className=\"big-spacer-top\">\n      {sortedEvents.map(event => (\n        <Event\n          analysisKey={analysisKey}\n          canAdmin={canAdmin}\n          event={event}\n          isFirst={isFirst}\n          key={event.key}\n          onChange={props.onChange}\n          onDelete={props.onDelete}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default React.memo(Events);\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".project-baseline{padding:32px}.project-baseline-setting{display:flex;flex-direction:column;max-height:60vh;padding-top:2px}.project-baseline-selector .general-setting{margin-left:7px}.branch-baseline-selector>hr{margin:0 -32px 32px}.branch-baseline-setting-modal{min-height:450px;display:flex;flex-direction:column}.branch-analysis-list-wrapper{display:flex;flex-direction:column;overflow:hidden;position:relative;min-height:200px}.branch-analysis-list{overflow-y:auto;padding-left:12px;padding-right:15px;min-height:50px}.branch-analysis-list>ul{padding-top:18px}.branch-analysis-date{margin-bottom:16px;font-size:15px;font-weight:700}.branch-analysis-day{margin-top:8px;margin-bottom:24px}.branch-analysis{display:flex;justify-content:space-between;cursor:pointer;padding:8px;border-top:1px solid #e6e6e6;border-bottom:1px solid #e6e6e6}.branch-analysis+.branch-analysis{border-top:none}.branch-analysis:hover{background-color:#cae3f2}.branch-analysis>.project-activity-events{flex:1 0 50%}.branch-analysis-time{width:150px}.branch-analysis-version-badge{margin-left:-12px;padding-top:8px;padding-bottom:8px;background-color:#fff}.branch-analysis-version-badge.sticky+.branch-analysis-days-list{padding-top:36px}.branch-analysis-version-badge.first,.branch-analysis-version-badge.sticky{position:absolute;top:1px;left:13px;right:16px;padding-top:24px;z-index:1}.branch-analysis-version-badge .badge{max-width:385px;border-radius:0 2px 2px 0;font-weight:700;font-size:12px;letter-spacing:0;overflow:hidden;text-overflow:ellipsis}.branch-setting-warning{background-color:#fcf8e3!important}.project-activity-event-icon.VERSION{color:#4b9fd5}.project-activity-event-icon.QUALITY_GATE{color:#9139d4}.project-activity-event-icon.QUALITY_PROFILE{color:#ccc}.project-activity-event-icon.DEFINITION_CHANGE{color:#33a759}.project-activity-event-icon.OTHER{color:#442d1b}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface AppHeaderProps {\n  canAdmin: boolean;\n}\n\nexport default function AppHeader(props: AppHeaderProps) {\n  const { canAdmin } = props;\n\n  return (\n    <header className=\"page-header\">\n      <h1 className=\"page-title\">{translate('project_baseline.page')}</h1>\n      <p className=\"page-description\">\n        <FormattedMessage\n          defaultMessage={translate('project_baseline.page.description')}\n          id=\"project_baseline.page.description\"\n          values={{\n            link: (\n              <Link to=\"/documentation/project-administration/new-code-period/\">\n                {translate('project_baseline.page.description.link')}\n              </Link>\n            )\n          }}\n        />\n        <br />\n        {canAdmin && (\n          <FormattedMessage\n            defaultMessage={translate('project_baseline.page.description2')}\n            id=\"project_baseline.page.description2\"\n            values={{\n              link: (\n                <Link to=\"/admin/settings?category=new_code_period\">\n                  {translate('project_baseline.page.description2.link')}\n                </Link>\n              )\n            }}\n          />\n        )}\n      </p>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioCard from 'sonar-ui-common/components/controls/RadioCard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface Props {\n  disabled?: boolean;\n  onSelect: (selection: T.NewCodePeriodSettingType) => void;\n  selected: boolean;\n}\n\nexport default function BaselineSettingAnalysis({ disabled, onSelect, selected }: Props) {\n  return (\n    <RadioCard\n      disabled={disabled}\n      onClick={() => onSelect('SPECIFIC_ANALYSIS')}\n      selected={selected}\n      title={translate('baseline.specific_analysis')}>\n      <p className=\"big-spacer-bottom\">{translate('baseline.specific_analysis.description')}</p>\n    </RadioCard>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioCard from 'sonar-ui-common/components/controls/RadioCard';\nimport SearchSelect from 'sonar-ui-common/components/controls/SearchSelect';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport AlertErrorIcon from 'sonar-ui-common/components/icons/AlertErrorIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\nexport interface BaselineSettingReferenceBranchProps {\n  branchList: BranchOption[];\n  className?: string;\n  configuredBranchName?: string;\n  disabled?: boolean;\n  onChangeReferenceBranch: (value: string) => void;\n  onSelect: (selection: T.NewCodePeriodSettingType) => void;\n  referenceBranch: string;\n  selected: boolean;\n  settingLevel: 'project' | 'branch';\n}\n\nexport interface BranchOption {\n  disabled?: boolean;\n  isInvalid?: boolean;\n  isMain: boolean;\n  value: string;\n}\n\nfunction renderBranchOption(option: BranchOption) {\n  return option.isInvalid ? (\n    <Tooltip\n      overlay={translateWithParameters('baseline.reference_branch.does_not_exist', option.value)}>\n      <span>\n        {option.value} <AlertErrorIcon />\n      </span>\n    </Tooltip>\n  ) : (\n    <>\n      <span\n        title={\n          option.disabled ? translate('baseline.reference_branch.cannot_be_itself') : undefined\n        }>\n        {option.value}\n      </span>\n      {option.isMain && (\n        <div className=\"badge spacer-left\">{translate('branches.main_branch')}</div>\n      )}\n    </>\n  );\n}\n\nexport default function BaselineSettingReferenceBranch(props: BaselineSettingReferenceBranchProps) {\n  const { branchList, className, disabled, referenceBranch, selected, settingLevel } = props;\n\n  const currentBranch = branchList.find(b => b.value === referenceBranch) || {\n    value: referenceBranch,\n    isMain: false,\n    isInvalid: true\n  };\n\n  return (\n    <RadioCard\n      className={className}\n      disabled={disabled}\n      onClick={() => props.onSelect('REFERENCE_BRANCH')}\n      selected={selected}\n      title={translate('baseline.reference_branch')}>\n      <>\n        <p>{translate('baseline.reference_branch.description')}</p>\n        {selected && (\n          <>\n            {settingLevel === 'project' && (\n              <p className=\"spacer-top\">{translate('baseline.reference_branch.description2')}</p>\n            )}\n            <div className=\"big-spacer-top display-flex-column\">\n              <label className=\"text-middle\" htmlFor=\"reference_branch\">\n                <strong>{translate('baseline.reference_branch.choose')}</strong>\n                <em className=\"mandatory\">*</em>\n              </label>\n              <SearchSelect<BranchOption>\n                autofocus={false}\n                className=\"little-spacer-top spacer-bottom\"\n                defaultOptions={branchList}\n                minimumQueryLength={1}\n                onSearch={q => Promise.resolve(branchList.filter(b => b.value.includes(q)))}\n                onSelect={option => props.onChangeReferenceBranch(option.value)}\n                renderOption={renderBranchOption}\n                value={currentBranch}\n              />\n            </div>\n          </>\n        )}\n      </>\n    </RadioCard>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DateFormatter from 'sonar-ui-common/components/intl/DateFormatter';\nimport TimeFormatter from 'sonar-ui-common/components/intl/TimeFormatter';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { parseDate, toShortNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport Events from '../../projectActivity/components/Events';\nimport { getAnalysesByVersionByDay } from '../../projectActivity/utils';\n\nexport interface BranchAnalysisListRendererProps {\n  analyses: T.ParsedAnalysis[];\n  handleRangeChange: ({ value }: { value: number }) => void;\n  handleScroll: (e: React.SyntheticEvent<HTMLDivElement>) => void;\n  loading: boolean;\n  onSelectAnalysis: (analysis: T.ParsedAnalysis) => void;\n  range: number;\n  registerBadgeNode: (version: string) => (el: HTMLDivElement) => void;\n  registerScrollableNode: (el: HTMLDivElement) => void;\n  selectedAnalysisKey: string;\n  shouldStick: (version: string) => boolean;\n}\n\nfunction renderAnalysis(args: {\n  analysis: T.ParsedAnalysis;\n  isFirst: boolean;\n  onSelectAnalysis: (analysis: T.ParsedAnalysis) => void;\n  selectedAnalysisKey: string;\n}) {\n  const { analysis, isFirst, onSelectAnalysis, selectedAnalysisKey } = args;\n  return (\n    <li\n      className={classNames('branch-analysis', {\n        selected: analysis.key === selectedAnalysisKey\n      })}\n      data-date={parseDate(analysis.date).valueOf()}\n      key={analysis.key}\n      onClick={() => onSelectAnalysis(analysis)}>\n      <div className=\"branch-analysis-time spacer-right\">\n        <TimeFormatter date={parseDate(analysis.date)} long={false}>\n          {formattedTime => (\n            <time className=\"text-middle\" dateTime={parseDate(analysis.date).toISOString()}>\n              {formattedTime}\n            </time>\n          )}\n        </TimeFormatter>\n      </div>\n\n      {analysis.events.length > 0 && (\n        <Events analysisKey={analysis.key} events={analysis.events} isFirst={isFirst} />\n      )}\n\n      <div className=\"analysis-selection-button\">\n        <Radio checked={analysis.key === selectedAnalysisKey} onCheck={() => {}} value=\"\" />\n      </div>\n    </li>\n  );\n}\n\nexport default function BranchAnalysisListRenderer(props: BranchAnalysisListRendererProps) {\n  const { analyses, loading, range, selectedAnalysisKey } = props;\n\n  const byVersionByDay = React.useMemo(\n    () =>\n      getAnalysesByVersionByDay(analyses, {\n        category: ''\n      }),\n    [analyses]\n  );\n\n  const hasFilteredData =\n    byVersionByDay.length > 1 ||\n    (byVersionByDay.length === 1 && Object.keys(byVersionByDay[0].byDay).length > 0);\n\n  return (\n    <>\n      <div className=\"spacer-bottom\">\n        {translate('baseline.analysis_from')}\n        <Select\n          autoBlur={true}\n          className=\"input-medium spacer-left\"\n          clearable={false}\n          onChange={props.handleRangeChange}\n          options={[\n            {\n              label: translate('baseline.branch_analyses.ranges.30days'),\n              value: 30\n            },\n            {\n              label: translate('baseline.branch_analyses.ranges.allTime'),\n              value: 0\n            }\n          ]}\n          searchable={false}\n          value={range}\n        />\n      </div>\n      <div className=\"branch-analysis-list-wrapper\">\n        <div\n          className=\"bordered branch-analysis-list\"\n          onScroll={props.handleScroll}\n          ref={props.registerScrollableNode}>\n          {loading && <DeferredSpinner className=\"big-spacer-top\" />}\n\n          {!loading && !hasFilteredData ? (\n            <div className=\"big-spacer-top big-spacer-bottom strong\">\n              {translate('baseline.no_analyses')}\n            </div>\n          ) : (\n            <ul>\n              {byVersionByDay.map((version, idx) => {\n                const days = Object.keys(version.byDay);\n                if (days.length <= 0) {\n                  return null;\n                }\n                return (\n                  <li key={version.key || 'noversion'}>\n                    {version.version && (\n                      <div\n                        className={classNames('branch-analysis-version-badge', {\n                          first: idx === 0,\n                          sticky: props.shouldStick(version.version)\n                        })}\n                        ref={props.registerBadgeNode(version.version)}>\n                        <Tooltip\n                          mouseEnterDelay={0.5}\n                          overlay={`${translate('version')} ${version.version}`}>\n                          <span className=\"badge\">{version.version}</span>\n                        </Tooltip>\n                      </div>\n                    )}\n                    <ul className=\"branch-analysis-days-list\">\n                      {days.map(day => (\n                        <li\n                          className=\"branch-analysis-day\"\n                          data-day={toShortNotSoISOString(Number(day))}\n                          key={day}>\n                          <div className=\"branch-analysis-date\">\n                            <DateFormatter date={Number(day)} long={true} />\n                          </div>\n                          <ul className=\"branch-analysis-analyses-list\">\n                            {version.byDay[day] != null &&\n                              version.byDay[day].map(analysis =>\n                                renderAnalysis({\n                                  analysis,\n                                  selectedAnalysisKey,\n                                  isFirst: analyses[0].key === analysis.key,\n                                  onSelectAnalysis: props.onSelectAnalysis\n                                })\n                              )}\n                          </ul>\n                        </li>\n                      ))}\n                    </ul>\n                  </li>\n                );\n              })}\n            </ul>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { subDays } from 'date-fns';\nimport { throttle } from 'lodash';\nimport * as React from 'react';\nimport { parseDate, toShortNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { getProjectActivity } from '../../../api/projectActivity';\nimport BranchAnalysisListRenderer from './BranchAnalysisListRenderer';\n\ninterface Props {\n  analysis: string;\n  branch: string;\n  component: string;\n  onSelectAnalysis: (analysis: T.ParsedAnalysis) => void;\n}\n\ninterface State {\n  analyses: T.ParsedAnalysis[];\n  loading: boolean;\n  range: number;\n  scroll: number;\n}\n\nconst STICKY_BADGE_SCROLL_OFFSET = 10;\n\nexport default class BranchAnalysisList extends React.PureComponent<Props, State> {\n  mounted = false;\n  badges: T.Dict<HTMLDivElement> = {};\n  scrollableNode?: HTMLDivElement;\n  state: State = {\n    analyses: [],\n    loading: true,\n    range: 30,\n    scroll: 0\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.updateScroll = throttle(this.updateScroll, 20);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchAnalyses(true);\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  scrollToSelected() {\n    const selectedNode = document.querySelector('.branch-analysis.selected');\n    if (this.scrollableNode && selectedNode) {\n      scrollToElement(selectedNode, { parent: this.scrollableNode, bottomOffset: 40 });\n    }\n  }\n\n  fetchAnalyses(initial = false) {\n    const { analysis, branch, component } = this.props;\n    const { range } = this.state;\n    this.setState({ loading: true });\n\n    return getProjectActivity({\n      branch,\n      project: component,\n      from: range ? toShortNotSoISOString(subDays(new Date(), range)) : undefined\n    }).then((result: { analyses: T.Analysis[] }) => {\n      // If the selected analysis wasn't found in the default 30 days range, redo the search\n      if (initial && analysis && !result.analyses.find(a => a.key === analysis)) {\n        this.handleRangeChange({ value: 0 });\n        return;\n      }\n\n      this.setState(\n        {\n          analyses: result.analyses.map(analysis => ({\n            ...analysis,\n            date: parseDate(analysis.date)\n          })) as T.ParsedAnalysis[],\n          loading: false\n        },\n        () => {\n          this.scrollToSelected();\n        }\n      );\n    });\n  }\n\n  handleScroll = (e: React.SyntheticEvent<HTMLDivElement>) => {\n    if (e.currentTarget) {\n      this.updateScroll(e.currentTarget.scrollTop);\n    }\n  };\n\n  updateScroll = (scroll: number) => {\n    this.setState({ scroll });\n  };\n\n  registerBadgeNode = (version: string) => (el: HTMLDivElement) => {\n    if (el) {\n      if (!el.getAttribute('originOffsetTop')) {\n        el.setAttribute('originOffsetTop', String(el.offsetTop));\n      }\n      this.badges[version] = el;\n    }\n  };\n\n  shouldStick = (version: string) => {\n    const badge = this.badges[version];\n    return (\n      !!badge &&\n      Number(badge.getAttribute('originOffsetTop')) < this.state.scroll + STICKY_BADGE_SCROLL_OFFSET\n    );\n  };\n\n  handleRangeChange = ({ value }: { value: number }) => {\n    this.setState({ range: value }, () => this.fetchAnalyses());\n  };\n\n  render() {\n    const { analysis, onSelectAnalysis } = this.props;\n    const { analyses, loading, range } = this.state;\n\n    return (\n      <BranchAnalysisListRenderer\n        analyses={analyses}\n        handleRangeChange={this.handleRangeChange}\n        handleScroll={this.handleScroll}\n        loading={loading}\n        onSelectAnalysis={onSelectAnalysis}\n        range={range}\n        registerBadgeNode={this.registerBadgeNode}\n        registerScrollableNode={el => {\n          this.scrollableNode = el;\n        }}\n        selectedAnalysisKey={analysis}\n        shouldStick={this.shouldStick}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { toNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { setNewCodePeriod } from '../../../api/newCodePeriod';\nimport { Branch, BranchWithNewCodePeriod } from '../../../types/branch-like';\nimport { getSettingValue, validateSetting } from '../utils';\nimport BaselineSettingAnalysis from './BaselineSettingAnalysis';\nimport BaselineSettingDays from './BaselineSettingDays';\nimport BaselineSettingPreviousVersion from './BaselineSettingPreviousVersion';\nimport BaselineSettingReferenceBranch from './BaselineSettingReferenceBranch';\nimport BranchAnalysisList from './BranchAnalysisList';\n\ninterface Props {\n  branch: BranchWithNewCodePeriod;\n  branchList: Branch[];\n  component: string;\n  onClose: (branch?: string, newSetting?: T.NewCodePeriod) => void;\n}\n\ninterface State {\n  analysis: string;\n  analysisDate?: Date;\n  days: string;\n  referenceBranch: string;\n  saving: boolean;\n  selected?: T.NewCodePeriodSettingType;\n}\n\nexport default class BranchBaselineSettingModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    const otherBranches = props.branchList.filter(b => b.name !== props.branch.name);\n    const defaultBranch = otherBranches.length > 0 ? otherBranches[0].name : '';\n\n    this.state = {\n      analysis: this.getValueFromProps('SPECIFIC_ANALYSIS') || '',\n      days: this.getValueFromProps('NUMBER_OF_DAYS') || '30',\n      referenceBranch: this.getValueFromProps('REFERENCE_BRANCH') || defaultBranch,\n      saving: false,\n      selected: this.props.branch.newCodePeriod && this.props.branch.newCodePeriod.type\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getValueFromProps(type: T.NewCodePeriodSettingType) {\n    return this.props.branch.newCodePeriod && this.props.branch.newCodePeriod.type === type\n      ? this.props.branch.newCodePeriod.value\n      : null;\n  }\n\n  branchToOption = (b: Branch) => ({\n    value: b.name,\n    isMain: b.isMain,\n    disabled: b.name === this.props.branch.name // cannot itself be used as a reference branch\n  });\n\n  handleSubmit = (e: React.SyntheticEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const { branch, component } = this.props;\n    const { analysis, analysisDate, days, referenceBranch, selected: type } = this.state;\n\n    const value = getSettingValue({ type, analysis, days, referenceBranch });\n\n    if (type) {\n      this.setState({ saving: true });\n      setNewCodePeriod({\n        project: component,\n        type,\n        value,\n        branch: branch.name\n      }).then(\n        () => {\n          this.setState({\n            saving: false\n          });\n          this.props.onClose(branch.name, {\n            type,\n            value,\n            effectiveValue: analysisDate && toNotSoISOString(analysisDate)\n          });\n        },\n        () => {\n          this.setState({\n            saving: false\n          });\n        }\n      );\n    }\n  };\n\n  requestClose = () => this.props.onClose();\n\n  handleSelectAnalysis = (analysis: T.ParsedAnalysis) =>\n    this.setState({ analysis: analysis.key, analysisDate: analysis.date });\n\n  handleSelectDays = (days: string) => this.setState({ days });\n\n  handleSelectReferenceBranch = (referenceBranch: string) => this.setState({ referenceBranch });\n\n  handleSelectSetting = (selected: T.NewCodePeriodSettingType) => this.setState({ selected });\n\n  render() {\n    const { branch, branchList } = this.props;\n    const { analysis, days, referenceBranch, saving, selected } = this.state;\n\n    const header = translateWithParameters('baseline.new_code_period_for_branch_x', branch.name);\n\n    const currentSetting = branch.newCodePeriod && branch.newCodePeriod.type;\n    const currentSettingValue = branch.newCodePeriod && branch.newCodePeriod.value;\n\n    const { isChanged, isValid } = validateSetting({\n      analysis,\n      currentSetting,\n      currentSettingValue,\n      days,\n      referenceBranch,\n      selected\n    });\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.requestClose} size=\"large\">\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body modal-container branch-baseline-setting-modal\">\n            <div className=\"display-flex-row huge-spacer-bottom\" role=\"radiogroup\">\n              <BaselineSettingPreviousVersion\n                isDefault={false}\n                onSelect={this.handleSelectSetting}\n                selected={selected === 'PREVIOUS_VERSION'}\n              />\n              <BaselineSettingDays\n                days={days}\n                isChanged={isChanged}\n                isValid={isValid}\n                onChangeDays={this.handleSelectDays}\n                onSelect={this.handleSelectSetting}\n                selected={selected === 'NUMBER_OF_DAYS'}\n              />\n              <BaselineSettingAnalysis\n                onSelect={this.handleSelectSetting}\n                selected={selected === 'SPECIFIC_ANALYSIS'}\n              />\n              <BaselineSettingReferenceBranch\n                branchList={branchList.map(this.branchToOption)}\n                onChangeReferenceBranch={this.handleSelectReferenceBranch}\n                onSelect={this.handleSelectSetting}\n                referenceBranch={referenceBranch}\n                selected={selected === 'REFERENCE_BRANCH'}\n                settingLevel=\"branch\"\n              />\n            </div>\n            {selected === 'SPECIFIC_ANALYSIS' && (\n              <BranchAnalysisList\n                analysis={analysis}\n                branch={branch.name}\n                component={this.props.component}\n                onSelectAnalysis={this.handleSelectAnalysis}\n              />\n            )}\n          </div>\n          <footer className=\"modal-foot\">\n            <DeferredSpinner className=\"spacer-right\" loading={saving} />\n            <SubmitButton disabled={!isChanged || saving || !isValid}>\n              {translate('save')}\n            </SubmitButton>\n            <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActionsDropdown, {\n  ActionsDropdownItem\n} from 'sonar-ui-common/components/controls/ActionsDropdown';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport WarningIcon from 'sonar-ui-common/components/icons/WarningIcon';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport BranchLikeIcon from '../../../components/icons/BranchLikeIcon';\nimport { BranchWithNewCodePeriod } from '../../../types/branch-like';\n\nexport interface BranchListRowProps {\n  branch: BranchWithNewCodePeriod;\n  existingBranches: Array<string>;\n  inheritedSetting: T.NewCodePeriod;\n  onOpenEditModal: (branch: BranchWithNewCodePeriod) => void;\n  onResetToDefault: (branchName: string) => void;\n}\n\nfunction renderNewCodePeriodSetting(newCodePeriod: T.NewCodePeriod) {\n  switch (newCodePeriod.type) {\n    case 'SPECIFIC_ANALYSIS':\n      return (\n        <>\n          {`${translate('baseline.specific_analysis')}: `}\n          {newCodePeriod.effectiveValue ? (\n            <DateTimeFormatter date={newCodePeriod.effectiveValue} />\n          ) : (\n            '?'\n          )}\n        </>\n      );\n    case 'NUMBER_OF_DAYS':\n      return `${translate('baseline.number_days')}: ${newCodePeriod.value}`;\n    case 'PREVIOUS_VERSION':\n      return translate('baseline.previous_version');\n    case 'REFERENCE_BRANCH':\n      return `${translate('baseline.reference_branch')}: ${newCodePeriod.value}`;\n    default:\n      return newCodePeriod.type;\n  }\n}\n\nfunction branchInheritsItselfAsReference(\n  branch: BranchWithNewCodePeriod,\n  inheritedSetting: T.NewCodePeriod\n) {\n  return (\n    !branch.newCodePeriod &&\n    inheritedSetting.type === 'REFERENCE_BRANCH' &&\n    branch.name === inheritedSetting.value\n  );\n}\n\nfunction referenceBranchDoesNotExist(\n  branch: BranchWithNewCodePeriod,\n  existingBranches: Array<string>\n) {\n  return (\n    branch.newCodePeriod &&\n    branch.newCodePeriod.value &&\n    branch.newCodePeriod.type === 'REFERENCE_BRANCH' &&\n    !existingBranches.includes(branch.newCodePeriod.value)\n  );\n}\n\nexport default function BranchListRow(props: BranchListRowProps) {\n  const { branch, existingBranches, inheritedSetting } = props;\n\n  let settingWarning: string | undefined;\n  if (branchInheritsItselfAsReference(branch, inheritedSetting)) {\n    settingWarning = translateWithParameters(\n      'baseline.reference_branch.invalid_branch_setting',\n      branch.name\n    );\n  } else if (referenceBranchDoesNotExist(branch, existingBranches)) {\n    settingWarning = translateWithParameters(\n      'baseline.reference_branch.does_not_exist',\n      branch.newCodePeriod?.value || ''\n    );\n  }\n\n  return (\n    <tr className={settingWarning ? 'branch-setting-warning' : ''}>\n      <td className=\"nowrap\">\n        <BranchLikeIcon branchLike={branch} className=\"little-spacer-right\" />\n        {branch.name}\n        {branch.isMain && (\n          <div className=\"badge spacer-left\">{translate('branches.main_branch')}</div>\n        )}\n      </td>\n      <td className=\"huge-spacer-right nowrap\">\n        <Tooltip overlay={settingWarning}>\n          <span>\n            {settingWarning && <WarningIcon className=\"little-spacer-right\" />}\n            {branch.newCodePeriod\n              ? renderNewCodePeriodSetting(branch.newCodePeriod)\n              : translate('branch_list.default_setting')}\n          </span>\n        </Tooltip>\n      </td>\n      <td className=\"text-right\">\n        <ActionsDropdown>\n          <ActionsDropdownItem onClick={() => props.onOpenEditModal(branch)}>\n            {translate('edit')}\n          </ActionsDropdownItem>\n          {branch.newCodePeriod && (\n            <ActionsDropdownItem onClick={() => props.onResetToDefault(branch.name)}>\n              {translate('reset_to_default')}\n            </ActionsDropdownItem>\n          )}\n        </ActionsDropdown>\n      </td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { listBranchesNewCodePeriod, resetNewCodePeriod } from '../../../api/newCodePeriod';\nimport { isBranch, sortBranches } from '../../../helpers/branch-like';\nimport { Branch, BranchLike, BranchWithNewCodePeriod } from '../../../types/branch-like';\nimport BranchBaselineSettingModal from './BranchBaselineSettingModal';\nimport BranchListRow from './BranchListRow';\n\ninterface Props {\n  branchList: Branch[];\n  component: T.Component;\n  inheritedSetting: T.NewCodePeriod;\n}\n\ninterface State {\n  branches: BranchWithNewCodePeriod[];\n  editedBranch?: BranchWithNewCodePeriod;\n  loading: boolean;\n}\n\nexport default class BranchList extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    branches: [],\n    loading: true\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchBranches();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  sortAndFilterBranches(branchLikes: BranchLike[] = []) {\n    return sortBranches(branchLikes.filter(isBranch));\n  }\n\n  fetchBranches() {\n    const project = this.props.component.key;\n    this.setState({ loading: true });\n\n    listBranchesNewCodePeriod({ project }).then(\n      branchSettings => {\n        const newCodePeriods = branchSettings.newCodePeriods\n          ? branchSettings.newCodePeriods.filter(ncp => !ncp.inherited)\n          : [];\n\n        const branchesWithBaseline = this.props.branchList.map(b => {\n          const newCodePeriod = newCodePeriods.find(ncp => ncp.branchKey === b.name);\n          if (!newCodePeriod) {\n            return b;\n          }\n          const { type = 'PREVIOUS_VERSION', value, effectiveValue } = newCodePeriod;\n          return {\n            ...b,\n            newCodePeriod: { type, value, effectiveValue }\n          };\n        });\n\n        this.setState({ branches: branchesWithBaseline, loading: false });\n      },\n      () => {\n        this.setState({ loading: false });\n      }\n    );\n  }\n\n  updateBranchNewCodePeriod = (branch: string, newSetting: T.NewCodePeriod | undefined) => {\n    const { branches } = this.state;\n\n    const updated = branches.find(b => b.name === branch);\n    if (updated) {\n      updated.newCodePeriod = newSetting;\n    }\n    return branches.slice(0);\n  };\n\n  openEditModal = (branch: BranchWithNewCodePeriod) => {\n    this.setState({ editedBranch: branch });\n  };\n\n  closeEditModal = (branch?: string, newSetting?: T.NewCodePeriod) => {\n    if (branch) {\n      this.setState({\n        branches: this.updateBranchNewCodePeriod(branch, newSetting),\n        editedBranch: undefined\n      });\n    } else {\n      this.setState({ editedBranch: undefined });\n    }\n  };\n\n  resetToDefault = (branch: string) => {\n    return resetNewCodePeriod({\n      project: this.props.component.key,\n      branch\n    }).then(() => {\n      this.setState({ branches: this.updateBranchNewCodePeriod(branch, undefined) });\n    });\n  };\n\n  render() {\n    const { branchList, inheritedSetting } = this.props;\n    const { branches, editedBranch, loading } = this.state;\n\n    if (branches.length < 1) {\n      return null;\n    }\n\n    if (loading) {\n      return <DeferredSpinner />;\n    }\n\n    return (\n      <>\n        <table className=\"data zebra\">\n          <thead>\n            <tr>\n              <th>{translate('branch_list.branch')}</th>\n              <th className=\"nowrap huge-spacer-right\">\n                {translate('branch_list.current_setting')}\n              </th>\n              <th className=\"thin nowrap\">{translate('branch_list.actions')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {branches.map(branch => (\n              <BranchListRow\n                branch={branch}\n                existingBranches={branchList.map(b => b.name)}\n                inheritedSetting={inheritedSetting}\n                key={branch.name}\n                onOpenEditModal={this.openEditModal}\n                onResetToDefault={this.resetToDefault}\n              />\n            ))}\n          </tbody>\n        </table>\n        {editedBranch && (\n          <BranchBaselineSettingModal\n            branch={editedBranch}\n            branchList={branchList}\n            component={this.props.component.key}\n            onClose={this.closeEditModal}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { Branch } from '../../../types/branch-like';\nimport { validateSetting } from '../utils';\nimport BaselineSettingAnalysis from './BaselineSettingAnalysis';\nimport BaselineSettingDays from './BaselineSettingDays';\nimport BaselineSettingPreviousVersion from './BaselineSettingPreviousVersion';\nimport BaselineSettingReferenceBranch from './BaselineSettingReferenceBranch';\nimport BranchAnalysisList from './BranchAnalysisList';\n\nexport interface ProjectBaselineSelectorProps {\n  analysis?: string;\n  branchList: Branch[];\n  branchesEnabled?: boolean;\n  component: string;\n  currentSetting?: T.NewCodePeriodSettingType;\n  currentSettingValue?: string;\n  days: string;\n  generalSetting: T.NewCodePeriod;\n  onCancel: () => void;\n  onSelectAnalysis: (analysis: T.ParsedAnalysis) => void;\n  onSelectDays: (value: string) => void;\n  onSelectReferenceBranch: (value: string) => void;\n  onSelectSetting: (value?: T.NewCodePeriodSettingType) => void;\n  onSubmit: (e: React.SyntheticEvent<HTMLFormElement>) => void;\n  onToggleSpecificSetting: (selection: boolean) => void;\n  referenceBranch?: string;\n  saving: boolean;\n  selected?: T.NewCodePeriodSettingType;\n  overrideGeneralSetting: boolean;\n}\n\nfunction renderGeneralSetting(generalSetting: T.NewCodePeriod) {\n  let setting: string;\n  let description: string;\n  if (generalSetting.type === 'NUMBER_OF_DAYS') {\n    setting = `${translate('baseline.number_days')} (${translateWithParameters(\n      'duration.days',\n      generalSetting.value || '?'\n    )})`;\n    description = translate('baseline.number_days.description');\n  } else {\n    setting = translate('baseline.previous_version');\n    description = translate('baseline.previous_version.description');\n  }\n\n  return (\n    <div className=\"general-setting\">\n      <strong>{setting}</strong>: {description}\n    </div>\n  );\n}\n\nfunction branchToOption(b: Branch) {\n  return { value: b.name, isMain: b.isMain };\n}\n\nexport default function ProjectBaselineSelector(props: ProjectBaselineSelectorProps) {\n  const {\n    analysis,\n    branchList,\n    branchesEnabled,\n    component,\n    currentSetting,\n    currentSettingValue,\n    days,\n    generalSetting,\n    overrideGeneralSetting,\n    referenceBranch,\n    saving,\n    selected\n  } = props;\n\n  const { isChanged, isValid } = validateSetting({\n    analysis,\n    currentSetting,\n    currentSettingValue,\n    days,\n    overrideGeneralSetting,\n    referenceBranch,\n    selected\n  });\n\n  return (\n    <form className=\"project-baseline-selector\" onSubmit={props.onSubmit}>\n      <div className=\"big-spacer-top spacer-bottom\" role=\"radiogroup\">\n        <Radio\n          checked={!overrideGeneralSetting}\n          className=\"big-spacer-bottom\"\n          onCheck={() => props.onToggleSpecificSetting(false)}\n          value=\"general\">\n          {translate('project_baseline.general_setting')}\n        </Radio>\n        <div className=\"big-spacer-left\">{renderGeneralSetting(generalSetting)}</div>\n\n        <Radio\n          checked={overrideGeneralSetting}\n          className=\"huge-spacer-top\"\n          onCheck={() => props.onToggleSpecificSetting(true)}\n          value=\"specific\">\n          {translate('project_baseline.specific_setting')}\n        </Radio>\n      </div>\n\n      <div className=\"big-spacer-left big-spacer-right project-baseline-setting\">\n        <div className=\"display-flex-row big-spacer-bottom\" role=\"radiogroup\">\n          <BaselineSettingPreviousVersion\n            disabled={!overrideGeneralSetting}\n            onSelect={props.onSelectSetting}\n            selected={overrideGeneralSetting && selected === 'PREVIOUS_VERSION'}\n          />\n          <BaselineSettingDays\n            days={days}\n            disabled={!overrideGeneralSetting}\n            isChanged={isChanged}\n            isValid={isValid}\n            onChangeDays={props.onSelectDays}\n            onSelect={props.onSelectSetting}\n            selected={overrideGeneralSetting && selected === 'NUMBER_OF_DAYS'}\n          />\n          {branchesEnabled ? (\n            <BaselineSettingReferenceBranch\n              branchList={branchList.map(branchToOption)}\n              disabled={!overrideGeneralSetting}\n              onChangeReferenceBranch={props.onSelectReferenceBranch}\n              onSelect={props.onSelectSetting}\n              referenceBranch={referenceBranch || ''}\n              selected={overrideGeneralSetting && selected === 'REFERENCE_BRANCH'}\n              settingLevel=\"project\"\n            />\n          ) : (\n            <BaselineSettingAnalysis\n              disabled={!overrideGeneralSetting}\n              onSelect={props.onSelectSetting}\n              selected={overrideGeneralSetting && selected === 'SPECIFIC_ANALYSIS'}\n            />\n          )}\n        </div>\n        {selected === 'SPECIFIC_ANALYSIS' && (\n          <BranchAnalysisList\n            analysis={analysis || ''}\n            branch=\"master\"\n            component={component}\n            onSelectAnalysis={props.onSelectAnalysis}\n          />\n        )}\n      </div>\n      <div className={classNames('big-spacer-top', { invisible: !isChanged })}>\n        <Alert variant=\"info\" className=\"spacer-bottom\">\n          {translate('baseline.next_analysis_notice')}\n        </Alert>\n        <DeferredSpinner className=\"spacer-right\" loading={saving} />\n        <SubmitButton disabled={saving || !isValid || !isChanged}>{translate('save')}</SubmitButton>\n        <ResetButtonLink className=\"spacer-left\" onClick={props.onCancel}>\n          {translate('cancel')}\n        </ResetButtonLink>\n      </div>\n    </form>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { debounce } from 'lodash';\nimport * as React from 'react';\nimport AlertSuccessIcon from 'sonar-ui-common/components/icons/AlertSuccessIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getNewCodePeriod, resetNewCodePeriod, setNewCodePeriod } from '../../../api/newCodePeriod';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport { isBranch, sortBranches } from '../../../helpers/branch-like';\nimport { Branch, BranchLike } from '../../../types/branch-like';\nimport '../styles.css';\nimport { getSettingValue } from '../utils';\nimport AppHeader from './AppHeader';\nimport BranchList from './BranchList';\nimport ProjectBaselineSelector from './ProjectBaselineSelector';\n\ninterface Props {\n  branchLikes: BranchLike[];\n  branchesEnabled?: boolean;\n  canAdmin?: boolean;\n  component: T.Component;\n}\n\ninterface State {\n  analysis?: string;\n  branchList: Branch[];\n  currentSetting?: T.NewCodePeriodSettingType;\n  currentSettingValue?: string;\n  days: string;\n  generalSetting?: T.NewCodePeriod;\n  loading: boolean;\n  overrideGeneralSetting?: boolean;\n  referenceBranch?: string;\n  saving: boolean;\n  selected?: T.NewCodePeriodSettingType;\n  success?: boolean;\n}\n\nconst DEFAULT_NUMBER_OF_DAYS = '30';\n\nconst DEFAULT_GENERAL_SETTING: { type: T.NewCodePeriodSettingType } = {\n  type: 'PREVIOUS_VERSION'\n};\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    branchList: [],\n    days: DEFAULT_NUMBER_OF_DAYS,\n    loading: true,\n    saving: false\n  };\n\n  // We use debounce as we could have multiple save in less that 3sec.\n  resetSuccess = debounce(() => this.setState({ success: undefined }), 3000);\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchLeakPeriodSetting();\n    this.sortAndFilterBranches(this.props.branchLikes);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.branchLikes !== this.props.branchLikes) {\n      this.sortAndFilterBranches(this.props.branchLikes);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getUpdatedState(params: {\n    currentSetting?: T.NewCodePeriodSettingType;\n    currentSettingValue?: string;\n    generalSetting: T.NewCodePeriod;\n  }) {\n    const { currentSetting, currentSettingValue, generalSetting } = params;\n    const { referenceBranch } = this.state;\n\n    const defaultDays =\n      (generalSetting.type === 'NUMBER_OF_DAYS' && generalSetting.value) || DEFAULT_NUMBER_OF_DAYS;\n\n    return {\n      loading: false,\n      currentSetting,\n      currentSettingValue,\n      generalSetting,\n      selected: currentSetting || generalSetting.type,\n      overrideGeneralSetting: Boolean(currentSetting),\n      days: (currentSetting === 'NUMBER_OF_DAYS' && currentSettingValue) || defaultDays,\n      analysis: (currentSetting === 'SPECIFIC_ANALYSIS' && currentSettingValue) || '',\n      referenceBranch:\n        (currentSetting === 'REFERENCE_BRANCH' && currentSettingValue) || referenceBranch\n    };\n  }\n\n  sortAndFilterBranches(branchLikes: BranchLike[] = []) {\n    const branchList = sortBranches(branchLikes.filter(isBranch));\n    this.setState({ branchList, referenceBranch: branchList[0].name });\n  }\n\n  fetchLeakPeriodSetting() {\n    this.setState({ loading: true });\n\n    Promise.all([\n      getNewCodePeriod(),\n      getNewCodePeriod({\n        branch: !this.props.branchesEnabled ? 'master' : undefined,\n        project: this.props.component.key\n      })\n    ]).then(\n      ([generalSetting, setting]) => {\n        if (this.mounted) {\n          if (!generalSetting.type) {\n            generalSetting = DEFAULT_GENERAL_SETTING;\n          }\n          const currentSettingValue = setting.value;\n          const currentSetting = setting.inherited ? undefined : setting.type || 'PREVIOUS_VERSION';\n\n          this.setState(\n            this.getUpdatedState({\n              generalSetting,\n              currentSetting,\n              currentSettingValue\n            })\n          );\n        }\n      },\n      () => {\n        this.setState({ loading: false });\n      }\n    );\n  }\n\n  resetSetting = () => {\n    this.setState({ saving: true });\n    resetNewCodePeriod({ project: this.props.component.key }).then(\n      () => {\n        this.setState({\n          saving: false,\n          currentSetting: undefined,\n          selected: undefined,\n          success: true\n        });\n        this.resetSuccess();\n      },\n      () => {\n        this.setState({ saving: false });\n      }\n    );\n  };\n\n  handleSelectAnalysis = (analysis: T.ParsedAnalysis) => this.setState({ analysis: analysis.key });\n\n  handleSelectDays = (days: string) => this.setState({ days });\n\n  handleSelectReferenceBranch = (referenceBranch: string) => {\n    this.setState({ referenceBranch });\n  };\n\n  handleCancel = () =>\n    this.setState(\n      ({ generalSetting = DEFAULT_GENERAL_SETTING, currentSetting, currentSettingValue }) =>\n        this.getUpdatedState({ generalSetting, currentSetting, currentSettingValue })\n    );\n\n  handleSelectSetting = (selected?: T.NewCodePeriodSettingType) => this.setState({ selected });\n\n  handleToggleSpecificSetting = (overrideGeneralSetting: boolean) =>\n    this.setState({ overrideGeneralSetting });\n\n  handleSubmit = (e: React.SyntheticEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const { component } = this.props;\n    const { analysis, days, selected: type, referenceBranch, overrideGeneralSetting } = this.state;\n\n    if (!overrideGeneralSetting) {\n      this.resetSetting();\n      return;\n    }\n\n    const value = getSettingValue({ type, analysis, days, referenceBranch });\n\n    if (type) {\n      this.setState({ saving: true });\n      setNewCodePeriod({\n        project: component.key,\n        type,\n        value\n      }).then(\n        () => {\n          this.setState({\n            saving: false,\n            currentSetting: type,\n            currentSettingValue: value || undefined,\n            success: true\n          });\n          this.resetSuccess();\n        },\n        () => {\n          this.setState({ saving: false });\n        }\n      );\n    }\n  };\n\n  render() {\n    const { branchesEnabled, canAdmin, component } = this.props;\n    const {\n      analysis,\n      branchList,\n      currentSetting,\n      days,\n      generalSetting,\n      loading,\n      currentSettingValue,\n      overrideGeneralSetting,\n      referenceBranch,\n      saving,\n      selected,\n      success\n    } = this.state;\n\n    return (\n      <>\n        <Suggestions suggestions=\"project_baseline\" />\n        <div className=\"page page-limited\">\n          <AppHeader canAdmin={!!canAdmin} />\n          {loading ? (\n            <DeferredSpinner />\n          ) : (\n            <div className=\"panel-white project-baseline\">\n              {branchesEnabled && <h2>{translate('project_baseline.default_setting')}</h2>}\n\n              {generalSetting && overrideGeneralSetting !== undefined && (\n                <ProjectBaselineSelector\n                  analysis={analysis}\n                  branchList={branchList}\n                  branchesEnabled={branchesEnabled}\n                  component={component.key}\n                  currentSetting={currentSetting}\n                  currentSettingValue={currentSettingValue}\n                  days={days}\n                  generalSetting={generalSetting}\n                  onCancel={this.handleCancel}\n                  onSelectAnalysis={this.handleSelectAnalysis}\n                  onSelectDays={this.handleSelectDays}\n                  onSelectReferenceBranch={this.handleSelectReferenceBranch}\n                  onSelectSetting={this.handleSelectSetting}\n                  onSubmit={this.handleSubmit}\n                  onToggleSpecificSetting={this.handleToggleSpecificSetting}\n                  overrideGeneralSetting={overrideGeneralSetting}\n                  referenceBranch={referenceBranch}\n                  saving={saving}\n                  selected={selected}\n                />\n              )}\n\n              <div className={classNames('spacer-top', { invisible: saving || !success })}>\n                <span className=\"text-success\">\n                  <AlertSuccessIcon className=\"spacer-right\" />\n                  {translate('settings.state.saved')}\n                </span>\n              </div>\n              {generalSetting && branchesEnabled && (\n                <div className=\"huge-spacer-top branch-baseline-selector\">\n                  <hr />\n                  <h2>{translate('project_baseline.configure_branches')}</h2>\n                  <BranchList\n                    branchList={branchList}\n                    component={component}\n                    inheritedSetting={\n                      currentSetting\n                        ? {\n                            type: currentSetting,\n                            value: currentSettingValue\n                          }\n                        : generalSetting\n                    }\n                  />\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getAppState, Store } from '../../../store/rootReducer';\nimport App from './App';\n\nconst mapStateToProps = (state: Store) => ({\n  branchesEnabled: getAppState(state).branchesEnabled,\n  canAdmin: getAppState(state).canAdmin\n});\n\nexport default connect(mapStateToProps)(App);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar HelpIcon_1 = require(\"../icons/HelpIcon\");\nvar theme_1 = require(\"../theme\");\nrequire(\"./HelpTooltip.css\");\nvar Tooltip_1 = require(\"./Tooltip\");\nfunction HelpTooltip(props) {\n    var _a = props.tagName, tagName = _a === void 0 ? 'div' : _a;\n    return React.createElement(tagName, { className: classNames('help-tooltip', props.className) }, React.createElement(Tooltip_1.default, { mouseLeaveDelay: 0.25, onShow: props.onShow, overlay: props.overlay, placement: props.placement },\n        React.createElement(\"span\", { className: \"display-inline-flex-center\" }, props.children || (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return React.createElement(HelpIcon_1.default, { fill: theme.colors.gray71, size: 12 }); })))));\n}\nexports.default = HelpTooltip;\n//# sourceMappingURL=HelpTooltip.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n};\nfunction DateTimeFormatter(_a) {\n    var children = _a.children, date = _a.date;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, exports.formatterOption), children));\n}\nexports.default = DateTimeFormatter;\n//# sourceMappingURL=DateTimeFormatter.js.map","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar measures_1 = require(\"../../helpers/measures\");\nrequire(\"./Level.css\");\nfunction Level(props) {\n    var formatted = measures_1.formatMeasure(props.level, 'LEVEL');\n    var className = classNames(props.className, 'level', 'level-' + props.level, {\n        'level-small': props.small,\n        'level-muted': props.muted,\n    });\n    return (React.createElement(\"span\", { \"aria-label\": props['aria-label'], \"aria-labelledby\": props['aria-labelledby'], className: className }, formatted));\n}\nexports.default = Level;\n//# sourceMappingURL=Level.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar react_router_1 = require(\"react-router\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DropdownIcon_1 = require(\"../icons/DropdownIcon\");\nvar SettingsIcon_1 = require(\"../icons/SettingsIcon\");\nvar buttons_1 = require(\"./buttons\");\nvar clipboard_1 = require(\"./clipboard\");\nvar Dropdown_1 = require(\"./Dropdown\");\nvar Tooltip_1 = require(\"./Tooltip\");\nfunction ActionsDropdown(props) {\n    var children = props.children, className = props.className, overlayPlacement = props.overlayPlacement, small = props.small, toggleClassName = props.toggleClassName;\n    return (React.createElement(Dropdown_1.default, { className: className, onOpen: props.onOpen, overlay: React.createElement(\"ul\", { className: \"menu\" }, children), overlayPlacement: overlayPlacement },\n        React.createElement(buttons_1.Button, { className: classNames('dropdown-toggle', toggleClassName, {\n                'button-small': small,\n            }) },\n            React.createElement(SettingsIcon_1.default, { size: small ? 12 : 14 }),\n            React.createElement(DropdownIcon_1.default, { className: \"little-spacer-left\" }))));\n}\nexports.default = ActionsDropdown;\nvar ActionsDropdownItem = (function (_super) {\n    __extends(ActionsDropdownItem, _super);\n    function ActionsDropdownItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (_this.props.onClick) {\n                _this.props.onClick();\n            }\n        };\n        return _this;\n    }\n    ActionsDropdownItem.prototype.render = function () {\n        var _this = this;\n        var className = classNames(this.props.className, { 'text-danger': this.props.destructive });\n        if (this.props.download && typeof this.props.to === 'string') {\n            return (React.createElement(\"li\", null,\n                React.createElement(\"a\", { className: className, download: this.props.download, href: this.props.to, id: this.props.id }, this.props.children)));\n        }\n        if (this.props.to) {\n            return (React.createElement(\"li\", null,\n                React.createElement(react_router_1.Link, { className: className, id: this.props.id, to: this.props.to }, this.props.children)));\n        }\n        if (this.props.copyValue) {\n            return (React.createElement(clipboard_1.ClipboardBase, null, function (_a) {\n                var setCopyButton = _a.setCopyButton, copySuccess = _a.copySuccess;\n                return (React.createElement(Tooltip_1.default, { overlay: l10n_1.translate('copied_action'), visible: copySuccess },\n                    React.createElement(\"li\", { \"data-clipboard-text\": _this.props.copyValue, ref: setCopyButton },\n                        React.createElement(\"a\", { className: className, href: \"#\", id: _this.props.id, onClick: _this.handleClick }, _this.props.children))));\n            }));\n        }\n        return (React.createElement(\"li\", null,\n            React.createElement(\"a\", { className: className, href: \"#\", id: this.props.id, onClick: this.handleClick }, this.props.children)));\n    };\n    return ActionsDropdownItem;\n}(React.PureComponent));\nexports.ActionsDropdownItem = ActionsDropdownItem;\nfunction ActionsDropdownDivider() {\n    return React.createElement(\"li\", { className: \"divider\" });\n}\nexports.ActionsDropdownDivider = ActionsDropdownDivider;\n//# sourceMappingURL=ActionsDropdown.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction SettingsIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, _c = _a.size, size = _c === void 0 ? 14 : _c, iconProps = __rest(_a, [\"fill\", \"size\"]);\n    return (React.createElement(Icon_1.default, __assign({ size: size, viewBox: \"0 0 14 14\" }, iconProps),\n        React.createElement(\"g\", { transform: \"matrix(0.0364583,0,0,0.0364583,0,-1.16667)\" },\n            React.createElement(\"path\", { d: \"M256,224C256,206.333 249.75,191.25 237.25,178.75C224.75,166.25 209.667,160 192,160C174.333,160 159.25,166.25 146.75,178.75C134.25,191.25 128,206.333 128,224C128,241.667 134.25,256.75 146.75,269.25C159.25,281.75 174.333,288 192,288C209.667,288 224.75,281.75 237.25,269.25C249.75,256.75 256,241.667 256,224ZM384,196.75L384,252.25C384,254.25 383.333,256.167 382,258C380.667,259.833 379,260.917 377,261.25L330.75,268.25C327.583,277.25 324.333,284.833 321,291C326.833,299.333 335.75,310.833 347.75,325.5C349.417,327.5 350.25,329.583 350.25,331.75C350.25,333.917 349.5,335.833 348,337.5C343.5,343.667 335.25,352.667 323.25,364.5C311.25,376.333 303.417,382.25 299.75,382.25C297.75,382.25 295.583,381.5 293.25,380L258.75,353C251.417,356.833 243.833,360 236,362.5C233.333,385.167 230.917,400.667 228.75,409C227.583,413.667 224.583,416 219.75,416L164.25,416C161.917,416 159.875,415.292 158.125,413.875C156.375,412.458 155.417,410.667 155.25,408.5L148.25,362.5C140.083,359.833 132.583,356.75 125.75,353.25L90.5,380C88.833,381.5 86.75,382.25 84.25,382.25C81.917,382.25 79.833,381.333 78,379.5C57,360.5 43.25,346.5 36.75,337.5C35.583,335.833 35,333.917 35,331.75C35,329.75 35.667,327.833 37,326C39.5,322.5 43.75,316.958 49.75,309.375C55.75,301.792 60.25,295.917 63.25,291.75C58.75,283.417 55.333,275.167 53,267L7.25,260.25C5.083,259.917 3.333,258.875 2,257.125C0.667,255.375 0,253.417 0,251.25L0,195.75C0,193.75 0.667,191.833 2,190C3.333,188.167 4.917,187.083 6.75,186.75L53.25,179.75C55.583,172.083 58.833,164.417 63,156.75C56.333,147.25 47.417,135.75 36.25,122.25C34.583,120.25 33.75,118.25 33.75,116.25C33.75,114.583 34.5,112.667 36,110.5C40.333,104.5 48.542,95.542 60.625,83.625C72.708,71.708 80.583,65.75 84.25,65.75C86.417,65.75 88.583,66.583 90.75,68.25L125.25,95C132.583,91.167 140.167,88 148,85.5C150.667,62.833 153.083,47.333 155.25,39C156.417,34.333 159.417,32 164.25,32L219.75,32C222.083,32 224.125,32.708 225.875,34.125C227.625,35.542 228.583,37.333 228.75,39.5L235.75,85.5C243.917,88.167 251.417,91.25 258.25,94.75L293.75,68C295.25,66.5 297.25,65.75 299.75,65.75C301.917,65.75 304,66.583 306,68.25C327.5,88.083 341.25,102.25 347.25,110.75C348.417,112.083 349,113.917 349,116.25C349,118.25 348.333,120.167 347,122C344.5,125.5 340.25,131.042 334.25,138.625C328.25,146.208 323.75,152.083 320.75,156.25C325.083,164.583 328.5,172.75 331,180.75L376.75,187.75C378.917,188.083 380.667,189.125 382,190.875C383.333,192.625 384,194.583 384,196.75Z\", style: { fill: fill } }))));\n}\nexports.default = SettingsIcon;\n//# sourceMappingURL=SettingsIcon.js.map","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { chunk, flatMap, groupBy, sortBy } from 'lodash';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport { get, save } from 'sonar-ui-common/helpers/storage';\nimport { localizeMetric } from '../../helpers/measures';\nimport { MetricKey } from '../../types/metrics';\nimport { GraphType, MeasureHistory, Serie } from '../../types/project-activity';\n\nexport const DEFAULT_GRAPH = GraphType.issues;\n\nconst GRAPHS_METRICS_DISPLAYED: T.Dict<string[]> = {\n  [GraphType.issues]: [MetricKey.bugs, MetricKey.code_smells, MetricKey.vulnerabilities],\n  [GraphType.coverage]: [MetricKey.lines_to_cover, MetricKey.uncovered_lines],\n  [GraphType.duplications]: [MetricKey.ncloc, MetricKey.duplicated_lines]\n};\n\nconst GRAPHS_METRICS: T.Dict<string[]> = {\n  [GraphType.issues]: GRAPHS_METRICS_DISPLAYED[GraphType.issues].concat([\n    MetricKey.reliability_rating,\n    MetricKey.security_rating,\n    MetricKey.sqale_rating\n  ]),\n  [GraphType.coverage]: [...GRAPHS_METRICS_DISPLAYED[GraphType.coverage], MetricKey.coverage],\n  [GraphType.duplications]: [\n    ...GRAPHS_METRICS_DISPLAYED[GraphType.duplications],\n    MetricKey.duplicated_lines_density\n  ]\n};\n\nexport function isCustomGraph(graph: GraphType) {\n  return graph === GraphType.custom;\n}\n\nexport function getGraphTypes(ignoreCustom = false) {\n  const graphs = [GraphType.issues, GraphType.coverage, GraphType.duplications];\n  return ignoreCustom ? graphs : [...graphs, GraphType.custom];\n}\n\nexport function hasDataValues(serie: Serie) {\n  return serie.data.some(point => Boolean(point.y || point.y === 0));\n}\n\nexport function hasHistoryData(series: Serie[]) {\n  return series.some(serie => serie.data && serie.data.length > 1);\n}\n\nexport function getSeriesMetricType(series: Serie[]) {\n  return series.length > 0 ? series[0].type : 'INT';\n}\n\nexport function getDisplayedHistoryMetrics(graph: GraphType, customMetrics: string[]) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph];\n}\n\nexport function getHistoryMetrics(graph: GraphType, customMetrics: string[]) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n}\n\nexport function hasHistoryDataValue(series: Serie[]) {\n  return series.some(serie => serie.data && serie.data.length > 1 && hasDataValues(serie));\n}\n\nexport function splitSeriesInGraphs(series: Serie[], maxGraph: number, maxSeries: number) {\n  return flatMap(\n    groupBy(series, serie => serie.type),\n    type => chunk(type, maxSeries)\n  ).slice(0, maxGraph);\n}\n\nexport function generateCoveredLinesMetric(\n  uncoveredLines: MeasureHistory,\n  measuresHistory: MeasureHistory[]\n) {\n  const linesToCover = measuresHistory.find(measure => measure.metric === MetricKey.lines_to_cover);\n  return {\n    data: linesToCover\n      ? uncoveredLines.history.map((analysis, idx) => ({\n          x: analysis.date,\n          y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n        }))\n      : [],\n    name: 'covered_lines',\n    translatedName: translate('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n}\n\nexport function generateSeries(\n  measuresHistory: MeasureHistory[],\n  graph: GraphType,\n  metrics: T.Metric[] | T.Dict<T.Metric>,\n  displayedMetrics: string[]\n): Serie[] {\n  if (displayedMetrics.length <= 0 || measuresHistory === undefined) {\n    return [];\n  }\n  return sortBy(\n    measuresHistory\n      .filter(measure => displayedMetrics.indexOf(measure.metric) >= 0)\n      .map(measure => {\n        if (measure.metric === MetricKey.uncovered_lines && !isCustomGraph(graph)) {\n          return generateCoveredLinesMetric(measure, measuresHistory);\n        }\n        const metric = findMetric(measure.metric, metrics);\n        return {\n          data: measure.history.map(analysis => ({\n            x: analysis.date,\n            y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n          })),\n          name: measure.metric,\n          translatedName: metric ? getLocalizedMetricName(metric) : localizeMetric(measure.metric),\n          type: metric ? metric.type : 'INT'\n        };\n      }),\n    serie =>\n      displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name)\n  );\n}\n\nexport function saveActivityGraph(\n  namespace: string,\n  project: string,\n  graph: GraphType,\n  metrics: string[] = []\n) {\n  save(namespace, graph, project);\n  if (isCustomGraph(graph)) {\n    save(`${namespace}.custom`, metrics.join(','), project);\n  }\n}\n\nexport function getActivityGraph(\n  namespace: string,\n  project: string\n): { graph: GraphType; customGraphs: string[] } {\n  const customGraphs = get(`${namespace}.custom`, project);\n  return {\n    graph: (get(namespace, project) as GraphType) || DEFAULT_GRAPH,\n    customGraphs: customGraphs ? customGraphs.split(',') : []\n  };\n}\n\nfunction findMetric(key: string, metrics: T.Metric[] | T.Dict<T.Metric>) {\n  if (Array.isArray(metrics)) {\n    return metrics.find(metric => metric.key === key);\n  }\n  return metrics[key];\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BranchIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nexports.default = BranchIcon;\n//# sourceMappingURL=BranchIcon.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Level.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:20px;line-height:20px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum GraphType {\n  issues = 'issues',\n  coverage = 'coverage',\n  duplications = 'duplications',\n  custom = 'custom'\n}\n\nexport interface HistoryItem {\n  date: Date;\n  value?: string;\n}\n\nexport interface MeasureHistory {\n  metric: string;\n  history: HistoryItem[];\n}\n\nexport interface Serie {\n  data: Point[];\n  name: string;\n  translatedName: string;\n  type: string;\n}\n\nexport interface Point {\n  x: Date;\n  y: number | string | undefined;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar RecommendedIcon_1 = require(\"../icons/RecommendedIcon\");\nrequire(\"./Radio.css\");\nrequire(\"./RadioCard.css\");\nfunction RadioCard(props) {\n    var className = props.className, disabled = props.disabled, onClick = props.onClick, recommended = props.recommended, selected = props.selected, titleInfo = props.titleInfo;\n    var isActionable = Boolean(onClick);\n    return (React.createElement(\"div\", { \"aria-checked\": selected, className: classNames('radio-card', { 'radio-card-actionable': isActionable, disabled: disabled, selected: selected }, className), onClick: isActionable && !disabled ? onClick : undefined, role: \"radio\", tabIndex: 0 },\n        React.createElement(\"h2\", { className: \"radio-card-header big-spacer-bottom\" },\n            React.createElement(\"span\", { className: \"display-flex-center link-radio\" },\n                isActionable && (React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': selected }) })),\n                props.title),\n            titleInfo),\n        React.createElement(\"div\", { className: \"radio-card-body\" }, props.children),\n        recommended && (React.createElement(\"div\", { className: \"radio-card-recommended\" },\n            React.createElement(RecommendedIcon_1.default, { className: \"spacer-right\" }),\n            React.createElement(react_intl_1.FormattedMessage, { defaultMessage: recommended, id: recommended, values: { recommended: React.createElement(\"strong\", null, l10n_1.translate('recommended')) } })))));\n}\nexports.default = RadioCard;\n//# sourceMappingURL=RadioCard.js.map","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction PullRequestIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M13,11.9L13,5.5C13,5.4 13.232,1.996 7.9,2L9.1,0.8L8.5,0.1L5.9,2.6L8.5,5.1L9.2,4.4L7.905,3.008C12.256,2.99 12,5.4 12,5.5L12,11.9C11.1,12.1 10.5,12.9 10.5,13.8C10.5,14.9 11.4,15.8 12.5,15.8C13.6,15.8 14.5,14.9 14.5,13.8C14.5,12.9 13.9,12.2 13,11.9ZM4,11.9C4.9,12.2 5.5,12.9 5.5,13.8C5.5,14.9 4.6,15.8 3.5,15.8C2.4,15.8 1.5,14.9 1.5,13.8C1.5,12.9 2.1,12.1 3,11.9L3,4.1C2.1,3.9 1.5,3.1 1.5,2.2C1.5,1.1 2.4,0.2 3.5,0.2C4.6,0.2 5.5,1.1 5.5,2.2C5.5,3.1 4.9,3.9 4,4.1L4,11.9ZM12.5,14.9C11.9,14.9 11.5,14.5 11.5,13.9C11.5,13.3 11.9,12.9 12.5,12.9C13.1,12.9 13.5,13.3 13.5,13.9C13.5,14.5 13.1,14.9 12.5,14.9ZM3.5,14.9C2.9,14.9 2.5,14.5 2.5,13.9C2.5,13.3 2.9,12.9 3.5,12.9C4.1,12.9 4.5,13.3 4.5,13.9C4.5,14.5 4.1,14.9 3.5,14.9ZM2.5,2.2C2.5,1.6 2.9,1.2 3.5,1.2C4.1,1.2 4.5,1.6 4.5,2.2C4.5,2.8 4.1,3.2 3.5,3.2C2.9,3.2 2.5,2.8 2.5,2.2Z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nexports.default = PullRequestIcon;\n//# sourceMappingURL=PullRequestIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar AlertErrorIcon_1 = require(\"../icons/AlertErrorIcon\");\nvar AlertSuccessIcon_1 = require(\"../icons/AlertSuccessIcon\");\nvar HelpTooltip_1 = require(\"./HelpTooltip\");\nfunction ValidationInput(props) {\n    var hasError = props.isInvalid && props.error !== undefined;\n    return (React.createElement(\"div\", { className: props.className },\n        React.createElement(\"label\", { htmlFor: props.id },\n            React.createElement(\"span\", { className: \"text-middle\" },\n                React.createElement(\"strong\", null, props.label),\n                props.required && React.createElement(\"em\", { className: \"mandatory\" }, \"*\")),\n            props.help && React.createElement(HelpTooltip_1.default, { className: \"spacer-left\", overlay: props.help })),\n        React.createElement(\"div\", { className: \"little-spacer-top spacer-bottom\" },\n            props.children,\n            props.isInvalid && React.createElement(AlertErrorIcon_1.default, { className: \"spacer-left text-middle\" }),\n            hasError && (React.createElement(\"span\", { className: \"little-spacer-left text-danger text-middle\" }, props.error)),\n            props.isValid && React.createElement(AlertSuccessIcon_1.default, { className: \"spacer-left text-middle\" })),\n        props.description && React.createElement(\"div\", { className: \"note abs-width-400\" }, props.description)));\n}\nexports.default = ValidationInput;\n//# sourceMappingURL=ValidationInput.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = { hour: 'numeric', minute: 'numeric' };\nexports.longFormatterOption = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\nfunction TimeFormatter(_a) {\n    var children = _a.children, date = _a.date, long = _a.long;\n    return (React.createElement(react_intl_1.FormattedTime, __assign({ value: dates_1.parseDate(date) }, (long ? exports.longFormatterOption : exports.formatterOption)), children));\n}\nexports.default = TimeFormatter;\n//# sourceMappingURL=TimeFormatter.js.map","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BranchIcon from 'sonar-ui-common/components/icons/BranchIcon';\nimport { IconProps } from 'sonar-ui-common/components/icons/Icon';\nimport PullRequestIcon from 'sonar-ui-common/components/icons/PullRequestIcon';\nimport { isPullRequest } from '../../helpers/branch-like';\nimport { BranchLike } from '../../types/branch-like';\n\nexport interface BranchLikeIconProps extends IconProps {\n  branchLike: BranchLike;\n}\n\nexport default function BranchLikeIcon({ branchLike, ...props }: BranchLikeIconProps) {\n  if (isPullRequest(branchLike)) {\n    return <PullRequestIcon {...props} />;\n  } else {\n    return <BranchIcon {...props} />;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ProjectEventIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? '#fff' : _b, _c = _a.size, size = _c === void 0 ? 14 : _c, iconProps = __rest(_a, [\"fill\", \"size\"]);\n    return (React.createElement(Icon_1.default, __assign({ size: size }, iconProps),\n        React.createElement(\"path\", { d: \"M8 2 L14 8 L8 14 L2 8 L8 2 L14 8\", style: { fill: fill, stroke: 'currentColor', strokeWidth: '2px' } })));\n}\nexports.default = ProjectEventIcon;\n//# sourceMappingURL=ProjectEventIcon.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar Select_1 = require(\"./Select\");\nvar SearchSelect = (function (_super) {\n    __extends(SearchSelect, _super);\n    function SearchSelect(props) {\n        var _this = _super.call(this, props) || this;\n        _this.mounted = false;\n        _this.handleSearch = function (query) {\n            var currentQuery = query;\n            _this.props.onSearch(currentQuery).then(function (options) {\n                if (_this.mounted) {\n                    _this.setState(function (state) { return ({\n                        loading: false,\n                        options: state.query === currentQuery ? options : state.options,\n                    }); });\n                }\n            }, function () {\n                if (_this.mounted) {\n                    _this.setState({ loading: false });\n                }\n            });\n        };\n        _this.handleChange = function (option) {\n            if (Array.isArray(option)) {\n                if (_this.props.onMultiSelect) {\n                    _this.props.onMultiSelect(option);\n                }\n            }\n            else if (_this.props.onSelect) {\n                _this.props.onSelect(option);\n            }\n        };\n        _this.handleInputChange = function (query) {\n            if (query.length >= _this.minimumQueryLength) {\n                _this.setState({ loading: true, query: query });\n                _this.handleSearch(query);\n            }\n            else {\n                var options = (query.length === 0 && _this.props.defaultOptions) || [];\n                _this.setState({ options: options, query: query });\n            }\n        };\n        _this.handleFilterOption = function () { return true; };\n        _this.state = { loading: false, options: props.defaultOptions || [], query: '' };\n        _this.handleSearch = lodash_1.debounce(_this.handleSearch, 250);\n        return _this;\n    }\n    SearchSelect.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SearchSelect.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Object.defineProperty(SearchSelect.prototype, \"autofocus\", {\n        get: function () {\n            return this.props.autofocus !== undefined ? this.props.autofocus : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"minimumQueryLength\", {\n        get: function () {\n            return this.props.minimumQueryLength !== undefined ? this.props.minimumQueryLength : 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"resetOnBlur\", {\n        get: function () {\n            return this.props.resetOnBlur !== undefined ? this.props.resetOnBlur : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SearchSelect.prototype.render = function () {\n        var Component = this.props.canCreate ? Select_1.Creatable : Select_1.default;\n        return (React.createElement(Component, { autoFocus: this.autofocus, className: this.props.className, clearable: this.props.clearable, escapeClearsValue: false, filterOption: this.handleFilterOption, isLoading: this.state.loading, multi: this.props.multi, noResultsText: this.state.query.length < this.minimumQueryLength\n                ? l10n_1.translateWithParameters('select2.tooShort', this.minimumQueryLength)\n                : l10n_1.translate('select2.noMatches'), onBlurResetsInput: this.resetOnBlur, onChange: this.handleChange, onInputChange: this.handleInputChange, optionRenderer: this.props.renderOption, options: this.state.options, placeholder: l10n_1.translate('search_verb'), promptTextCreator: this.props.promptTextCreator, searchable: true, value: this.props.value, valueRenderer: this.props.renderOption }));\n    };\n    return SearchSelect;\n}(React.PureComponent));\nexports.default = SearchSelect;\n//# sourceMappingURL=SearchSelect.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction RecommendedIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M15.089 13.199l-1.742-3.736c-0.962 1.401-2.464 2.398-4.203 2.701l1.459 3.128c0.186 0.4 0.764 0.373 0.914-0.040l0.748-2.054 0.154-0.072 2.054 0.748c0.412 0.151 0.804-0.276 0.618-0.675zM8.040 0.384c-3.003 0-5.446 2.443-5.446 5.446s2.443 5.446 5.446 5.446c3.003 0 5.446-2.443 5.446-5.446s-2.443-5.446-5.446-5.446zM10.689 5.429l-0.966 0.941 0.228 1.33c0.070 0.406-0.358 0.711-0.718 0.522l-1.194-0.628-1.194 0.628c-0.363 0.19-0.788-0.118-0.718-0.522l0.228-1.33-0.966-0.941c-0.293-0.286-0.131-0.786 0.274-0.844l1.335-0.194 0.597-1.209c0.181-0.367 0.707-0.368 0.888 0l0.597 1.209 1.335 0.194c0.405 0.059 0.568 0.558 0.274 0.844zM2.732 9.463l-1.742 3.736c-0.187 0.4 0.208 0.825 0.618 0.674l2.054-0.748 0.154 0.072 0.748 2.054c0.15 0.412 0.727 0.441 0.914 0.040l1.459-3.128c-1.739-0.302-3.241-1.3-4.203-2.701z\", style: { fill: fill } })));\n}\nexports.default = RecommendedIcon;\n//# sourceMappingURL=RecommendedIcon.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./RadioCard.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".radio-card{display:flex;flex-direction:column;width:450px;min-height:210px;background-color:#fff;border:1px solid #e6e6e6;border-radius:3px;box-sizing:border-box;margin-right:16px;transition:all .2s ease}.radio-card.animated{height:0;border-width:0;overflow:hidden}.radio-card.animated.open{height:210px;border-width:1px}.radio-card.highlight{box-shadow:0 6px 12px rgba(0,0,0,.175)}.radio-card:last-child{margin-right:0}.radio-card:focus{outline:none}.radio-card-actionable{cursor:pointer}.radio-card-actionable:not(.disabled):hover{box-shadow:0 6px 12px rgba(0,0,0,.175);transform:translateY(-2px)}.radio-card-actionable.selected{border-color:#236a97}.radio-card-actionable.selected .radio-card-recommended{border:1px solid #236a97;border-top:none}.radio-card-actionable.disabled{cursor:not-allowed;background-color:#ebebeb;border-color:#ddd}.radio-card-actionable.disabled h2,.radio-card-actionable.disabled ul{color:#bbb}.radio-card-header{align-items:center;padding:16px 16px 0}.radio-card-body,.radio-card-header{display:flex;justify-content:space-between}.radio-card-body{flex-grow:1;flex-direction:column;padding:0 16px 16px}.radio-card-body .alert{margin-bottom:0}.radio-card-recommended{position:relative;padding:6px 16px;left:-1px;bottom:-1px;width:450px;color:#fff;background-color:#4b9fd5;border-radius:0 0 3px 3px;box-sizing:border-box;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction WarningIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M9 12.242v-1.484c0-.14-.11-.258-.25-.258h-1.5c-.14 0-.25.117-.25.258v1.484c0 .14.11.258.25.258h1.5c.14 0 .25-.117.25-.258zM8.984 9.32l.141-3.586a.189.189 0 0 0-.078-.148C9 5.546 8.93 5.5 8.859 5.5H7.141c-.07 0-.141.047-.188.086-.055.039-.078.117-.078.164l.133 3.57c0 .102.117.18.265.18H8.72c.14 0 .258-.078.265-.18zm-.109-7.297l6 11A1 1 0 0 1 14 14.5H2a1 1 0 0 1-.875-1.477l6-11a.994.994 0 0 1 1.75 0z\", style: { fill: fill || theme.colors.warningIconColor } }));\n    }));\n}\nexports.default = WarningIcon;\n//# sourceMappingURL=WarningIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as startOfDay from 'date-fns/start_of_day';\nimport { isEqual } from 'lodash';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsDate,\n  parseAsString,\n  serializeDate,\n  serializeString,\n  serializeStringArray\n} from 'sonar-ui-common/helpers/query';\nimport { DEFAULT_GRAPH } from '../../components/activity-graph/utils';\nimport { GraphType } from '../../types/project-activity';\n\nexport interface Query {\n  category: string;\n  customMetrics: string[];\n  from?: Date;\n  graph: GraphType;\n  project: string;\n  selectedDate?: Date;\n  to?: Date;\n}\n\nexport const EVENT_TYPES = ['VERSION', 'QUALITY_GATE', 'QUALITY_PROFILE', 'OTHER'];\nexport const APPLICATION_EVENT_TYPES = ['QUALITY_GATE', 'DEFINITION_CHANGE', 'OTHER'];\n\nexport function activityQueryChanged(prevQuery: Query, nextQuery: Query) {\n  return prevQuery.category !== nextQuery.category || datesQueryChanged(prevQuery, nextQuery);\n}\n\nexport function customMetricsChanged(prevQuery: Query, nextQuery: Query) {\n  return !isEqual(prevQuery.customMetrics, nextQuery.customMetrics);\n}\n\nexport function datesQueryChanged(prevQuery: Query, nextQuery: Query) {\n  return !isEqual(prevQuery.from, nextQuery.from) || !isEqual(prevQuery.to, nextQuery.to);\n}\n\nexport function historyQueryChanged(prevQuery: Query, nextQuery: Query) {\n  return prevQuery.graph !== nextQuery.graph;\n}\n\nexport function selectedDateQueryChanged(prevQuery: Query, nextQuery: Query) {\n  return !isEqual(prevQuery.selectedDate, nextQuery.selectedDate);\n}\n\ninterface AnalysesByDay {\n  byDay: T.Dict<T.ParsedAnalysis[]>;\n  version: string | null;\n  key: string | null;\n}\n\nexport function getAnalysesByVersionByDay(\n  analyses: T.ParsedAnalysis[],\n  query: Pick<Query, 'category' | 'from' | 'to'>\n) {\n  return analyses.reduce<AnalysesByDay[]>((acc, analysis) => {\n    let currentVersion = acc[acc.length - 1];\n    const versionEvent = analysis.events.find(event => event.category === 'VERSION');\n    if (versionEvent) {\n      const newVersion = { version: versionEvent.name, key: versionEvent.key, byDay: {} };\n      if (!currentVersion || Object.keys(currentVersion.byDay).length > 0) {\n        acc.push(newVersion);\n      } else {\n        acc[acc.length - 1] = newVersion;\n      }\n      currentVersion = newVersion;\n    } else if (!currentVersion) {\n      // APPs don't have version events, so let's create a fake one\n      currentVersion = { version: null, key: null, byDay: {} };\n      acc.push(currentVersion);\n    }\n\n    const day = startOfDay(parseDate(analysis.date))\n      .getTime()\n      .toString();\n\n    let matchFilters = true;\n    if (query.category || query.from || query.to) {\n      const isAfterFrom = !query.from || analysis.date >= query.from;\n      const isBeforeTo = !query.to || analysis.date <= query.to;\n      const hasSelectedCategoryEvents =\n        !query.category || analysis.events.find(event => event.category === query.category) != null;\n      matchFilters = isAfterFrom && isBeforeTo && hasSelectedCategoryEvents;\n    }\n\n    if (matchFilters) {\n      if (!currentVersion.byDay[day]) {\n        currentVersion.byDay[day] = [];\n      }\n      currentVersion.byDay[day].push(analysis);\n    }\n    return acc;\n  }, []);\n}\n\nexport function parseQuery(urlQuery: T.RawQuery): Query {\n  return {\n    category: parseAsString(urlQuery['category']),\n    customMetrics: parseAsArray(urlQuery['custom_metrics'], parseAsString),\n    from: parseAsDate(urlQuery['from']),\n    graph: parseGraph(urlQuery['graph']),\n    project: parseAsString(urlQuery['id']),\n    to: parseAsDate(urlQuery['to']),\n    selectedDate: parseAsDate(urlQuery['selected_date'])\n  };\n}\n\nexport function serializeQuery(query: Query): T.RawQuery {\n  return cleanQuery({\n    category: serializeString(query.category),\n    from: serializeDate(query.from),\n    project: serializeString(query.project),\n    to: serializeDate(query.to)\n  });\n}\n\nexport function serializeUrlQuery(query: Query): T.RawQuery {\n  return cleanQuery({\n    category: serializeString(query.category),\n    custom_metrics: serializeStringArray(query.customMetrics),\n    from: serializeDate(query.from),\n    graph: serializeGraph(query.graph),\n    id: serializeString(query.project),\n    to: serializeDate(query.to),\n    selected_date: serializeDate(query.selectedDate)\n  });\n}\n\nfunction parseGraph(value?: string) {\n  const graph = parseAsString(value);\n  return Object.keys(GraphType).includes(graph) ? (graph as GraphType) : DEFAULT_GRAPH;\n}\n\nfunction serializeGraph(value?: GraphType) {\n  return value === DEFAULT_GRAPH ? undefined : value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../types/branch-like';\n\ninterface ComponentContextType {\n  branchLike: BranchLike | undefined;\n  component: T.Component | undefined;\n}\n\nexport const ComponentContext = React.createContext<ComponentContextType>({\n  branchLike: undefined,\n  component: undefined\n});\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\nexport function getProjectActivity(\n  data: {\n    project: string;\n    category?: string;\n    from?: string;\n    p?: number;\n    ps?: number;\n  } & BranchParameters\n): Promise<{ analyses: T.Analysis[]; paging: T.Paging }> {\n  return getJSON('/api/project_analyses/search', data).catch(throwGlobalError);\n}\n\ninterface CreateEventResponse {\n  analysis: string;\n  key: string;\n  name: string;\n  category: string;\n  description?: string;\n}\n\nexport function createEvent(\n  analysis: string,\n  name: string,\n  category?: string,\n  description?: string\n): Promise<CreateEventResponse> {\n  const data: RequestData = { analysis, name };\n  if (category) {\n    data.category = category;\n  }\n  if (description) {\n    data.description = description;\n  }\n  return postJSON('/api/project_analyses/create_event', data).then(r => r.event, throwGlobalError);\n}\n\nexport function deleteEvent(event: string): Promise<void | Response> {\n  return post('/api/project_analyses/delete_event', { event }).catch(throwGlobalError);\n}\n\nexport function changeEvent(\n  event: string,\n  name?: string,\n  description?: string\n): Promise<CreateEventResponse> {\n  const data: RequestData = { event };\n  if (name) {\n    data.name = name;\n  }\n  if (description) {\n    data.description = description;\n  }\n  return postJSON('/api/project_analyses/update_event', data).then(r => r.event, throwGlobalError);\n}\n\nexport function deleteAnalysis(analysis: string): Promise<void | Response> {\n  return post('/api/project_analyses/delete', { analysis }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport BranchIcon from 'sonar-ui-common/components/icons/BranchIcon';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { limitComponentName } from 'sonar-ui-common/helpers/path';\nimport { isMainBranch } from '../../../helpers/branch-like';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\n\nexport type DefinitionChangeEvent = T.AnalysisEvent &\n  Required<Pick<T.AnalysisEvent, 'definitionChange'>>;\n\nexport function isDefinitionChangeEvent(event: T.AnalysisEvent): event is DefinitionChangeEvent {\n  return event.category === 'DEFINITION_CHANGE' && event.definitionChange !== undefined;\n}\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  event: DefinitionChangeEvent;\n}\n\ninterface State {\n  expanded: boolean;\n}\n\nexport class DefinitionChangeEventInner extends React.PureComponent<Props, State> {\n  state: State = { expanded: false };\n\n  stopPropagation = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.stopPropagation();\n  };\n\n  toggleProjectsList = () => {\n    this.setState(state => ({ expanded: !state.expanded }));\n  };\n\n  renderProjectLink = (project: { key: string; name: string }, branch: string | undefined) => (\n    <Link\n      onClick={this.stopPropagation}\n      title={project.name}\n      to={getProjectUrl(project.key, branch)}>\n      {limitComponentName(project.name, 28)}\n    </Link>\n  );\n\n  renderBranch = (branch = translate('branches.main_branch')) => (\n    <span className=\"nowrap\" title={branch}>\n      <BranchIcon className=\"little-spacer-left text-text-top\" />\n      {branch}\n    </span>\n  );\n\n  renderProjectChange(project: {\n    changeType: string;\n    key: string;\n    name: string;\n    branch?: string;\n    newBranch?: string;\n    oldBranch?: string;\n  }) {\n    const mainBranch = !this.props.branchLike || isMainBranch(this.props.branchLike);\n\n    if (project.changeType === 'ADDED') {\n      const message = mainBranch\n        ? 'event.definition_change.added'\n        : 'event.definition_change.branch_added';\n      return (\n        <div className=\"text-ellipsis\">\n          <FormattedMessage\n            defaultMessage={translate(message)}\n            id={message}\n            values={{\n              project: this.renderProjectLink(project, project.branch),\n              branch: this.renderBranch(project.branch)\n            }}\n          />\n        </div>\n      );\n    } else if (project.changeType === 'REMOVED') {\n      const message = mainBranch\n        ? 'event.definition_change.removed'\n        : 'event.definition_change.branch_removed';\n      return (\n        <div className=\"text-ellipsis\">\n          <FormattedMessage\n            defaultMessage={translate(message)}\n            id={message}\n            values={{\n              project: this.renderProjectLink(project, project.branch),\n              branch: this.renderBranch(project.branch)\n            }}\n          />\n        </div>\n      );\n    } else if (project.changeType === 'BRANCH_CHANGED') {\n      return (\n        <FormattedMessage\n          defaultMessage={translate('event.definition_change.branch_replaced')}\n          id=\"event.definition_change.branch_replaced\"\n          values={{\n            project: this.renderProjectLink(project, project.newBranch),\n            oldBranch: this.renderBranch(project.oldBranch),\n            newBranch: this.renderBranch(project.newBranch)\n          }}\n        />\n      );\n    }\n    return null;\n  }\n\n  render() {\n    const { event } = this.props;\n    const { expanded } = this.state;\n    return (\n      <>\n        <span className=\"note\">{translate('event.category', event.category)}:</span>\n\n        <div>\n          <ResetButtonLink\n            className=\"project-activity-event-inner-more-link\"\n            onClick={this.toggleProjectsList}\n            stopPropagation={true}>\n            {expanded ? translate('hide') : translate('more')}\n            <DropdownIcon className=\"little-spacer-left\" turned={expanded} />\n          </ResetButtonLink>\n        </div>\n\n        {expanded && (\n          <ul className=\"spacer-left spacer-top\">\n            {event.definitionChange.projects.map(project => (\n              <li className=\"display-flex-center spacer-top\" key={project.key}>\n                {this.renderProjectChange(project)}\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getProjectUrl } from '../../../helpers/urls';\n\nexport type RichQualityGateEvent = T.AnalysisEvent & Required<Pick<T.AnalysisEvent, 'qualityGate'>>;\n\nexport function isRichQualityGateEvent(event: T.AnalysisEvent): event is RichQualityGateEvent {\n  return event.category === 'QUALITY_GATE' && event.qualityGate !== undefined;\n}\n\ninterface Props {\n  event: RichQualityGateEvent;\n}\n\ninterface State {\n  expanded: boolean;\n}\n\nexport class RichQualityGateEventInner extends React.PureComponent<Props, State> {\n  state: State = { expanded: false };\n\n  stopPropagation = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.stopPropagation();\n  };\n\n  toggleProjectsList = () => {\n    this.setState(state => ({ expanded: !state.expanded }));\n  };\n\n  render() {\n    const { event } = this.props;\n    const { expanded } = this.state;\n    return (\n      <>\n        <span className=\"note spacer-right\">{translate('event.category', event.category)}:</span>\n        {event.qualityGate.stillFailing ? (\n          <FormattedMessage\n            defaultMessage={translate('event.quality_gate.still_x')}\n            id=\"event.quality_gate.still_x\"\n            values={{ status: <Level level={event.qualityGate.status} small={true} /> }}\n          />\n        ) : (\n          <Level level={event.qualityGate.status} small={true} />\n        )}\n\n        <div>\n          {event.qualityGate.failing.length > 0 && (\n            <ResetButtonLink\n              className=\"project-activity-event-inner-more-link\"\n              onClick={this.toggleProjectsList}\n              stopPropagation={true}>\n              {expanded ? translate('hide') : translate('more')}\n              <DropdownIcon className=\"little-spacer-left\" turned={expanded} />\n            </ResetButtonLink>\n          )}\n        </div>\n\n        {expanded && (\n          <ul className=\"spacer-left spacer-top\">\n            {event.qualityGate.failing.map(project => (\n              <li className=\"display-flex-center spacer-top\" key={project.key}>\n                <Level\n                  aria-label={translate('quality_gates.status')}\n                  className=\"spacer-right\"\n                  level={event.qualityGate.status}\n                  small={true}\n                />\n                <div className=\"flex-1 text-ellipsis\">\n                  <Link\n                    onClick={this.stopPropagation}\n                    title={project.name}\n                    to={getProjectUrl(project.key, project.branch)}>\n                    <span aria-label={translateWithParameters('project_x', project.name)}>\n                      {project.name}\n                    </span>\n                  </Link>\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getNewCodePeriod(data?: {\n  project?: string;\n  branch?: string;\n}): Promise<T.Omit<T.NewCodePeriod, 'effectiveValue'>> {\n  return getJSON('/api/new_code_periods/show', data).catch(throwGlobalError);\n}\n\nexport function setNewCodePeriod(data: {\n  project?: string;\n  branch?: string;\n  type: T.NewCodePeriodSettingType;\n  value?: string;\n}): Promise<void> {\n  return post('/api/new_code_periods/set', data).catch(throwGlobalError);\n}\n\nexport function resetNewCodePeriod(data: { project?: string; branch?: string }): Promise<void> {\n  return post('/api/new_code_periods/unset', data).catch(throwGlobalError);\n}\n\nexport function listBranchesNewCodePeriod(data: {\n  project: string;\n}): Promise<{ newCodePeriods: T.NewCodePeriodBranch[] }> {\n  return getJSON('/api/new_code_periods/list', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function validateDays(days: string) {\n  const parsed = parseInt(days, 10);\n\n  return !(days.length < 1 || isNaN(parsed) || parsed < 1 || String(parsed) !== days);\n}\n\nexport function getSettingValue({\n  analysis,\n  days,\n  referenceBranch,\n  type\n}: {\n  analysis?: string;\n  days?: string;\n  referenceBranch?: string;\n  type?: T.NewCodePeriodSettingType;\n}) {\n  switch (type) {\n    case 'NUMBER_OF_DAYS':\n      return days;\n    case 'REFERENCE_BRANCH':\n      return referenceBranch;\n    case 'SPECIFIC_ANALYSIS':\n      return analysis;\n    default:\n      return undefined;\n  }\n}\n\nexport function validateSetting(state: {\n  analysis?: string;\n  currentSetting?: T.NewCodePeriodSettingType;\n  currentSettingValue?: string;\n  days: string;\n  overrideGeneralSetting?: boolean;\n  referenceBranch?: string;\n  selected?: T.NewCodePeriodSettingType;\n}) {\n  const {\n    analysis = '',\n    currentSetting,\n    currentSettingValue,\n    days,\n    overrideGeneralSetting,\n    referenceBranch = '',\n    selected\n  } = state;\n\n  let isChanged;\n  if (!currentSetting && overrideGeneralSetting !== undefined) {\n    isChanged = overrideGeneralSetting;\n  } else {\n    isChanged =\n      overrideGeneralSetting === false ||\n      selected !== currentSetting ||\n      (selected === 'NUMBER_OF_DAYS' && days !== currentSettingValue) ||\n      (selected === 'SPECIFIC_ANALYSIS' && analysis !== currentSettingValue) ||\n      (selected === 'REFERENCE_BRANCH' && referenceBranch !== currentSettingValue);\n  }\n\n  const isValid =\n    overrideGeneralSetting === false ||\n    selected === 'PREVIOUS_VERSION' ||\n    (selected === 'SPECIFIC_ANALYSIS' && analysis.length > 0) ||\n    (selected === 'NUMBER_OF_DAYS' && validateDays(days)) ||\n    (selected === 'REFERENCE_BRANCH' && referenceBranch.length > 0);\n\n  return { isChanged, isValid };\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioCard from 'sonar-ui-common/components/controls/RadioCard';\nimport ValidationInput from 'sonar-ui-common/components/controls/ValidationInput';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface Props {\n  className?: string;\n  days: string;\n  disabled?: boolean;\n  isChanged: boolean;\n  isValid: boolean;\n  onChangeDays: (value: string) => void;\n  onSelect: (selection: T.NewCodePeriodSettingType) => void;\n  selected: boolean;\n}\n\nexport default function BaselineSettingDays(props: Props) {\n  const { className, days, disabled, isChanged, isValid, onChangeDays, onSelect, selected } = props;\n  return (\n    <RadioCard\n      className={className}\n      disabled={disabled}\n      onClick={() => onSelect('NUMBER_OF_DAYS')}\n      selected={selected}\n      title={translate('baseline.number_days')}>\n      <>\n        <p className=\"big-spacer-bottom\">{translate('baseline.number_days.description')}</p>\n        {selected && (\n          <ValidationInput\n            error={undefined}\n            id=\"baseline_number_of_days\"\n            isInvalid={isChanged && !isValid}\n            isValid={isChanged && isValid}\n            label={translate('baseline.specify_days')}\n            required={true}>\n            <input onChange={e => onChangeDays(e.currentTarget.value)} type=\"text\" value={days} />\n          </ValidationInput>\n        )}\n      </>\n    </RadioCard>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioCard from 'sonar-ui-common/components/controls/RadioCard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface Props {\n  disabled?: boolean;\n  isDefault?: boolean;\n  onSelect: (selection: T.NewCodePeriodSettingType) => void;\n  selected: boolean;\n}\n\nexport default function BaselineSettingPreviousVersion(props: Props) {\n  const { disabled, isDefault, onSelect, selected } = props;\n  return (\n    <RadioCard\n      disabled={disabled}\n      onClick={() => onSelect('PREVIOUS_VERSION')}\n      selected={selected}\n      title={\n        translate('baseline.previous_version') + (isDefault ? ` (${translate('default')})` : '')\n      }>\n      <p>{translate('baseline.previous_version.description')}</p>\n    </RadioCard>\n  );\n}\n"],"sourceRoot":""}