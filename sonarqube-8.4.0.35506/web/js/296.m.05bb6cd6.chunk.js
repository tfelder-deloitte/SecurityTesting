(window.webpackJsonp=window.webpackJsonp||[]).push([[296],{1790:function(e,t,r){var n=r(313),a=r(1791);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},1791:function(e,t,r){(t=r(314)(!1)).push([e.i,".manual-project-create{max-width:700px}.manual-project-create .button{margin-top:8px}",""]),e.exports=t},1792:function(e,t,r){var n=r(313),a=r(1793);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},1793:function(e,t,r){(t=r(314)(!1)).push([e.i,"#create-project{padding-top:0!important}#create-project header{padding-top:20px;background-color:#f3f3f3;position:-webkit-sticky;position:sticky;top:48px;z-index:50}.create-project-manual{display:flex!important;justify-content:space-between}.create-project-import-bbs .open .boxed-group-header{border-bottom:1px solid #e6e6e6}.create-project-import-bbs .boxed-group-inner{padding-top:24px}.create-project-import-bbs-repo{width:250px;min-height:40px}.create-project-github-repository{box-sizing:border-box;width:33.33%}.create-project-github-repository .notice{display:block;position:absolute}.create-project-github-repository .notice svg{color:#0a0}",""]),e.exports=t},1878:function(e,t,r){"use strict";r.r(t),r.d(t,"CreateProjectPage",(function(){return be}));var n=r(2),a=r(332),o=r(31),i=r(519),s=r(352),c=r(725),l=r(511),p=r(322),d=r(433),u=r(9),m=r(326);var h,g=r(319),b=r(317),f=r(312),y=r(325),j=r(318),_=r.n(j),v=r(338),O=r(656),k=r(350),E=r.n(k),S=r(358),N=r.n(S),x=r(426),P=r.n(x),R=r(311),w=r(629),C=r.n(w),M=r(430),z=r.n(M),A=r(481),L=r.n(A),K=r(336);function B(e){const{disableRepositories:t,open:r,project:a,repositories:i,selectedRepository:s,showingAllRepositories:c}=e,l=i.length;return n.createElement(C.a,{className:R("big-spacer-bottom",{open:r,"not-clickable":!e.onClick,"no-hover":!e.onClick}),key:a.key,onClick:e.onClick?e.onClick:()=>{},open:r,title:n.createElement("h3",null,a.name)},r&&n.createElement("div",{className:"display-flex-wrap"},0===l&&n.createElement(y.Alert,{variant:"warning"},n.createElement(g.FormattedMessage,{defaultMessage:Object(o.translate)("onboarding.create_project.no_bbs_repos"),id:"onboarding.create_project.no_bbs_repos",values:{link:n.createElement(b.Link,{to:{pathname:"/projects/create",query:{mode:h.BitbucketServer,resetPat:1}}},Object(o.translate)("onboarding.create_project.update_your_token"))}})),i.map(r=>r.sqProjectKey?n.createElement("div",{className:"display-flex-start spacer-right spacer-bottom create-project-import-bbs-repo",key:r.id},n.createElement(L.a,{className:"spacer-right",fill:K.colors.green,size:14}),n.createElement("div",{className:"overflow-hidden"},n.createElement("div",{className:"little-spacer-bottom text-ellipsis"},n.createElement("strong",{title:r.name},n.createElement(b.Link,{to:Object(p.u)(r.sqProjectKey)},r.name))),n.createElement("em",null,Object(o.translate)("onboarding.create_project.repository_imported")))):n.createElement(z.a,{checked:(null==s?void 0:s.id)===r.id,className:R("display-flex-start spacer-right spacer-bottom create-project-import-bbs-repo overflow-hidden",{disabled:t,"text-muted":t,"link-no-underline":t}),key:r.id,onCheck:()=>e.onSelectRepository(r),value:String(r.id)},n.createElement("strong",{className:"text-ellipsis",title:r.name},r.name))),!c&&l>0&&n.createElement(y.Alert,{variant:"warning"},Object(o.translateWithParameters)("onboarding.create_project.only_showing_X_first_repos",l))))}function I(e){const{disableRepositories:t,projects:r,projectRepositories:a,selectedRepository:i}=e,[s,c]=n.useState(r.length>0?[r[0].key]:[]),l=r.length<=s.length;return n.createElement(n.Fragment,null,n.createElement("div",{className:"overflow-hidden spacer-bottom"},n.createElement(f.ButtonLink,{className:"pull-right",onClick:()=>c(l?[]:r.map(e=>e.key))},l?Object(o.translate)("collapse_all"):Object(o.translate)("expand_all"))),r.map(r=>{const o=s.includes(r.key),{allShown:l,repositories:p=[]}=a[r.key]||{};return n.createElement(B,{disableRepositories:t,key:r.key,onClick:()=>((e,t)=>{c(e?N()(s,t):P()([...s,t]))})(o,r.key),onSelectRepository:e.onSelectRepository,open:o,project:r,repositories:p,selectedRepository:i,showingAllRepositories:l})}))}!function(e){e.Manual="manual",e.BitbucketServer="bitbucket",e.GitHub="github"}(h||(h={}));var F=r(394);function q(e){const{disableRepositories:t,projects:r,searching:a,searchResults:i=[],selectedRepository:s}=e,c=P()(i.map(e=>r.find(t=>t.key===e.projectKey)).filter(F.isDefined));return 0!==c.length||a?n.createElement("div",{className:"big-spacer-top"},n.createElement(_.a,{loading:a},c.map(r=>{const a=i.filter(e=>e.projectKey===r.key);return n.createElement(B,{disableRepositories:t,key:r.key,onSelectRepository:e.onSelectRepository,open:!0,project:r,repositories:a,selectedRepository:s,showingAllRepositories:!0})}))):n.createElement(y.Alert,{className:"big-spacer-top",variant:"warning"},Object(o.translate)("onboarding.create_project.no_bbs_repos.filter"))}function T(e){const{disableRepositories:t,projects:r=[],projectRepositories:a={},searchResults:i,searching:s,selectedRepository:c}=e;return 0===r.length?n.createElement(y.Alert,{className:"spacer-top",variant:"warning"},n.createElement(g.FormattedMessage,{defaultMessage:Object(o.translate)("onboarding.create_project.no_bbs_projects"),id:"onboarding.create_project.no_bbs_projects",values:{link:n.createElement(b.Link,{to:{pathname:"/projects/create",query:{mode:h.BitbucketServer,resetPat:1}}},Object(o.translate)("onboarding.create_project.update_your_token"))}})):n.createElement("div",{className:"create-project-import-bbs"},n.createElement(E.a,{onChange:e.onSearch,placeholder:Object(o.translate)("onboarding.create_project.search_repositories_by_name")}),s||i?n.createElement(q,{disableRepositories:t,onSelectRepository:e.onSelectRepository,projects:r,searchResults:i,searching:s,selectedRepository:c}):n.createElement(I,{disableRepositories:t,onSelectRepository:e.onSelectRepository,projectRepositories:a,projects:r,selectedRepository:c}))}var D=r(561),U=r.n(D);function V(e){const{bitbucketSetting:{url:t},submitting:r=!1,validationFailed:a}=e,[i,s]=n.useState(!1);n.useEffect(()=>{s(!1)},[r]);const c=a&&!i;return n.createElement("div",{className:"display-flex-start"},n.createElement("form",{onSubmit:t=>{t.preventDefault();const r=new FormData(t.currentTarget).get("personal_access_token");e.onPersonalAccessTokenCreate(r)}},n.createElement("h2",{className:"big"},Object(o.translate)("onboarding.create_project.grant_access_to_bbs.title")),n.createElement("p",{className:"big-spacer-top big-spacer-bottom"},Object(o.translate)("onboarding.create_project.grant_access_to_bbs.help")),n.createElement(U.a,{error:c?Object(o.translate)("onboarding.create_project.pat_incorrect"):void 0,id:"personal_access_token",isInvalid:c,isValid:!1,label:Object(o.translate)("onboarding.create_project.enter_pat"),required:!0},n.createElement("input",{autoFocus:!0,className:R("input-super-large",{"is-invalid":c}),id:"personal_access_token",minLength:1,name:"personal_access_token",onChange:()=>{s(!0)},type:"text"})),n.createElement(f.SubmitButton,{disabled:c||r||!i},Object(o.translate)("save")),n.createElement(_.a,{className:"spacer-left",loading:r})),n.createElement(y.Alert,{className:"big-spacer-left big-spacer-top",display:"block",variant:"info"},n.createElement("h3",null,Object(o.translate)("onboarding.create_project.pat_help.title")),n.createElement("p",{className:"big-spacer-top big-spacer-bottom"},Object(o.translate)("onboarding.create_project.pat_help.bbs_help_1")),t&&n.createElement("div",{className:"text-middle"},n.createElement("img",{alt:"",className:"spacer-right",height:"16",src:"".concat(Object(v.getBaseUrl)(),"/images/alm/bitbucket.svg")}),n.createElement("a",{href:"".concat(t.replace(/\/$/,""),"/plugins/servlet/access-tokens/add"),rel:"noopener noreferrer",target:"_blank"},Object(o.translate)("onboarding.create_project.pat_help.link"))),n.createElement("p",{className:"big-spacer-top big-spacer-bottom"},Object(o.translate)("onboarding.create_project.pat_help.bbs_help_2")),n.createElement("ul",null,n.createElement("li",null,n.createElement(g.FormattedMessage,{defaultMessage:Object(o.translate)("onboarding.create_project.pat_help.bbs_permission_projects"),id:"onboarding.create_project.pat_help.bbs_permission_projects",values:{perm:n.createElement("strong",null,Object(o.translate)("onboarding.create_project.pat_help.read_permission"))}})),n.createElement("li",null,n.createElement(g.FormattedMessage,{defaultMessage:Object(o.translate)("onboarding.create_project.pat_help.bbs_permission_repos"),id:"onboarding.create_project.pat_help.bbs_permission_repos",values:{perm:n.createElement("strong",null,Object(o.translate)("onboarding.create_project.pat_help.read_permission"))}})))))}function J(e){const{additionalActions:t,title:r}=e;return n.createElement("header",{className:"huge-spacer-bottom bordered-bottom overflow-hidden"},n.createElement("h1",{className:"pull-left huge big-spacer-bottom"},r),t)}function Q(e){const{bitbucketSetting:t,canAdmin:r,importing:a,loading:i,projects:s,projectRepositories:c,selectedRepository:l,searching:p,searchResults:d,showPersonalAccessTokenForm:u,submittingToken:m,tokenValidationFailed:h}=e;return n.createElement(n.Fragment,null,n.createElement(J,{additionalActions:!u&&n.createElement("div",{className:"display-flex-center pull-right"},n.createElement(_.a,{className:"spacer-right",loading:a}),n.createElement(f.Button,{className:"button-large button-primary",disabled:!l||a,onClick:e.onImportRepository},Object(o.translate)("onboarding.create_project.import_selected_repo"))),title:n.createElement("span",{className:"text-middle"},n.createElement("img",{alt:"",className:"spacer-right",height:"24",src:"".concat(Object(v.getBaseUrl)(),"/images/alm/bitbucket.svg")}),Object(o.translate)("onboarding.create_project.from_bbs"))}),i&&n.createElement("i",{className:"spinner"}),!i&&!t&&n.createElement(y.Alert,{variant:"error"},r?n.createElement(g.FormattedMessage,{defaultMessage:Object(o.translate)("onboarding.create_project.no_bbs_binding.admin"),id:"onboarding.create_project.no_bbs_binding.admin",values:{url:n.createElement(b.Link,{to:{pathname:"/admin/settings",query:{category:O.a}}},Object(o.translate)("settings.page"))}}):Object(o.translate)("onboarding.create_project.no_bbs_binding")),!i&&t&&(u?n.createElement(V,{bitbucketSetting:t,onPersonalAccessTokenCreate:e.onPersonalAccessTokenCreate,submitting:m,validationFailed:h}):n.createElement(T,{disableRepositories:a,onSearch:e.onSearch,onSelectRepository:e.onSelectRepository,projectRepositories:c,projects:s,searchResults:d,searching:p,selectedRepository:l})))}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class W extends n.PureComponent{constructor(e){super(e),this.mounted=!1,this.fetchInitialData=async()=>{this.setState({loading:!0});const e=await this.checkPersonalAccessToken().catch(()=>!1);let t,r;e&&(t=await this.fetchBitbucketProjects().catch(()=>{})),t&&t.length>0&&(r=await this.fetchBitbucketRepositories(t).catch(()=>{})),this.mounted&&this.setState({patIsValid:e,projects:t,projectRepositories:r,loading:!1})},this.checkPersonalAccessToken=()=>{const{bitbucketSetting:e}=this.state;return e?(t=e.key,Object(u.get)("/api/alm_integrations/check_pat",{almSetting:t}).then(()=>!0).catch(e=>400!==e.status&&Object(m.a)(e))):Promise.resolve(!1);var t},this.fetchBitbucketProjects=()=>{const{bitbucketSetting:e}=this.state;return e?(t=e.key,Object(u.getJSON)("/api/alm_integrations/list_bitbucketserver_projects",{almSetting:t})).then(({projects:e})=>e):Promise.resolve(void 0);var t},this.fetchBitbucketRepositories=e=>{const{bitbucketSetting:t}=this.state;return t?Promise.all(e.map(e=>{return(r=t.key,n=e.name,Object(u.getJSON)("/api/alm_integrations/search_bitbucketserver_repos",{almSetting:r,projectName:n})).then(({isLastPage:t,repositories:r})=>({isLastPage:t,repositories:r,projectKey:e.key}));var r,n})).then(e=>e.reduce((e,{isLastPage:t,projectKey:r,repositories:n})=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{[r]:{allShown:t,repositories:n}}),{})):Promise.resolve(void 0)},this.handlePersonalAccessTokenCreate=e=>{const{bitbucketSetting:t}=this.state;var r,n;!t||e.length<1||(this.setState({submittingToken:!0,tokenValidationFailed:!1}),(r=t.key,n=e,Object(u.post)("/api/alm_integrations/set_pat",{almSetting:r,pat:n}).catch(m.a)).then(this.checkPersonalAccessToken).then(e=>{this.mounted&&(this.setState({submittingToken:!1,patIsValid:e,tokenValidationFailed:!e}),e&&this.fetchInitialData())}).catch(()=>{this.mounted&&this.setState({submittingToken:!1})}))},this.handleImportRepository=()=>{const{bitbucketSetting:e,selectedRepository:t}=this.state;var r,n,a;e&&t&&(this.setState({importing:!0}),(r=e.key,n=t.projectKey,a=t.slug,Object(u.postJSON)("/api/alm_integrations/import_bitbucketserver_project",{almSetting:r,projectKey:n,repositorySlug:a}).catch(m.a)).then(({project:{key:e}})=>{this.mounted&&(this.setState({importing:!1}),this.props.onProjectCreate([e]))}).catch(()=>{this.mounted&&this.setState({importing:!1})}))},this.handleSearch=e=>{const{bitbucketSetting:t}=this.state;var r,n;t&&(e?(this.setState({searching:!0,selectedRepository:void 0}),(r=t.key,n=e,Object(u.getJSON)("/api/alm_integrations/search_bitbucketserver_repos",{almSetting:r,repositoryName:n})).then(({repositories:e})=>{this.mounted&&this.setState({searching:!1,searchResults:e})}).catch(()=>{this.mounted&&this.setState({searching:!1})})):this.setState({searching:!1,searchResults:void 0,selectedRepository:void 0}))},this.handleSelectRepository=e=>{this.setState({selectedRepository:e})},this.state={bitbucketSetting:e.bitbucketSettings[0],importing:!1,loading:!1,searching:!1,tokenValidationFailed:!1}}componentDidMount(){this.mounted=!0,this.fetchInitialData()}componentDidUpdate(e){0===e.bitbucketSettings.length&&this.props.bitbucketSettings.length>0&&this.setState({bitbucketSetting:this.props.bitbucketSettings[0]},()=>this.fetchInitialData())}componentWillUnmount(){this.mounted=!1}render(){const{canAdmin:e,loadingBindings:t,location:r}=this.props,{bitbucketSetting:a,importing:o,loading:i,patIsValid:s,projectRepositories:c,projects:l,searching:p,searchResults:d,selectedRepository:u,submittingToken:m,tokenValidationFailed:h}=this.state;return n.createElement(Q,{bitbucketSetting:a,canAdmin:e,importing:o,loading:i||t,onImportRepository:this.handleImportRepository,onPersonalAccessTokenCreate:this.handlePersonalAccessTokenCreate,onProjectCreate:this.props.onProjectCreate,onSearch:this.handleSearch,onSelectRepository:this.handleSelectRepository,projectRepositories:c,projects:l,searchResults:d,searching:p,selectedRepository:u,showPersonalAccessTokenForm:!s||Boolean(r.query.resetPat),submittingToken:m,tokenValidationFailed:h})}}var $=r(324),X=r.n($);function Y(e,t,r){const{almCounts:a,loadingBindings:i}=e,s=a[t],c=1!==s||i;return n.createElement("button",{className:R("button button-huge big-spacer-left display-flex-column create-project-mode-type-bbs",{disabled:c}),disabled:c,onClick:()=>e.onSelectMode(r),type:"button"},n.createElement("img",{alt:"",height:80,src:"".concat(Object(v.getBaseUrl)(),"/images/alm/").concat(t,".svg")}),n.createElement("div",{className:"medium big-spacer-top"},Object(o.translate)("onboarding.create_project.select_method",t)),i&&n.createElement("span",null,Object(o.translate)("onboarding.create_project.check_alm_supported"),n.createElement("i",{className:"little-spacer-left spinner"})),!i&&c&&n.createElement("div",{className:"text-muted small spacer-top",style:{lineHeight:1.5}},Object(o.translate)("onboarding.create_project.alm_not_configured"),n.createElement(X.a,{className:"little-spacer-left",overlay:0===s?Object(o.translate)("onboarding.create_project.zero_alm_instances",t):"".concat(Object(o.translate)("onboarding.create_project.too_many_alm_instances",t)," \n                  ").concat(Object(o.translateWithParameters)("onboarding.create_project.alm_instances_count_X",s))})))}function Z(e){return n.createElement(n.Fragment,null,n.createElement("header",{className:"huge-spacer-top big-spacer-bottom padded"},n.createElement("h1",{className:"text-center huge big-spacer-bottom"},Object(o.translate)("my_account.create_new.TRK")),n.createElement("p",{className:"text-center big"},Object(o.translate)("onboarding.create_project.select_method"))),n.createElement("div",{className:"create-project-modes huge-spacer-top display-flex-justify-center"},n.createElement("button",{className:"button button-huge display-flex-column create-project-mode-type-manual",onClick:()=>e.onSelectMode(h.Manual),type:"button"},n.createElement("img",{alt:"",height:80,src:"".concat(Object(v.getBaseUrl)(),"/images/sonarcloud/analysis/manual.svg")}),n.createElement("div",{className:"medium big-spacer-top"},Object(o.translate)("onboarding.create_project.select_method.manual"))),Y(e,d.a.Bitbucket,h.BitbucketServer),Y(e,d.a.GitHub,h.GitHub)))}var ee=r(368),te=r.n(ee),re=r(347),ne=r.n(re),ae=r(647),oe=r.n(ae),ie=r(6);function se({key:e,name:t}){return{value:e,label:t}}const ce=e=>t=>Promise.resolve(e.filter(e=>!t||e.name.includes(t)).map(se));function le(e){const{canAdmin:t,error:r,importing:a,loadingBindings:i,loadingOrganizations:s,organizations:c,selectedOrganization:l,selectedRepository:p}=e;return i?n.createElement(_.a,null):n.createElement("div",null,n.createElement(J,{additionalActions:l&&n.createElement("div",{className:"display-flex-center pull-right"},n.createElement(_.a,{className:"spacer-right",loading:a}),n.createElement(f.Button,{className:"button-large button-primary",disabled:!p||a,onClick:e.onImportRepository},Object(o.translate)("onboarding.create_project.import_selected_repo"))),title:n.createElement("span",{className:"text-middle display-flex-center"},n.createElement("img",{alt:"",className:"spacer-right",height:24,src:"".concat(Object(ie.getBaseUrl)(),"/images/alm/github.svg")}),Object(o.translate)("onboarding.create_project.github.title"))}),r?n.createElement("div",{className:"display-flex-justify-center"},n.createElement("div",{className:"boxed-group padded width-50 huge-spacer-top"},n.createElement("h2",{className:"big-spacer-bottom"},Object(o.translate)("onboarding.create_project.github.warning.title")),n.createElement(y.Alert,{variant:"warning"},t?n.createElement(g.FormattedMessage,{id:"onboarding.create_project.github.warning.message_admin",defaultMessage:Object(o.translate)("onboarding.create_project.github.warning.message_admin"),values:{link:n.createElement(b.Link,{to:"/admin/settings?category=almintegration"},Object(o.translate)("onboarding.create_project.github.warning.message_admin.link"))}}):Object(o.translate)("onboarding.create_project.github.warning.message")))):n.createElement(_.a,{loading:s},n.createElement("div",{className:"form-field"},n.createElement("label",null,Object(o.translate)("onboarding.create_project.github.choose_organization")),c.length>0?n.createElement(oe.a,{defaultOptions:c.map(se),onSearch:ce(c),minimumQueryLength:0,onSelect:({value:t})=>e.onSelectOrganization(t),value:l&&se(l)}):!s&&n.createElement(y.Alert,{className:"spacer-top",variant:"error"},t?n.createElement(g.FormattedMessage,{id:"onboarding.create_project.github.no_orgs_admin",defaultMessage:Object(o.translate)("onboarding.create_project.github.no_orgs_admin"),values:{link:n.createElement(b.Link,{to:"/admin/settings?category=almintegration"},Object(o.translate)("onboarding.create_project.github.warning.message_admin.link"))}}):Object(o.translate)("onboarding.create_project.github.no_orgs")))),function(e){const{importing:t,loadingRepositories:r,repositories:a,repositoryPaging:i,searchQuery:s,selectedOrganization:c,selectedRepository:l}=e,p=e=>!!e.sqProjectKey||r||t;return c&&a&&n.createElement("div",{className:"boxed-group padded display-flex-wrap"},n.createElement("div",{className:"width-100"},n.createElement(E.a,{className:"big-spacer-bottom",onChange:e.onSearch,placeholder:Object(o.translate)("onboarding.create_project.search_repositories"),value:s})),0===a.length?n.createElement("div",{className:"padded"},n.createElement(_.a,{loading:r},Object(o.translate)("no_results"))):a.map(t=>{return n.createElement(z.a,{className:"spacer-top spacer-bottom padded create-project-github-repository",key:t.key,checked:(r=t,!!r.sqProjectKey||!!l&&l.key===r.key),disabled:p(t),value:t.key,onCheck:e.onSelectRepository},n.createElement("div",{className:"big overflow-hidden",title:t.name},n.createElement("div",{className:"text-ellipsis"},t.name),t.sqProjectKey&&n.createElement("em",{className:"notice text-muted-2 small display-flex-center"},Object(o.translate)("onboarding.create_project.repository_imported"),n.createElement(L.a,{className:"little-spacer-left",size:12}))));var r}),n.createElement("div",{className:"display-flex-justify-center width-100"},n.createElement(ne.a,{count:a.length,total:i.total,loadMore:e.onLoadMore,loading:r})))}(e))}class pe extends n.Component{constructor(e){super(e),this.mounted=!1,this.triggerSearch=e=>{const{selectedOrganization:t}=this.state;t&&(this.setState({selectedRepository:void 0}),this.fetchRepositories({organizationKey:t.key,query:e}))},this.handleSelectOrganization=e=>{this.setState(({organizations:t})=>({searchQuery:"",selectedRepository:void 0,selectedOrganization:t.find(t=>t.key===e)})),this.fetchRepositories({organizationKey:e})},this.handleSelectRepository=e=>{this.setState(({repositories:t})=>({selectedRepository:null==t?void 0:t.find(t=>t.key===e)}))},this.handleSearch=e=>{this.setState({searchQuery:e}),this.triggerSearch(e)},this.handleLoadMore=()=>{const{repositoryPaging:e,searchQuery:t,selectedOrganization:r}=this.state;r&&this.fetchRepositories({organizationKey:r.key,page:e.pageIndex+1,query:t})},this.handleImportRepository=async()=>{const{selectedOrganization:e,selectedRepository:t,settings:r}=this.state;if(r&&e&&t){this.setState({importing:!0});try{const{project:i}=await(n=r.key,a=e.key,o=t.key,Object(u.postJSON)("/api/alm_integrations/import_github_project",{almSetting:n,organization:a,repositoryKey:o}).catch(m.a));this.props.onProjectCreate([i.key])}finally{this.mounted&&this.setState({importing:!1})}}var n,a,o},this.state={error:!1,importing:!1,loadingOrganizations:!0,loadingRepositories:!1,organizations:[],repositories:[],repositoryPaging:{pageSize:30,total:0,pageIndex:1},searchQuery:"",settings:e.settings[0]},this.triggerSearch=te()(this.triggerSearch,250)}componentDidMount(){this.mounted=!0,this.initialize()}componentDidUpdate(e){0===e.settings.length&&this.props.settings.length>0&&this.setState({settings:this.props.settings[0]},()=>this.initialize())}componentWillUnmount(){this.mounted=!1}async initialize(){var e;const{location:t,router:r}=this.props,{settings:n}=this.state;if(!n||!n.url)return void this.setState({error:!0});this.setState({error:!1});const a=null===(e=t.query)||void 0===e?void 0:e.code;try{a?(delete t.query.code,r.replace(t),await this.fetchOrganizations(n,a)):await this.redirectToGithub(n)}catch(e){this.mounted&&this.setState({error:!0})}}async redirectToGithub(e){if(!e.url)return;const{clientId:t}=await(r=e.key,Object(u.getJSON)("/api/alm_integrations/get_github_client_id",{almSetting:r}));var r;if(!t)return void this.setState({error:!0});const n=[{param:"client_id",value:t},{param:"redirect_uri",value:"".concat(Object(v.getHostUrl)(),"/projects/create?mode=").concat(d.a.GitHub)}].map(({param:e,value:t})=>"".concat(e,"=").concat(t)).join("&");let a;a=e.url.includes("/api/v3")?e.url.replace("/api/v3",""):e.url.replace("api.",""),a=a.replace(/\/$/,""),window.location.replace("".concat(a,"/login/oauth/authorize?").concat(n))}async fetchOrganizations(e,t){const{organizations:r}=await function(e,t){return Object(u.getJSON)("/api/alm_integrations/list_github_organizations",{almSetting:e,token:t}).catch(e=>{e&&400!==e.status&&Object(m.a)(e)})}(e.key,t);this.mounted&&this.setState({loadingOrganizations:!1,organizations:r})}async fetchRepositories(e){const{organizationKey:t,page:r=1,query:n}=e,{settings:a}=this.state;if(a){this.setState({loadingRepositories:!0});try{const e=await function(e){const{almSetting:t,organization:r,ps:n,p:a=1,query:o}=e;return Object(u.getJSON)("/api/alm_integrations/list_github_repositories",{almSetting:t,organization:r,p:a,ps:n,q:o||void 0}).catch(m.a)}({almSetting:a.key,organization:t,ps:30,p:r,query:n});this.mounted&&this.setState(({repositories:t})=>({loadingRepositories:!1,repositoryPaging:e.paging,repositories:1===r?e.repositories:[...t,...e.repositories]}))}catch(e){this.mounted&&this.setState({loadingRepositories:!1,repositoryPaging:{pageIndex:1,pageSize:30,total:0},repositories:[]})}}else this.setState({error:!0})}render(){const{canAdmin:e,loadingBindings:t}=this.props,{error:r,importing:a,loadingOrganizations:o,loadingRepositories:i,organizations:s,repositoryPaging:c,repositories:l,searchQuery:p,selectedOrganization:d,selectedRepository:u}=this.state;return n.createElement(le,{canAdmin:e,error:r,importing:a,loadingBindings:t,loadingOrganizations:o,loadingRepositories:i,onImportRepository:this.handleImportRepository,onLoadMore:this.handleLoadMore,onSearch:this.handleSearch,onSelectOrganization:this.handleSelectOrganization,onSelectRepository:this.handleSelectRepository,organizations:s,repositoryPaging:c,searchQuery:p,repositories:l,selectedOrganization:d,selectedRepository:u})}}var de=r(365),ue=r(889),me=r(890),he=r(344);r(1790);class ge extends n.PureComponent{constructor(e){super(e),this.mounted=!1,this.checkFreeKey=e=>Object(de.f)({component:e}).then(t=>{this.mounted&&e===this.state.projectKey&&(t?this.setState({projectKeyError:Object(o.translate)("onboarding.create_project.project_key.taken"),touched:!0,validating:!1}):this.setState({projectKeyError:void 0,validating:!1}))}).catch(()=>{this.mounted&&e===this.state.projectKey&&this.setState({projectKeyError:void 0,validating:!1})}),this.handleFormSubmit=e=>{e.preventDefault();const{state:t}=this;this.canSubmit(t)&&(this.setState({submitting:!0}),Object(de.c)({project:t.projectKey,name:(t.projectName||t.projectKey).trim()}).then(({project:e})=>this.props.onProjectCreate([e.key]),()=>{this.mounted&&this.setState({submitting:!1})}))},this.handleProjectKeyChange=e=>{const t=e.currentTarget.value||"",r=this.validateKey(t);this.setState(e=>{const n=e.projectNameChanged?e.projectName:t;return{projectKey:t,projectKeyError:r,projectName:n,projectNameError:this.validateName(n),touched:!0,validating:void 0===r}}),void 0===r&&this.checkFreeKey(t)},this.handleProjectNameChange=e=>{const t=e.currentTarget.value;this.setState({projectName:t,projectNameChanged:!0,projectNameError:this.validateName(t)})},this.validateKey=e=>{const t=Object(me.a)(e);return t===he.b.Valid?void 0:Object(o.translate)("onboarding.create_project.project_key.error",t)},this.validateName=e=>0===e.length?Object(o.translate)("onboarding.create_project.display_name.error.empty"):e.length>255?Object(o.translate)("onboarding.create_project.display_name.error.too_long"):void 0,this.state={projectKey:"",projectName:"",projectNameChanged:!1,submitting:!1,touched:!1,validating:!1},this.checkFreeKey=te()(this.checkFreeKey,250)}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}canSubmit(e){const{projectKey:t,projectKeyError:r,projectName:n,projectNameError:a}=e;return Boolean(void 0===r&&void 0===a&&t.length>0&&n.length>0)}render(){const{projectKey:e,projectKeyError:t,projectName:r,projectNameError:a,submitting:i,touched:s,validating:c}=this.state,l=s&&void 0!==a,p=s&&void 0===a;return n.createElement(n.Fragment,null,n.createElement(J,{title:Object(o.translate)("onboarding.create_project.setup_manually")}),n.createElement("div",{className:"create-project-manual"},n.createElement("div",{className:"flex-1 huge-spacer-right"},n.createElement("form",{className:"manual-project-create",onSubmit:this.handleFormSubmit},n.createElement(ue.a,{error:t,help:Object(o.translate)("onboarding.create_project.project_key.help"),label:Object(o.translate)("onboarding.create_project.project_key"),onProjectKeyChange:this.handleProjectKeyChange,projectKey:e,touched:s,validating:c}),n.createElement(U.a,{className:"form-field",description:Object(o.translate)("onboarding.create_project.display_name.description"),error:a,help:Object(o.translate)("onboarding.create_project.display_name.help"),id:"project-name",isInvalid:l,isValid:p,label:Object(o.translate)("onboarding.create_project.display_name"),required:!0},n.createElement("input",{className:R("input-super-large",{"is-invalid":l,"is-valid":p}),id:"project-name",maxLength:255,minLength:1,onChange:this.handleProjectNameChange,type:"text",value:r})),n.createElement(f.SubmitButton,{disabled:!this.canSubmit(this.state)||i},Object(o.translate)("set_up")),n.createElement(_.a,{className:"spacer-left",loading:i})))))}}r(1792);class be extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={bitbucketSettings:[],githubSettings:[],loading:!0},this.fetchAlmBindings=()=>{this.setState({loading:!0}),Object(i.j)().then(e=>{this.mounted&&this.setState({bitbucketSettings:e.filter(e=>e.alm===d.a.Bitbucket),githubSettings:e.filter(e=>e.alm===d.a.GitHub),loading:!1})}).catch(()=>{this.mounted&&this.setState({loading:!1})})},this.handleModeSelect=e=>{const{router:t,location:r}=this.props;t.push({pathname:r.pathname,query:{mode:e}})},this.handleProjectCreate=e=>{1===e.length&&this.props.router.push(Object(p.u)(e[0]))}}componentDidMount(){const{appState:{branchesEnabled:e}}=this.props;this.mounted=!0,e&&this.fetchAlmBindings()}componentWillUnmount(){this.mounted=!1}renderForm(e){const{appState:{canAdmin:t},location:r,router:a}=this.props,{bitbucketSettings:o,githubSettings:i,loading:s}=this.state;switch(e){case h.BitbucketServer:return n.createElement(W,{canAdmin:!!t,bitbucketSettings:o,loadingBindings:s,location:r,onProjectCreate:this.handleProjectCreate});case h.GitHub:return n.createElement(pe,{canAdmin:!!t,loadingBindings:s,location:r,onProjectCreate:this.handleProjectCreate,router:a,settings:i});case h.Manual:return n.createElement(ge,{onProjectCreate:this.handleProjectCreate});default:{const e={[d.a.Azure]:0,[d.a.Bitbucket]:o.length,[d.a.GitHub]:i.length,[d.a.GitLab]:0};return n.createElement(Z,{almCounts:e,loadingBindings:s,onSelectMode:this.handleModeSelect})}}}render(){var e;const{appState:{branchesEnabled:t},location:r}=this.props,i=null===(e=r.query)||void 0===e?void 0:e.mode;return n.createElement(n.Fragment,null,n.createElement(a.a,{title:Object(o.translate)("my_account.create_new.TRK"),titleTemplate:"%s"}),n.createElement(s.a,{anchor:"create_project_main"}),n.createElement("div",{className:"page page-limited huge-spacer-bottom position-relative",id:"create-project"},this.renderForm(t?i:h.Manual)))}}t.default=Object(c.a)(Object(l.a)(be))},324:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(311),a=r(2),o=r(370),i=r(340);r(341);var s=r(316);t.default=function(e){var t=e.tagName,r=void 0===t?"div":t;return a.createElement(r,{className:n("help-tooltip",e.className)},a.createElement(s.default,{mouseLeaveDelay:.25,onShow:e.onShow,overlay:e.overlay,placement:e.placement},a.createElement("span",{className:"display-inline-flex-center"},e.children||a.createElement(i.ThemeConsumer,null,(function(e){return a.createElement(o.default,{fill:e.colors.gray71,size:12})})))))}},341:function(e,t,r){var n=r(313),a=r(342);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},342:function(e,t,r){(t=r(314)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""]),e.exports=t},347:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(311),a=r(2),o=r(31),i=r(320),s=r(318),c=r(312);t.default=function(e){var t,r=e.className,l=e.count,p=e.loading,d=e.needReload,u=e.total,m=e.ready,h=void 0===m||m,g=u&&u>l;return d&&e.reload?t=a.createElement(c.Button,{className:"spacer-left","data-test":"reload",disabled:p,onClick:e.reload},o.translate("reload")):g&&e.loadMore&&(t=a.createElement(c.Button,{className:"spacer-left",disabled:p,"data-test":"show-more",onClick:e.loadMore},o.translate("show_more"))),a.createElement("footer",{className:n("spacer-top note text-center",{"new-loading":!h},r)},o.translateWithParameters("x_of_y_shown",i.formatMeasure(l,"INT",null),i.formatMeasure(u,"INT",null)),t,p&&a.createElement(s.default,{className:"text-bottom spacer-left position-absolute"}))}},352:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2),a=r(31),o=r(401);function i(e){return n.createElement(o.a.Consumer,null,({addA11ySkipLink:t,removeA11ySkipLink:r})=>n.createElement(s,Object.assign({addA11ySkipLink:t,removeA11ySkipLink:r},e)))}class s extends n.PureComponent{constructor(){super(...arguments),this.getLink=()=>{const{anchor:e,label:t=Object(a.translate)("skip_to_content"),weight:r}=this.props;return{key:e,label:t,weight:r}}}componentDidMount(){this.props.addA11ySkipLink(this.getLink())}componentWillUnmount(){this.props.removeA11ySkipLink(this.getLink())}render(){const{anchor:e}=this.props;return n.createElement("span",{id:"a11y_target__".concat(e)})}}},403:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(315);t.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,s=a(e,["fill"]);return o.createElement(i.default,n({},s),o.createElement("path",{d:"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z",style:{fill:r}}))}},415:function(e,t,r){var n=r(313),a=r(431);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},430:function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(311),i=r(2);r(415);var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),t.props.disabled||t.props.onCheck(t.props.value)},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=e.checked,n=e.children,a=e.disabled;return i.createElement("a",{"aria-checked":r,className:o("display-inline-flex-center link-radio",t,{disabled:a}),href:"#",onClick:this.handleClick,role:"radio"},i.createElement("i",{className:o("icon-radio","spacer-right",{"is-checked":r})}),n)},t}(i.PureComponent);t.default=s},431:function(e,t,r){(t=r(314)(!1)).push([e.i,'.icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:"";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}',""]),e.exports=t},432:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(403),s=r(418);t.default=function(e){var t=e.open,r=a(e,["open"]);return t?o.createElement(i.default,n({},r)):o.createElement(s.default,n({},r))}},433:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.Azure="azure",e.Bitbucket="bitbucket",e.GitHub="github",e.GitLab="gitlab"}(n||(n={}))},481:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(315);t.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,s=a(e,["fill"]);return o.createElement(i.default,n({},s),o.createElement("path",{d:"M14.92 4.804q0 0.357-0.25 0.607l-7.679 7.679q-0.25 0.25-0.607 0.25t-0.607-0.25l-4.446-4.446q-0.25-0.25-0.25-0.607t0.25-0.607l1.214-1.214q0.25-0.25 0.607-0.25t0.607 0.25l2.625 2.634 5.857-5.866q0.25-0.25 0.607-0.25t0.607 0.25l1.214 1.214q0.25 0.25 0.25 0.607z",style:{fill:r}}))}},519:function(e,t,r){"use strict";r.d(t,"h",(function(){return o})),r.d(t,"i",(function(){return i})),r.d(t,"j",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"r",(function(){return l})),r.d(t,"b",(function(){return p})),r.d(t,"p",(function(){return d})),r.d(t,"c",(function(){return u})),r.d(t,"q",(function(){return m})),r.d(t,"e",(function(){return h})),r.d(t,"s",(function(){return g})),r.d(t,"f",(function(){return b})),r.d(t,"a",(function(){return f})),r.d(t,"k",(function(){return y})),r.d(t,"g",(function(){return j})),r.d(t,"l",(function(){return _})),r.d(t,"m",(function(){return v})),r.d(t,"n",(function(){return O})),r.d(t,"o",(function(){return k}));var n=r(9),a=r(326);function o(){return i().catch(a.a)}function i(){return Object(n.getJSON)("/api/alm_settings/list_definitions")}function s(e){return Object(n.getJSON)("/api/alm_settings/list",{project:e}).then(({almSettings:e})=>e).catch(a.a)}function c(e){return Object(n.post)("/api/alm_settings/create_github",e).catch(a.a)}function l(e){return Object(n.post)("/api/alm_settings/update_github",e).catch(a.a)}function p(e){return Object(n.post)("/api/alm_settings/create_azure",e).catch(a.a)}function d(e){return Object(n.post)("/api/alm_settings/update_azure",e).catch(a.a)}function u(e){return Object(n.post)("/api/alm_settings/create_bitbucket",e).catch(a.a)}function m(e){return Object(n.post)("/api/alm_settings/update_bitbucket",e).catch(a.a)}function h(e){return Object(n.post)("/api/alm_settings/create_gitlab",e).catch(a.a)}function g(e){return Object(n.post)("/api/alm_settings/update_gitlab",e).catch(a.a)}function b(e){return Object(n.post)("/api/alm_settings/delete",{key:e}).catch(a.a)}function f(e){return Object(n.getJSON)("/api/alm_settings/count_binding",{almSetting:e}).then(({projects:e})=>e).catch(a.a)}function y(e){return Object(n.getJSON)("/api/alm_settings/get_binding",{project:e})}function j(e){return Object(n.post)("/api/alm_settings/delete_binding",{project:e}).catch(a.a)}function _(e){return Object(n.post)("/api/alm_settings/set_azure_binding",e).catch(a.a)}function v(e){return Object(n.post)("/api/alm_settings/set_bitbucket_binding",e).catch(a.a)}function O(e){return Object(n.post)("/api/alm_settings/set_github_binding",e).catch(a.a)}function k(e){return Object(n.post)("/api/alm_settings/set_gitlab_binding",e).catch(a.a)}},561:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=r(483),o=r(434),i=r(324);t.default=function(e){var t=e.isInvalid&&void 0!==e.error;return n.createElement("div",{className:e.className},n.createElement("label",{htmlFor:e.id},n.createElement("span",{className:"text-middle"},n.createElement("strong",null,e.label),e.required&&n.createElement("em",{className:"mandatory"},"*")),e.help&&n.createElement(i.default,{className:"spacer-left",overlay:e.help})),n.createElement("div",{className:"little-spacer-top spacer-bottom"},e.children,e.isInvalid&&n.createElement(a.default,{className:"spacer-left text-middle"}),t&&n.createElement("span",{className:"little-spacer-left text-danger text-middle"},e.error),e.isValid&&n.createElement(o.default,{className:"spacer-left text-middle"})),e.description&&n.createElement("div",{className:"note abs-width-400"},e.description))}},629:function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(311),i=r(2),s=r(432),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hoveringInner:!1},t.handleClick=function(){t.props.onClick(t.props.data)},t.onDetailEnter=function(){t.setState({hoveringInner:!0})},t.onDetailLeave=function(){t.setState({hoveringInner:!1})},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=e.open,n=e.renderHeader,a=e.title;return i.createElement("div",{className:o("boxed-group boxed-group-accordion",t,{"no-hover":this.state.hoveringInner})},i.createElement("div",{className:"boxed-group-header",onClick:this.handleClick,role:"listitem"},i.createElement("span",{className:"boxed-group-accordion-title"},i.createElement(s.default,{className:"little-spacer-right",open:r}),a),n&&n()),r&&i.createElement("div",{className:"boxed-group-inner",onMouseEnter:this.onDetailEnter,onMouseLeave:this.onDetailLeave},this.props.children))},t}(i.PureComponent);t.default=c},647:function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(27),i=r(2),s=r(31),c=r(343),l=function(e){function t(t){var r=e.call(this,t)||this;return r.mounted=!1,r.handleSearch=function(e){var t=e;r.props.onSearch(t).then((function(e){r.mounted&&r.setState((function(r){return{loading:!1,options:r.query===t?e:r.options}}))}),(function(){r.mounted&&r.setState({loading:!1})}))},r.handleChange=function(e){Array.isArray(e)?r.props.onMultiSelect&&r.props.onMultiSelect(e):r.props.onSelect&&r.props.onSelect(e)},r.handleInputChange=function(e){if(e.length>=r.minimumQueryLength)r.setState({loading:!0,query:e}),r.handleSearch(e);else{var t=0===e.length&&r.props.defaultOptions||[];r.setState({options:t,query:e})}},r.handleFilterOption=function(){return!0},r.state={loading:!1,options:t.defaultOptions||[],query:""},r.handleSearch=o.debounce(r.handleSearch,250),r}return a(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},Object.defineProperty(t.prototype,"autofocus",{get:function(){return void 0===this.props.autofocus||this.props.autofocus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumQueryLength",{get:function(){return void 0!==this.props.minimumQueryLength?this.props.minimumQueryLength:2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resetOnBlur",{get:function(){return void 0===this.props.resetOnBlur||this.props.resetOnBlur},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.canCreate?c.Creatable:c.default;return i.createElement(e,{autoFocus:this.autofocus,className:this.props.className,clearable:this.props.clearable,escapeClearsValue:!1,filterOption:this.handleFilterOption,isLoading:this.state.loading,multi:this.props.multi,noResultsText:this.state.query.length<this.minimumQueryLength?s.translateWithParameters("select2.tooShort",this.minimumQueryLength):s.translate("select2.noMatches"),onBlurResetsInput:this.resetOnBlur,onChange:this.handleChange,onInputChange:this.handleInputChange,optionRenderer:this.props.renderOption,options:this.state.options,placeholder:s.translate("search_verb"),promptTextCreator:this.props.promptTextCreator,searchable:!0,value:this.props.value,valueRenderer:this.props.renderOption})},t}(i.PureComponent);t.default=l},656:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return s}));const n="almintegration",a="exclusions",o="languages",i="new_code_period",s="pull_request_decoration_binding"},725:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(2),a=r(35),o=r.n(a),i=r(337),s=r(544),c=r(438);function l(e){class t extends n.Component{componentDidMount(){Object(i.b)(this.props.currentUser)||o()()}render(){return Object(i.b)(this.props.currentUser)?n.createElement(e,Object.assign({},this.props)):null}}return t.displayName=Object(s.a)(e,"whenLoggedIn"),Object(c.a)(t)}},889:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(311),a=r(2),o=r(561),i=r.n(o),s=r(31),c=r(417);function l(e){const{error:t,help:r,label:o,placeholder:l,projectKey:p,touched:d,validating:u}=e,m=d&&void 0!==t,h=d&&!u&&void 0===t;return a.createElement(i.a,{className:"form-field",description:Object(s.translate)("onboarding.create_project.project_key.description"),error:t,help:r,id:"project-key",isInvalid:m,isValid:h,label:o,required:void 0!==o},a.createElement("input",{autoFocus:!0,className:n("input-super-large",{"is-invalid":m,"is-valid":h}),id:"project-key",maxLength:c.b,minLength:1,onChange:e.onProjectKeyChange,placeholder:l,type:"text",value:p}))}},890:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(344),a=r(417);function o(e){return 0===e.length?n.b.Empty:e.length>a.b?n.b.TooLong:/^[\w\-.:]*[a-z\-_.:]+[\w\-.:]*$/i.test(e)?n.b.Valid:/^[0-9]+$/.test(e)?n.b.OnlyDigits:n.b.InvalidChar}}}]);
//# sourceMappingURL=296.m.05bb6cd6.chunk.js.map