(window.webpackJsonp=window.webpackJsonp||[]).push([[297],{1004:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c}));var r="almintegration",o="exclusions",a="languages",i="new_code_period",c="pull_request_decoration_binding"},1074:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,o=n(13),a=n(180),i=n.n(a),c=n(686),s=n(892),l=n(785),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function d(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return u(n,t),n.prototype.componentDidMount=function(){Object(c.b)(this.props.currentUser)||i()()},n.prototype.render=function(){return Object(c.b)(this.props.currentUser)?o.createElement(e,p({},this.props)):null},n.displayName=Object(s.a)(e,"whenLoggedIn"),n}(o.Component);return Object(l.a)(t)}},1234:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(660),o=n(13),a=n(910),i=n.n(a),c=n(176),s=n(765);function l(e){var t=e.error,n=e.help,a=e.label,l=e.placeholder,u=e.projectKey,p=e.touched,d=e.validating,m=p&&void 0!==t,h=p&&!d&&void 0===t;return o.createElement(i.a,{className:"form-field",description:Object(c.translate)("onboarding.create_project.project_key.description"),error:t,help:n,id:"project-key",isInvalid:m,isValid:h,label:a,required:void 0!==a},o.createElement("input",{autoFocus:!0,className:r("input-super-large",{"is-invalid":m,"is-valid":h}),id:"project-key",maxLength:s.b,minLength:1,onChange:e.onProjectKeyChange,placeholder:l,type:"text",value:u}))}},1235:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(693),o=n(765);function a(e){return 0===e.length?r.b.Empty:e.length>o.b?r.b.TooLong:/^[\w\-.:]*[a-z\-_.:]+[\w\-.:]*$/i.test(e)?r.b.Valid:/^[0-9]+$/.test(e)?r.b.OnlyDigits:r.b.InvalidChar}},2140:function(e,t,n){var r=n(662),o=n(2141);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},i=(r(o,a),o.locals?o.locals:{});e.exports=i},2141:function(e,t,n){(t=n(663)(!1)).push([e.i,".manual-project-create{max-width:700px}.manual-project-create .button{margin-top:8px}",""]),e.exports=t},2142:function(e,t,n){var r=n(662),o=n(2143);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},i=(r(o,a),o.locals?o.locals:{});e.exports=i},2143:function(e,t,n){(t=n(663)(!1)).push([e.i,"#create-project{padding-top:0!important}#create-project header{padding-top:20px;background-color:#f3f3f3;position:-webkit-sticky;position:sticky;top:48px;z-index:50}.create-project-manual{display:flex!important;justify-content:space-between}.create-project-import-bbs .open .boxed-group-header{border-bottom:1px solid #e6e6e6}.create-project-import-bbs .boxed-group-inner{padding-top:24px}.create-project-import-bbs-repo{width:250px;min-height:40px}.create-project-github-repository{box-sizing:border-box;width:33.33%}.create-project-github-repository .notice{display:block;position:absolute}.create-project-github-repository .notice svg{color:#0a0}",""]),e.exports=t},2227:function(e,t,n){"use strict";n.r(t),n.d(t,"CreateProjectPage",(function(){return xe}));var r=n(13),o=n(681),a=n(176),i=n(866),c=n(701),s=n(1074),l=n(857),u=n(671),p=n(780),d=n(49),m=n(677);function h(e,t){return Object(d.getJSON)("/api/alm_integrations/list_github_organizations",{almSetting:e,token:t}).catch((function(e){e&&400!==e.status&&Object(m.a)(e)}))}function g(e){var t=e.almSetting,n=e.organization,r=e.ps,o=e.p,a=void 0===o?1:o,i=e.query;return Object(d.getJSON)("/api/alm_integrations/list_github_repositories",{almSetting:t,organization:n,p:a,ps:r,q:i||void 0}).catch(m.a)}var b,f=n(668),y=n(665),v=n(661),_=n(674),j=n(667),O=n.n(j),k=n(687),E=n(1004),S=n(699),N=n.n(S),w=n(719),x=n.n(w),P=n(774),R=n.n(P),C=n(660),M=n(977),z=n.n(M),A=n(777),L=n.n(A),K=n(829),B=n.n(K),I=n(685);function F(e){var t=e.disableRepositories,n=e.open,o=e.project,i=e.repositories,c=e.selectedRepository,s=e.showingAllRepositories,l=i.length;return r.createElement(z.a,{className:C("big-spacer-bottom",{open:n,"not-clickable":!e.onClick,"no-hover":!e.onClick}),key:o.key,onClick:e.onClick?e.onClick:function(){},open:n,title:r.createElement("h3",null,o.name)},n&&r.createElement("div",{className:"display-flex-wrap"},0===l&&r.createElement(_.Alert,{variant:"warning"},r.createElement(f.FormattedMessage,{defaultMessage:Object(a.translate)("onboarding.create_project.no_bbs_repos"),id:"onboarding.create_project.no_bbs_repos",values:{link:r.createElement(y.Link,{to:{pathname:"/projects/create",query:{mode:b.BitbucketServer,resetPat:1}}},Object(a.translate)("onboarding.create_project.update_your_token"))}})),i.map((function(n){return n.sqProjectKey?r.createElement("div",{className:"display-flex-start spacer-right spacer-bottom create-project-import-bbs-repo",key:n.id},r.createElement(B.a,{className:"spacer-right",fill:I.colors.green,size:14}),r.createElement("div",{className:"overflow-hidden"},r.createElement("div",{className:"little-spacer-bottom text-ellipsis"},r.createElement("strong",{title:n.name},r.createElement(y.Link,{to:Object(u.u)(n.sqProjectKey)},n.name))),r.createElement("em",null,Object(a.translate)("onboarding.create_project.repository_imported")))):r.createElement(L.a,{checked:(null==c?void 0:c.id)===n.id,className:C("display-flex-start spacer-right spacer-bottom create-project-import-bbs-repo overflow-hidden",{disabled:t,"text-muted":t,"link-no-underline":t}),key:n.id,onCheck:function(){return e.onSelectRepository(n)},value:String(n.id)},r.createElement("strong",{className:"text-ellipsis",title:n.name},n.name))})),!s&&l>0&&r.createElement(_.Alert,{variant:"warning"},Object(a.translateWithParameters)("onboarding.create_project.only_showing_X_first_repos",l))))}!function(e){e.Manual="manual",e.BitbucketServer="bitbucket",e.GitHub="github"}(b||(b={}));var q=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,c=a.length;i<c;i++,o++)r[o]=a[i];return r};function T(e){var t=e.disableRepositories,n=e.projects,o=e.projectRepositories,i=e.selectedRepository,c=r.useState(n.length>0?[n[0].key]:[]),s=c[0],l=c[1],u=n.length<=s.length;return r.createElement(r.Fragment,null,r.createElement("div",{className:"overflow-hidden spacer-bottom"},r.createElement(v.ButtonLink,{className:"pull-right",onClick:function(){return l(u?[]:n.map((function(e){return e.key})))}},u?Object(a.translate)("collapse_all"):Object(a.translate)("expand_all"))),n.map((function(n){var a=s.includes(n.key),c=o[n.key]||{},u=c.allShown,p=c.repositories,d=void 0===p?[]:p;return r.createElement(F,{disableRepositories:t,key:n.key,onClick:function(){return function(e,t){l(e?x()(s,t):R()(q(s,[t])))}(a,n.key)},onSelectRepository:e.onSelectRepository,open:a,project:n,repositories:d,selectedRepository:i,showingAllRepositories:u})})))}var D=n(742);function U(e){var t=e.disableRepositories,n=e.projects,o=e.searching,i=e.searchResults,c=void 0===i?[]:i,s=e.selectedRepository,l=R()(c.map((function(e){return n.find((function(t){return t.key===e.projectKey}))})).filter(D.isDefined));return 0!==l.length||o?r.createElement("div",{className:"big-spacer-top"},r.createElement(O.a,{loading:o},l.map((function(n){var o=c.filter((function(e){return e.projectKey===n.key}));return r.createElement(F,{disableRepositories:t,key:n.key,onSelectRepository:e.onSelectRepository,open:!0,project:n,repositories:o,selectedRepository:s,showingAllRepositories:!0})})))):r.createElement(_.Alert,{className:"big-spacer-top",variant:"warning"},Object(a.translate)("onboarding.create_project.no_bbs_repos.filter"))}function V(e){var t=e.disableRepositories,n=e.projects,o=void 0===n?[]:n,i=e.projectRepositories,c=void 0===i?{}:i,s=e.searchResults,l=e.searching,u=e.selectedRepository;return 0===o.length?r.createElement(_.Alert,{className:"spacer-top",variant:"warning"},r.createElement(f.FormattedMessage,{defaultMessage:Object(a.translate)("onboarding.create_project.no_bbs_projects"),id:"onboarding.create_project.no_bbs_projects",values:{link:r.createElement(y.Link,{to:{pathname:"/projects/create",query:{mode:b.BitbucketServer,resetPat:1}}},Object(a.translate)("onboarding.create_project.update_your_token"))}})):r.createElement("div",{className:"create-project-import-bbs"},r.createElement(N.a,{onChange:e.onSearch,placeholder:Object(a.translate)("onboarding.create_project.search_repositories_by_name")}),l||s?r.createElement(U,{disableRepositories:t,onSelectRepository:e.onSelectRepository,projects:o,searchResults:s,searching:l,selectedRepository:u}):r.createElement(T,{disableRepositories:t,onSelectRepository:e.onSelectRepository,projectRepositories:c,projects:o,selectedRepository:u}))}var G=n(910),J=n.n(G);function Q(e){var t=e.bitbucketSetting.url,n=e.submitting,o=void 0!==n&&n,i=e.validationFailed,c=r.useState(!1),s=c[0],l=c[1];r.useEffect((function(){l(!1)}),[o]);var u=i&&!s;return r.createElement("div",{className:"display-flex-start"},r.createElement("form",{onSubmit:function(t){t.preventDefault();var n=new FormData(t.currentTarget).get("personal_access_token");e.onPersonalAccessTokenCreate(n)}},r.createElement("h2",{className:"big"},Object(a.translate)("onboarding.create_project.grant_access_to_bbs.title")),r.createElement("p",{className:"big-spacer-top big-spacer-bottom"},Object(a.translate)("onboarding.create_project.grant_access_to_bbs.help")),r.createElement(J.a,{error:u?Object(a.translate)("onboarding.create_project.pat_incorrect"):void 0,id:"personal_access_token",isInvalid:u,isValid:!1,label:Object(a.translate)("onboarding.create_project.enter_pat"),required:!0},r.createElement("input",{autoFocus:!0,className:C("input-super-large",{"is-invalid":u}),id:"personal_access_token",minLength:1,name:"personal_access_token",onChange:function(){l(!0)},type:"text"})),r.createElement(v.SubmitButton,{disabled:u||o||!s},Object(a.translate)("save")),r.createElement(O.a,{className:"spacer-left",loading:o})),r.createElement(_.Alert,{className:"big-spacer-left big-spacer-top",display:"block",variant:"info"},r.createElement("h3",null,Object(a.translate)("onboarding.create_project.pat_help.title")),r.createElement("p",{className:"big-spacer-top big-spacer-bottom"},Object(a.translate)("onboarding.create_project.pat_help.bbs_help_1")),t&&r.createElement("div",{className:"text-middle"},r.createElement("img",{alt:"",className:"spacer-right",height:"16",src:Object(k.getBaseUrl)()+"/images/alm/bitbucket.svg"}),r.createElement("a",{href:t.replace(/\/$/,"")+"/plugins/servlet/access-tokens/add",rel:"noopener noreferrer",target:"_blank"},Object(a.translate)("onboarding.create_project.pat_help.link"))),r.createElement("p",{className:"big-spacer-top big-spacer-bottom"},Object(a.translate)("onboarding.create_project.pat_help.bbs_help_2")),r.createElement("ul",null,r.createElement("li",null,r.createElement(f.FormattedMessage,{defaultMessage:Object(a.translate)("onboarding.create_project.pat_help.bbs_permission_projects"),id:"onboarding.create_project.pat_help.bbs_permission_projects",values:{perm:r.createElement("strong",null,Object(a.translate)("onboarding.create_project.pat_help.read_permission"))}})),r.createElement("li",null,r.createElement(f.FormattedMessage,{defaultMessage:Object(a.translate)("onboarding.create_project.pat_help.bbs_permission_repos"),id:"onboarding.create_project.pat_help.bbs_permission_repos",values:{perm:r.createElement("strong",null,Object(a.translate)("onboarding.create_project.pat_help.read_permission"))}})))))}function H(e){var t=e.additionalActions,n=e.title;return r.createElement("header",{className:"huge-spacer-bottom bordered-bottom overflow-hidden"},r.createElement("h1",{className:"pull-left huge big-spacer-bottom"},n),t)}function W(e){var t=e.bitbucketSetting,n=e.canAdmin,o=e.importing,i=e.loading,c=e.projects,s=e.projectRepositories,l=e.selectedRepository,u=e.searching,p=e.searchResults,d=e.showPersonalAccessTokenForm,m=e.submittingToken,h=e.tokenValidationFailed;return r.createElement(r.Fragment,null,r.createElement(H,{additionalActions:!d&&r.createElement("div",{className:"display-flex-center pull-right"},r.createElement(O.a,{className:"spacer-right",loading:o}),r.createElement(v.Button,{className:"button-large button-primary",disabled:!l||o,onClick:e.onImportRepository},Object(a.translate)("onboarding.create_project.import_selected_repo"))),title:r.createElement("span",{className:"text-middle"},r.createElement("img",{alt:"",className:"spacer-right",height:"24",src:Object(k.getBaseUrl)()+"/images/alm/bitbucket.svg"}),Object(a.translate)("onboarding.create_project.from_bbs"))}),i&&r.createElement("i",{className:"spinner"}),!i&&!t&&r.createElement(_.Alert,{variant:"error"},n?r.createElement(f.FormattedMessage,{defaultMessage:Object(a.translate)("onboarding.create_project.no_bbs_binding.admin"),id:"onboarding.create_project.no_bbs_binding.admin",values:{url:r.createElement(y.Link,{to:{pathname:"/admin/settings",query:{category:E.a}}},Object(a.translate)("settings.page"))}}):Object(a.translate)("onboarding.create_project.no_bbs_binding")),!i&&t&&(d?r.createElement(Q,{bitbucketSetting:t,onPersonalAccessTokenCreate:e.onPersonalAccessTokenCreate,submitting:m,validationFailed:h}):r.createElement(V,{disableRepositories:o,onSearch:e.onSearch,onSelectRepository:e.onSelectRepository,projectRepositories:s,projects:c,searchResults:p,searching:u,selectedRepository:l})))}var $,X=($=function(e,t){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}$(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Z=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},ee=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},te=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.fetchInitialData=function(){return Z(n,void 0,void 0,(function(){var e,t,n;return ee(this,(function(r){switch(r.label){case 0:return this.setState({loading:!0}),[4,this.checkPersonalAccessToken().catch((function(){return!1}))];case 1:return(e=r.sent())?[4,this.fetchBitbucketProjects().catch((function(){}))]:[3,3];case 2:t=r.sent(),r.label=3;case 3:return t&&t.length>0?[4,this.fetchBitbucketRepositories(t).catch((function(){}))]:[3,5];case 4:n=r.sent(),r.label=5;case 5:return this.mounted&&this.setState({patIsValid:e,projects:t,projectRepositories:n,loading:!1}),[2]}}))}))},n.checkPersonalAccessToken=function(){var e,t=n.state.bitbucketSetting;return t?(e=t.key,Object(d.get)("/api/alm_integrations/check_pat",{almSetting:e}).then((function(){return!0})).catch((function(e){return 400!==e.status&&Object(m.a)(e)}))):Promise.resolve(!1)},n.fetchBitbucketProjects=function(){var e,t=n.state.bitbucketSetting;return t?(e=t.key,Object(d.getJSON)("/api/alm_integrations/list_bitbucketserver_projects",{almSetting:e})).then((function(e){return e.projects})):Promise.resolve(void 0)},n.fetchBitbucketRepositories=function(e){var t=n.state.bitbucketSetting;return t?Promise.all(e.map((function(e){return(n=t.key,r=e.name,Object(d.getJSON)("/api/alm_integrations/search_bitbucketserver_repos",{almSetting:n,projectName:r})).then((function(t){return{isLastPage:t.isLastPage,repositories:t.repositories,projectKey:e.key}}));var n,r}))).then((function(e){return e.reduce((function(e,t){var n,r=t.isLastPage,o=t.projectKey,a=t.repositories;return Y(Y({},e),((n={})[o]={allShown:r,repositories:a},n))}),{})})):Promise.resolve(void 0)},n.handlePersonalAccessTokenCreate=function(e){var t,r,o=n.state.bitbucketSetting;!o||e.length<1||(n.setState({submittingToken:!0,tokenValidationFailed:!1}),(t=o.key,r=e,Object(d.post)("/api/alm_integrations/set_pat",{almSetting:t,pat:r}).catch(m.a)).then(n.checkPersonalAccessToken).then((function(e){n.mounted&&(n.setState({submittingToken:!1,patIsValid:e,tokenValidationFailed:!e}),e&&n.fetchInitialData())})).catch((function(){n.mounted&&n.setState({submittingToken:!1})})))},n.handleImportRepository=function(){var e,t,r,o=n.state,a=o.bitbucketSetting,i=o.selectedRepository;a&&i&&(n.setState({importing:!0}),(e=a.key,t=i.projectKey,r=i.slug,Object(d.postJSON)("/api/alm_integrations/import_bitbucketserver_project",{almSetting:e,projectKey:t,repositorySlug:r}).catch(m.a)).then((function(e){var t=e.project.key;n.mounted&&(n.setState({importing:!1}),n.props.onProjectCreate([t]))})).catch((function(){n.mounted&&n.setState({importing:!1})})))},n.handleSearch=function(e){var t,r,o=n.state.bitbucketSetting;o&&(e?(n.setState({searching:!0,selectedRepository:void 0}),(t=o.key,r=e,Object(d.getJSON)("/api/alm_integrations/search_bitbucketserver_repos",{almSetting:t,repositoryName:r})).then((function(e){var t=e.repositories;n.mounted&&n.setState({searching:!1,searchResults:t})})).catch((function(){n.mounted&&n.setState({searching:!1})}))):n.setState({searching:!1,searchResults:void 0,selectedRepository:void 0}))},n.handleSelectRepository=function(e){n.setState({selectedRepository:e})},n.state={bitbucketSetting:t.bitbucketSettings[0],importing:!1,loading:!1,searching:!1,tokenValidationFailed:!1},n}return X(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchInitialData()},t.prototype.componentDidUpdate=function(e){var t=this;0===e.bitbucketSettings.length&&this.props.bitbucketSettings.length>0&&this.setState({bitbucketSetting:this.props.bitbucketSettings[0]},(function(){return t.fetchInitialData()}))},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.canAdmin,n=e.loadingBindings,o=e.location,a=this.state,i=a.bitbucketSetting,c=a.importing,s=a.loading,l=a.patIsValid,u=a.projectRepositories,p=a.projects,d=a.searching,m=a.searchResults,h=a.selectedRepository,g=a.submittingToken,b=a.tokenValidationFailed;return r.createElement(W,{bitbucketSetting:i,canAdmin:t,importing:c,loading:s||n,onImportRepository:this.handleImportRepository,onPersonalAccessTokenCreate:this.handlePersonalAccessTokenCreate,onProjectCreate:this.props.onProjectCreate,onSearch:this.handleSearch,onSelectRepository:this.handleSelectRepository,projectRepositories:u,projects:p,searchResults:m,searching:d,selectedRepository:h,showPersonalAccessTokenForm:!l||Boolean(o.query.resetPat),submittingToken:g,tokenValidationFailed:b})},t}(r.PureComponent),ne=n(673),re=n.n(ne);function oe(e,t,n){var o=e.almCounts,i=e.loadingBindings,c=o[t],s=1!==c||i;return r.createElement("button",{className:C("button button-huge big-spacer-left display-flex-column create-project-mode-type-bbs",{disabled:s}),disabled:s,onClick:function(){return e.onSelectMode(n)},type:"button"},r.createElement("img",{alt:"",height:80,src:Object(k.getBaseUrl)()+"/images/alm/"+t+".svg"}),r.createElement("div",{className:"medium big-spacer-top"},Object(a.translate)("onboarding.create_project.select_method",t)),i&&r.createElement("span",null,Object(a.translate)("onboarding.create_project.check_alm_supported"),r.createElement("i",{className:"little-spacer-left spinner"})),!i&&s&&r.createElement("div",{className:"text-muted small spacer-top",style:{lineHeight:1.5}},Object(a.translate)("onboarding.create_project.alm_not_configured"),r.createElement(re.a,{className:"little-spacer-left",overlay:0===c?Object(a.translate)("onboarding.create_project.zero_alm_instances",t):Object(a.translate)("onboarding.create_project.too_many_alm_instances",t)+" \n                  "+Object(a.translateWithParameters)("onboarding.create_project.alm_instances_count_X",c)})))}function ae(e){return r.createElement(r.Fragment,null,r.createElement("header",{className:"huge-spacer-top big-spacer-bottom padded"},r.createElement("h1",{className:"text-center huge big-spacer-bottom"},Object(a.translate)("my_account.create_new.TRK")),r.createElement("p",{className:"text-center big"},Object(a.translate)("onboarding.create_project.select_method"))),r.createElement("div",{className:"create-project-modes huge-spacer-top display-flex-justify-center"},r.createElement("button",{className:"button button-huge display-flex-column create-project-mode-type-manual",onClick:function(){return e.onSelectMode(b.Manual)},type:"button"},r.createElement("img",{alt:"",height:80,src:Object(k.getBaseUrl)()+"/images/sonarcloud/analysis/manual.svg"}),r.createElement("div",{className:"medium big-spacer-top"},Object(a.translate)("onboarding.create_project.select_method.manual"))),oe(e,p.a.Bitbucket,b.BitbucketServer),oe(e,p.a.GitHub,b.GitHub)))}var ie=n(716),ce=n.n(ie),se=n(696),le=n.n(se),ue=n(995),pe=n.n(ue),de=n(38);function me(e){return{value:e.key,label:e.name}}var he=function(e){return function(t){return Promise.resolve(e.filter((function(e){return!t||e.name.includes(t)})).map(me))}};function ge(e){var t=e.canAdmin,n=e.error,o=e.importing,i=e.loadingBindings,c=e.loadingOrganizations,s=e.organizations,l=e.selectedOrganization,u=e.selectedRepository;return i?r.createElement(O.a,null):r.createElement("div",null,r.createElement(H,{additionalActions:l&&r.createElement("div",{className:"display-flex-center pull-right"},r.createElement(O.a,{className:"spacer-right",loading:o}),r.createElement(v.Button,{className:"button-large button-primary",disabled:!u||o,onClick:e.onImportRepository},Object(a.translate)("onboarding.create_project.import_selected_repo"))),title:r.createElement("span",{className:"text-middle display-flex-center"},r.createElement("img",{alt:"",className:"spacer-right",height:24,src:Object(de.getBaseUrl)()+"/images/alm/github.svg"}),Object(a.translate)("onboarding.create_project.github.title"))}),n?r.createElement("div",{className:"display-flex-justify-center"},r.createElement("div",{className:"boxed-group padded width-50 huge-spacer-top"},r.createElement("h2",{className:"big-spacer-bottom"},Object(a.translate)("onboarding.create_project.github.warning.title")),r.createElement(_.Alert,{variant:"warning"},t?r.createElement(f.FormattedMessage,{id:"onboarding.create_project.github.warning.message_admin",defaultMessage:Object(a.translate)("onboarding.create_project.github.warning.message_admin"),values:{link:r.createElement(y.Link,{to:"/admin/settings?category=almintegration"},Object(a.translate)("onboarding.create_project.github.warning.message_admin.link"))}}):Object(a.translate)("onboarding.create_project.github.warning.message")))):r.createElement(O.a,{loading:c},r.createElement("div",{className:"form-field"},r.createElement("label",null,Object(a.translate)("onboarding.create_project.github.choose_organization")),s.length>0?r.createElement(pe.a,{defaultOptions:s.map(me),onSearch:he(s),minimumQueryLength:0,onSelect:function(t){var n=t.value;return e.onSelectOrganization(n)},value:l&&me(l)}):!c&&r.createElement(_.Alert,{className:"spacer-top",variant:"error"},t?r.createElement(f.FormattedMessage,{id:"onboarding.create_project.github.no_orgs_admin",defaultMessage:Object(a.translate)("onboarding.create_project.github.no_orgs_admin"),values:{link:r.createElement(y.Link,{to:"/admin/settings?category=almintegration"},Object(a.translate)("onboarding.create_project.github.warning.message_admin.link"))}}):Object(a.translate)("onboarding.create_project.github.no_orgs")))),function(e){var t=e.importing,n=e.loadingRepositories,o=e.repositories,i=e.repositoryPaging,c=e.searchQuery,s=e.selectedOrganization,l=e.selectedRepository,u=function(e){return!!e.sqProjectKey||n||t};return s&&o&&r.createElement("div",{className:"boxed-group padded display-flex-wrap"},r.createElement("div",{className:"width-100"},r.createElement(N.a,{className:"big-spacer-bottom",onChange:e.onSearch,placeholder:Object(a.translate)("onboarding.create_project.search_repositories"),value:c})),0===o.length?r.createElement("div",{className:"padded"},r.createElement(O.a,{loading:n},Object(a.translate)("no_results"))):o.map((function(t){return r.createElement(L.a,{className:"spacer-top spacer-bottom padded create-project-github-repository",key:t.key,checked:(n=t,!!n.sqProjectKey||!!l&&l.key===n.key),disabled:u(t),value:t.key,onCheck:e.onSelectRepository},r.createElement("div",{className:"big overflow-hidden",title:t.name},r.createElement("div",{className:"text-ellipsis"},t.name),t.sqProjectKey&&r.createElement("em",{className:"notice text-muted-2 small display-flex-center"},Object(a.translate)("onboarding.create_project.repository_imported"),r.createElement(B.a,{className:"little-spacer-left",size:12}))));var n})),r.createElement("div",{className:"display-flex-justify-center width-100"},r.createElement(le.a,{count:o.length,total:i.total,loadMore:e.onLoadMore,loading:n})))}(e))}var be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},ye=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},ve=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,c=a.length;i<c;i++,o++)r[o]=a[i];return r},_e=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.triggerSearch=function(e){var t=n.state.selectedOrganization;t&&(n.setState({selectedRepository:void 0}),n.fetchRepositories({organizationKey:t.key,query:e}))},n.handleSelectOrganization=function(e){n.setState((function(t){return{searchQuery:"",selectedRepository:void 0,selectedOrganization:t.organizations.find((function(t){return t.key===e}))}})),n.fetchRepositories({organizationKey:e})},n.handleSelectRepository=function(e){n.setState((function(t){var n=t.repositories;return{selectedRepository:null==n?void 0:n.find((function(t){return t.key===e}))}}))},n.handleSearch=function(e){n.setState({searchQuery:e}),n.triggerSearch(e)},n.handleLoadMore=function(){var e=n.state,t=e.repositoryPaging,r=e.searchQuery,o=e.selectedOrganization;o&&n.fetchRepositories({organizationKey:o.key,page:t.pageIndex+1,query:r})},n.handleImportRepository=function(){return fe(n,void 0,void 0,(function(){var e,t,n,r,o;return ye(this,(function(a){switch(a.label){case 0:if(e=this.state,t=e.selectedOrganization,n=e.selectedRepository,!((r=e.settings)&&t&&n))return[3,4];this.setState({importing:!0}),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,(i=r.key,c=t.key,s=n.key,Object(d.postJSON)("/api/alm_integrations/import_github_project",{almSetting:i,organization:c,repositoryKey:s}).catch(m.a))];case 2:return o=a.sent().project,this.props.onProjectCreate([o.key]),[3,4];case 3:return this.mounted&&this.setState({importing:!1}),[7];case 4:return[2]}var i,c,s}))}))},n.state={error:!1,importing:!1,loadingOrganizations:!0,loadingRepositories:!1,organizations:[],repositories:[],repositoryPaging:{pageSize:30,total:0,pageIndex:1},searchQuery:"",settings:t.settings[0]},n.triggerSearch=ce()(n.triggerSearch,250),n}return be(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.initialize()},t.prototype.componentDidUpdate=function(e){var t=this;0===e.settings.length&&this.props.settings.length>0&&this.setState({settings:this.props.settings[0]},(function(){return t.initialize()}))},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.initialize=function(){var e;return fe(this,void 0,void 0,(function(){var t,n,r,o,a;return ye(this,(function(i){switch(i.label){case 0:if(t=this.props,n=t.location,r=t.router,!(o=this.state.settings)||!o.url)return this.setState({error:!0}),[2];this.setState({error:!1}),a=null===(e=n.query)||void 0===e?void 0:e.code,i.label=1;case 1:return i.trys.push([1,6,,7]),a?[3,3]:[4,this.redirectToGithub(o)];case 2:return i.sent(),[3,5];case 3:return delete n.query.code,r.replace(n),[4,this.fetchOrganizations(o,a)];case 4:i.sent(),i.label=5;case 5:return[3,7];case 6:return i.sent(),this.mounted&&this.setState({error:!0}),[3,7];case 7:return[2]}}))}))},t.prototype.redirectToGithub=function(e){return fe(this,void 0,void 0,(function(){var t,n,r;return ye(this,(function(o){switch(o.label){case 0:return e.url?[4,(a=e.key,Object(d.getJSON)("/api/alm_integrations/get_github_client_id",{almSetting:a}))]:[2];case 1:return(t=o.sent().clientId)?(n=[{param:"client_id",value:t},{param:"redirect_uri",value:Object(k.getHostUrl)()+"/projects/create?mode="+p.a.GitHub}].map((function(e){return e.param+"="+e.value})).join("&"),r=(r=e.url.includes("/api/v3")?e.url.replace("/api/v3",""):e.url.replace("api.","")).replace(/\/$/,""),window.location.replace(r+"/login/oauth/authorize?"+n),[2]):(this.setState({error:!0}),[2])}var a}))}))},t.prototype.fetchOrganizations=function(e,t){return fe(this,void 0,void 0,(function(){var n;return ye(this,(function(r){switch(r.label){case 0:return[4,h(e.key,t)];case 1:return n=r.sent().organizations,this.mounted&&this.setState({loadingOrganizations:!1,organizations:n}),[2]}}))}))},t.prototype.fetchRepositories=function(e){return fe(this,void 0,void 0,(function(){var t,n,r,o,a,i;return ye(this,(function(c){switch(c.label){case 0:if(t=e.organizationKey,n=e.page,r=void 0===n?1:n,o=e.query,!(a=this.state.settings))return this.setState({error:!0}),[2];this.setState({loadingRepositories:!0}),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,g({almSetting:a.key,organization:t,ps:30,p:r,query:o})];case 2:return i=c.sent(),this.mounted&&this.setState((function(e){var t=e.repositories;return{loadingRepositories:!1,repositoryPaging:i.paging,repositories:1===r?i.repositories:ve(t,i.repositories)}})),[3,4];case 3:return c.sent(),this.mounted&&this.setState({loadingRepositories:!1,repositoryPaging:{pageIndex:1,pageSize:30,total:0},repositories:[]}),[3,4];case 4:return[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.canAdmin,n=e.loadingBindings,o=this.state,a=o.error,i=o.importing,c=o.loadingOrganizations,s=o.loadingRepositories,l=o.organizations,u=o.repositoryPaging,p=o.repositories,d=o.searchQuery,m=o.selectedOrganization,h=o.selectedRepository;return r.createElement(ge,{canAdmin:t,error:a,importing:i,loadingBindings:n,loadingOrganizations:c,loadingRepositories:s,onImportRepository:this.handleImportRepository,onLoadMore:this.handleLoadMore,onSearch:this.handleSearch,onSelectOrganization:this.handleSelectOrganization,onSelectRepository:this.handleSelectRepository,organizations:l,repositoryPaging:u,searchQuery:d,repositories:p,selectedOrganization:m,selectedRepository:h})},t}(r.Component),je=n(713),Oe=n(1234),ke=n(1235),Ee=n(693),Se=(n(2140),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ne=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.checkFreeKey=function(e){return Object(je.f)({component:e}).then((function(t){n.mounted&&e===n.state.projectKey&&(t?n.setState({projectKeyError:Object(a.translate)("onboarding.create_project.project_key.taken"),touched:!0,validating:!1}):n.setState({projectKeyError:void 0,validating:!1}))})).catch((function(){n.mounted&&e===n.state.projectKey&&n.setState({projectKeyError:void 0,validating:!1})}))},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state;n.canSubmit(t)&&(n.setState({submitting:!0}),Object(je.c)({project:t.projectKey,name:(t.projectName||t.projectKey).trim()}).then((function(e){var t=e.project;return n.props.onProjectCreate([t.key])}),(function(){n.mounted&&n.setState({submitting:!1})})))},n.handleProjectKeyChange=function(e){var t=e.currentTarget.value||"",r=n.validateKey(t);n.setState((function(e){var o=e.projectNameChanged?e.projectName:t;return{projectKey:t,projectKeyError:r,projectName:o,projectNameError:n.validateName(o),touched:!0,validating:void 0===r}})),void 0===r&&n.checkFreeKey(t)},n.handleProjectNameChange=function(e){var t=e.currentTarget.value;n.setState({projectName:t,projectNameChanged:!0,projectNameError:n.validateName(t)})},n.validateKey=function(e){var t=Object(ke.a)(e);return t===Ee.b.Valid?void 0:Object(a.translate)("onboarding.create_project.project_key.error",t)},n.validateName=function(e){return 0===e.length?Object(a.translate)("onboarding.create_project.display_name.error.empty"):e.length>255?Object(a.translate)("onboarding.create_project.display_name.error.too_long"):void 0},n.state={projectKey:"",projectName:"",projectNameChanged:!1,submitting:!1,touched:!1,validating:!1},n.checkFreeKey=ce()(n.checkFreeKey,250),n}return Se(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.canSubmit=function(e){var t=e.projectKey,n=e.projectKeyError,r=e.projectName,o=e.projectNameError;return Boolean(void 0===n&&void 0===o&&t.length>0&&r.length>0)},t.prototype.render=function(){var e=this.state,t=e.projectKey,n=e.projectKeyError,o=e.projectName,i=e.projectNameError,c=e.submitting,s=e.touched,l=e.validating,u=s&&void 0!==i,p=s&&void 0===i;return r.createElement(r.Fragment,null,r.createElement(H,{title:Object(a.translate)("onboarding.create_project.setup_manually")}),r.createElement("div",{className:"create-project-manual"},r.createElement("div",{className:"flex-1 huge-spacer-right"},r.createElement("form",{className:"manual-project-create",onSubmit:this.handleFormSubmit},r.createElement(Oe.a,{error:n,help:Object(a.translate)("onboarding.create_project.project_key.help"),label:Object(a.translate)("onboarding.create_project.project_key"),onProjectKeyChange:this.handleProjectKeyChange,projectKey:t,touched:s,validating:l}),r.createElement(J.a,{className:"form-field",description:Object(a.translate)("onboarding.create_project.display_name.description"),error:i,help:Object(a.translate)("onboarding.create_project.display_name.help"),id:"project-name",isInvalid:u,isValid:p,label:Object(a.translate)("onboarding.create_project.display_name"),required:!0},r.createElement("input",{className:C("input-super-large",{"is-invalid":u,"is-valid":p}),id:"project-name",maxLength:255,minLength:1,onChange:this.handleProjectNameChange,type:"text",value:o})),r.createElement(v.SubmitButton,{disabled:!this.canSubmit(this.state)||c},Object(a.translate)("set_up")),r.createElement(O.a,{className:"spacer-left",loading:c})))))},t}(r.PureComponent),we=(n(2142),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={bitbucketSettings:[],githubSettings:[],loading:!0},t.fetchAlmBindings=function(){t.setState({loading:!0}),Object(i.j)().then((function(e){t.mounted&&t.setState({bitbucketSettings:e.filter((function(e){return e.alm===p.a.Bitbucket})),githubSettings:e.filter((function(e){return e.alm===p.a.GitHub})),loading:!1})})).catch((function(){t.mounted&&t.setState({loading:!1})}))},t.handleModeSelect=function(e){var n=t.props,r=n.router,o=n.location;r.push({pathname:o.pathname,query:{mode:e}})},t.handleProjectCreate=function(e){1===e.length&&t.props.router.push(Object(u.u)(e[0]))},t}return we(t,e),t.prototype.componentDidMount=function(){var e=this.props.appState.branchesEnabled;this.mounted=!0,e&&this.fetchAlmBindings()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.renderForm=function(e){var t,n=this.props,o=n.appState.canAdmin,a=n.location,i=n.router,c=this.state,s=c.bitbucketSettings,l=c.githubSettings,u=c.loading;switch(e){case b.BitbucketServer:return r.createElement(te,{canAdmin:!!o,bitbucketSettings:s,loadingBindings:u,location:a,onProjectCreate:this.handleProjectCreate});case b.GitHub:return r.createElement(_e,{canAdmin:!!o,loadingBindings:u,location:a,onProjectCreate:this.handleProjectCreate,router:i,settings:l});case b.Manual:return r.createElement(Ne,{onProjectCreate:this.handleProjectCreate});default:var d=((t={})[p.a.Azure]=0,t[p.a.Bitbucket]=s.length,t[p.a.GitHub]=l.length,t[p.a.GitLab]=0,t);return r.createElement(ae,{almCounts:d,loadingBindings:u,onSelectMode:this.handleModeSelect})}},t.prototype.render=function(){var e,t=this.props,n=t.appState.branchesEnabled,i=null===(e=t.location.query)||void 0===e?void 0:e.mode;return r.createElement(r.Fragment,null,r.createElement(o.a,{title:Object(a.translate)("my_account.create_new.TRK"),titleTemplate:"%s"}),r.createElement(c.a,{anchor:"create_project_main"}),r.createElement("div",{className:"page page-limited huge-spacer-bottom position-relative",id:"create-project"},this.renderForm(n?i:b.Manual)))},t}(r.PureComponent);t.default=Object(s.a)(Object(l.a)(xe))},673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(660),o=n(13),a=n(720),i=n(688);n(689);var c=n(666);t.default=function(e){var t=e.tagName,n=void 0===t?"div":t;return o.createElement(n,{className:r("help-tooltip",e.className)},o.createElement(c.default,{mouseLeaveDelay:.25,onShow:e.onShow,overlay:e.overlay,placement:e.placement},o.createElement("span",{className:"display-inline-flex-center"},e.children||o.createElement(i.ThemeConsumer,null,(function(e){return o.createElement(a.default,{fill:e.colors.gray71,size:12})})))))}},689:function(e,t,n){var r=n(662),o=n(690);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},i=(r(o,a),o.locals?o.locals:{});e.exports=i},690:function(e,t,n){(t=n(663)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""]),e.exports=t},696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(660),o=n(13),a=n(176),i=n(669),c=n(667),s=n(661);t.default=function(e){var t,n=e.className,l=e.count,u=e.loading,p=e.needReload,d=e.total,m=e.ready,h=void 0===m||m,g=d&&d>l;return p&&e.reload?t=o.createElement(s.Button,{className:"spacer-left","data-test":"reload",disabled:u,onClick:e.reload},a.translate("reload")):g&&e.loadMore&&(t=o.createElement(s.Button,{className:"spacer-left",disabled:u,"data-test":"show-more",onClick:e.loadMore},a.translate("show_more"))),o.createElement("footer",{className:r("spacer-top note text-center",{"new-loading":!h},n)},a.translateWithParameters("x_of_y_shown",i.formatMeasure(l,"INT",null),i.formatMeasure(d,"INT",null)),t,u&&o.createElement(c.default,{className:"text-bottom spacer-left position-absolute"}))}},701:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,o=n(13),a=n(176),i=n(750),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e){return o.createElement(i.a.Consumer,null,(function(t){var n=t.addA11ySkipLink,r=t.removeA11ySkipLink;return o.createElement(u,s({addA11ySkipLink:n,removeA11ySkipLink:r},e))}))}var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getLink=function(){var e=t.props,n=e.anchor,r=e.label;return{key:n,label:void 0===r?Object(a.translate)("skip_to_content"):r,weight:e.weight}},t}return c(t,e),t.prototype.componentDidMount=function(){this.props.addA11ySkipLink(this.getLink())},t.prototype.componentWillUnmount=function(){this.props.removeA11ySkipLink(this.getLink())},t.prototype.render=function(){var e=this.props.anchor;return o.createElement("span",{id:"a11y_target__"+e})},t}(o.PureComponent)},752:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),i=n(664);t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,c=o(e,["fill"]);return a.createElement(i.default,r({},c),a.createElement("path",{d:"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z",style:{fill:n}}))}},763:function(e,t,n){var r=n(662),o=n(778);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},i=(r(o,a),o.locals?o.locals:{});e.exports=i},777:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(660),i=n(13);n(763);var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),t.props.disabled||t.props.onCheck(t.props.value)},t}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.checked,r=e.children,o=e.disabled;return i.createElement("a",{"aria-checked":n,className:a("display-inline-flex-center link-radio",t,{disabled:o}),href:"#",onClick:this.handleClick,role:"radio"},i.createElement("i",{className:a("icon-radio","spacer-right",{"is-checked":n})}),r)},t}(i.PureComponent);t.default=c},778:function(e,t,n){(t=n(663)(!1)).push([e.i,'.icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:"";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}',""]),e.exports=t},779:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),i=n(752),c=n(766);t.default=function(e){var t=e.open,n=o(e,["open"]);return t?a.createElement(i.default,r({},n)):a.createElement(c.default,r({},n))}},780:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Azure="azure",e.Bitbucket="bitbucket",e.GitHub="github",e.GitLab="gitlab"}(r||(r={}))},829:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),i=n(664);t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,c=o(e,["fill"]);return a.createElement(i.default,r({},c),a.createElement("path",{d:"M14.92 4.804q0 0.357-0.25 0.607l-7.679 7.679q-0.25 0.25-0.607 0.25t-0.607-0.25l-4.446-4.446q-0.25-0.25-0.25-0.607t0.25-0.607l1.214-1.214q0.25-0.25 0.607-0.25t0.607 0.25l2.625 2.634 5.857-5.866q0.25-0.25 0.607-0.25t0.607 0.25l1.214 1.214q0.25 0.25 0.25 0.607z",style:{fill:n}}))}},866:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"r",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"p",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"q",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"s",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"k",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return k}));var r=n(49),o=n(677);function a(){return i().catch(o.a)}function i(){return Object(r.getJSON)("/api/alm_settings/list_definitions")}function c(e){return Object(r.getJSON)("/api/alm_settings/list",{project:e}).then((function(e){return e.almSettings})).catch(o.a)}function s(e){return Object(r.post)("/api/alm_settings/create_github",e).catch(o.a)}function l(e){return Object(r.post)("/api/alm_settings/update_github",e).catch(o.a)}function u(e){return Object(r.post)("/api/alm_settings/create_azure",e).catch(o.a)}function p(e){return Object(r.post)("/api/alm_settings/update_azure",e).catch(o.a)}function d(e){return Object(r.post)("/api/alm_settings/create_bitbucket",e).catch(o.a)}function m(e){return Object(r.post)("/api/alm_settings/update_bitbucket",e).catch(o.a)}function h(e){return Object(r.post)("/api/alm_settings/create_gitlab",e).catch(o.a)}function g(e){return Object(r.post)("/api/alm_settings/update_gitlab",e).catch(o.a)}function b(e){return Object(r.post)("/api/alm_settings/delete",{key:e}).catch(o.a)}function f(e){return Object(r.getJSON)("/api/alm_settings/count_binding",{almSetting:e}).then((function(e){return e.projects})).catch(o.a)}function y(e){return Object(r.getJSON)("/api/alm_settings/get_binding",{project:e})}function v(e){return Object(r.post)("/api/alm_settings/delete_binding",{project:e}).catch(o.a)}function _(e){return Object(r.post)("/api/alm_settings/set_azure_binding",e).catch(o.a)}function j(e){return Object(r.post)("/api/alm_settings/set_bitbucket_binding",e).catch(o.a)}function O(e){return Object(r.post)("/api/alm_settings/set_github_binding",e).catch(o.a)}function k(e){return Object(r.post)("/api/alm_settings/set_gitlab_binding",e).catch(o.a)}},910:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=n(830),a=n(781),i=n(673);t.default=function(e){var t=e.isInvalid&&void 0!==e.error;return r.createElement("div",{className:e.className},r.createElement("label",{htmlFor:e.id},r.createElement("span",{className:"text-middle"},r.createElement("strong",null,e.label),e.required&&r.createElement("em",{className:"mandatory"},"*")),e.help&&r.createElement(i.default,{className:"spacer-left",overlay:e.help})),r.createElement("div",{className:"little-spacer-top spacer-bottom"},e.children,e.isInvalid&&r.createElement(o.default,{className:"spacer-left text-middle"}),t&&r.createElement("span",{className:"little-spacer-left text-danger text-middle"},e.error),e.isValid&&r.createElement(a.default,{className:"spacer-left text-middle"})),e.description&&r.createElement("div",{className:"note abs-width-400"},e.description))}},977:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(660),i=n(13),c=n(779),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hoveringInner:!1},t.handleClick=function(){t.props.onClick(t.props.data)},t.onDetailEnter=function(){t.setState({hoveringInner:!0})},t.onDetailLeave=function(){t.setState({hoveringInner:!1})},t}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.open,r=e.renderHeader,o=e.title;return i.createElement("div",{className:a("boxed-group boxed-group-accordion",t,{"no-hover":this.state.hoveringInner})},i.createElement("div",{className:"boxed-group-header",onClick:this.handleClick,role:"listitem"},i.createElement("span",{className:"boxed-group-accordion-title"},i.createElement(c.default,{className:"little-spacer-right",open:n}),o),r&&r()),n&&i.createElement("div",{className:"boxed-group-inner",onMouseEnter:this.onDetailEnter,onMouseLeave:this.onDetailLeave},this.props.children))},t}(i.PureComponent);t.default=s},995:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(130),i=n(13),c=n(176),s=n(692),l=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleSearch=function(e){var t=e;n.props.onSearch(t).then((function(e){n.mounted&&n.setState((function(n){return{loading:!1,options:n.query===t?e:n.options}}))}),(function(){n.mounted&&n.setState({loading:!1})}))},n.handleChange=function(e){Array.isArray(e)?n.props.onMultiSelect&&n.props.onMultiSelect(e):n.props.onSelect&&n.props.onSelect(e)},n.handleInputChange=function(e){if(e.length>=n.minimumQueryLength)n.setState({loading:!0,query:e}),n.handleSearch(e);else{var t=0===e.length&&n.props.defaultOptions||[];n.setState({options:t,query:e})}},n.handleFilterOption=function(){return!0},n.state={loading:!1,options:t.defaultOptions||[],query:""},n.handleSearch=a.debounce(n.handleSearch,250),n}return o(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},Object.defineProperty(t.prototype,"autofocus",{get:function(){return void 0===this.props.autofocus||this.props.autofocus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumQueryLength",{get:function(){return void 0!==this.props.minimumQueryLength?this.props.minimumQueryLength:2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resetOnBlur",{get:function(){return void 0===this.props.resetOnBlur||this.props.resetOnBlur},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.canCreate?s.Creatable:s.default;return i.createElement(e,{autoFocus:this.autofocus,className:this.props.className,clearable:this.props.clearable,escapeClearsValue:!1,filterOption:this.handleFilterOption,isLoading:this.state.loading,multi:this.props.multi,noResultsText:this.state.query.length<this.minimumQueryLength?c.translateWithParameters("select2.tooShort",this.minimumQueryLength):c.translate("select2.noMatches"),onBlurResetsInput:this.resetOnBlur,onChange:this.handleChange,onInputChange:this.handleInputChange,optionRenderer:this.props.renderOption,options:this.state.options,placeholder:c.translate("search_verb"),promptTextCreator:this.props.promptTextCreator,searchable:!0,value:this.props.value,valueRenderer:this.props.renderOption})},t}(i.PureComponent);t.default=l}}]);
//# sourceMappingURL=297.1593679646964.chunk.js.map