{"version":3,"sources":["webpack:///./node_modules/lodash/chunk.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChartLegendIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/HistoryIcon.js","webpack:///./src/main/js/api/projectActivity.ts","webpack:///./src/main/js/components/activity-graph/styles.css?935f","webpack:///./src/main/js/apps/projectActivity/components/DefinitionChangeEventInner.tsx","webpack:///./src/main/js/apps/projectActivity/components/RichQualityGateEventInner.tsx","webpack:///./node_modules/sonar-ui-common/components/charts/LineChart.css?3c71","webpack:///./node_modules/sonar-ui-common/components/intl/DateTooltipFormatter.js","webpack:///./src/main/js/api/time-machine.ts","webpack:///./src/main/js/components/activity-graph/styles.css","webpack:///./node_modules/sonar-ui-common/components/charts/AdvancedTimeline.js","webpack:///./node_modules/sonar-ui-common/components/charts/AdvancedTimeline.css?6788","webpack:///./node_modules/sonar-ui-common/components/charts/AdvancedTimeline.css","webpack:///./node_modules/sonar-ui-common/components/charts/LineChart.css","webpack:///./src/main/js/components/common/ActivityLink.tsx","webpack:///./src/main/js/components/common/ActivityLink.css?a97d","webpack:///./src/main/js/components/common/ActivityLink.css","webpack:///./src/main/js/components/activity-graph/GraphsLegendItem.tsx","webpack:///./src/main/js/components/activity-graph/GraphsLegendNewCode.tsx","webpack:///./src/main/js/components/activity-graph/GraphsLegendCustom.tsx","webpack:///./src/main/js/components/activity-graph/GraphsLegendStatic.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltipsContent.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltipsContentCoverage.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltipsContentDuplication.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltipsContentEvents.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltipsContentIssues.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltips.tsx","webpack:///./src/main/js/components/activity-graph/GraphHistory.tsx","webpack:///./src/main/js/components/activity-graph/GraphsHistory.tsx","webpack:///./src/main/js/components/activity-graph/AddGraphMetricPopup.tsx","webpack:///./src/main/js/components/activity-graph/AddGraphMetric.tsx","webpack:///./src/main/js/components/activity-graph/GraphsHeader.tsx","webpack:///./src/main/js/apps/overview/styles.css?d11e","webpack:///./src/main/js/apps/overview/components/MeasurementLabel.tsx","webpack:///./src/main/js/apps/overview/components/IssueLabel.tsx","webpack:///./src/main/js/apps/overview/components/IssueRating.tsx","webpack:///../sonar-docs/src/tooltips/quality-gates/project-homepage-quality-gate.md","webpack:///./src/main/js/apps/overview/components/QualityGateCondition.tsx","webpack:///./src/main/js/apps/overview/components/QualityGateConditions.tsx","webpack:///./src/main/js/apps/overview/styles.css","webpack:///../sonar-docs/src/tooltips/metrics/security-hotspots.md","webpack:///./src/main/js/apps/overview/branches/Event.tsx","webpack:///./src/main/js/apps/overview/branches/Analysis.tsx","webpack:///./src/main/js/apps/overview/branches/ActivityPanel.tsx","webpack:///./src/main/js/apps/overview/branches/DrilldownMeasureValue.tsx","webpack:///./src/main/js/apps/overview/branches/ApplicationLeakPeriodInfo.tsx","webpack:///./src/main/js/apps/overview/branches/ProjectLeakPeriodInfo.tsx","webpack:///./src/main/js/apps/overview/branches/LeakPeriodInfo.tsx","webpack:///./src/main/js/apps/overview/branches/DebtValue.tsx","webpack:///./src/main/js/apps/overview/branches/SecurityHotspotsReviewed.tsx","webpack:///./src/main/js/apps/overview/branches/MeasuresPanelIssueMeasureRow.tsx","webpack:///./src/main/js/apps/overview/branches/MeasuresPanel.tsx","webpack:///./src/main/js/apps/overview/branches/MeasuresPanelNoNewCode.tsx","webpack:///./src/main/js/apps/overview/branches/NoCodeWarning.tsx","webpack:///./src/main/js/apps/overview/branches/QualityGatePanelSection.tsx","webpack:///./src/main/js/apps/overview/branches/QualityGatePanel.tsx","webpack:///./src/main/js/apps/overview/branches/BranchOverviewRenderer.tsx","webpack:///./src/main/js/apps/overview/branches/BranchOverview.tsx","webpack:///./src/main/js/api/application.ts","webpack:///./src/main/js/apps/overview/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.js","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFormatter.js","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNow.js","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css?7974","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css","webpack:///./node_modules/sonar-ui-common/components/icons/IssueTypeIcon.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/helpers/markdown.js","webpack:///./node_modules/lodash/difference.js","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./src/main/js/components/activity-graph/utils.ts","webpack:///./node_modules/sonar-ui-common/components/icons/BranchIcon.js","webpack:///./src/main/js/helpers/periods.ts","webpack:///./node_modules/sonar-ui-common/components/icons/VulnerabilityIcon.js","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/SecurityHotspotIcon.js","webpack:///./node_modules/lodash/_createFind.js","webpack:///./node_modules/sonar-ui-common/components/icons/BugIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/CodeSmellIcon.js","webpack:///./node_modules/lodash/find.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./src/main/js/types/project-activity.ts","webpack:///./node_modules/lodash/flatMap.js","webpack:///./src/main/js/components/ui/CoverageRating.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/IssueIcon.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/sonar-ui-common/components/ui/DuplicationsRating.js","webpack:///./src/main/js/apps/overview/utils.ts","webpack:///./node_modules/sonar-ui-common/components/icons/ProjectEventIcon.js","webpack:///./src/main/js/components/shared/DrilldownLink.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/BoxedTabs.js","webpack:///./node_modules/sonar-ui-common/components/ui/DuplicationsRating.css?8cf1","webpack:///./node_modules/sonar-ui-common/components/ui/DuplicationsRating.css"],"names":["baseSlice","isIterateeCall","toInteger","nativeCeil","Math","ceil","nativeMax","max","module","exports","array","size","guard","undefined","length","index","resIndex","result","Array","__assign","this","Object","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","value","React","Icon_1","default","_a","iconProps","createElement","ThemedIcon","theme","COLORS","colors","blue","darkBlue","d","style","fill","_b","getProjectActivity","data","catch","createEvent","analysis","name","category","description","then","r","deleteEvent","event","changeEvent","deleteAnalysis","api","content","__esModule","options","exported","locals","isDefinitionChangeEvent","definitionChange","state","expanded","stopPropagation","toggleProjectsList","setState","renderProjectLink","project","branch","onClick","title","to","key","renderBranch","className","renderProjectChange","mainBranch","props","branchLike","changeType","message","defaultMessage","id","values","newBranch","oldBranch","render","turned","projects","map","isRichQualityGateEvent","qualityGate","stillFailing","status","level","small","failing","dates_1","Tooltip_1","DateFormatter_1","DateTimeFormatter_1","date","parsedDate","parseDate","long","formattedDate","mouseEnterDelay","overlay","dateTime","toISOString","getAllTimeMachineData","prev","getTimeMachineData","ps","measures","measure","idx","history","concat","paging","pageIndex","pageSize","total","___CSS_LOADER_API_IMPORT___","push","extendStatics","__extends","b","setPrototypeOf","__proto__","__","constructor","create","classNames","d3_array_1","d3_scale_1","d3_shape_1","lodash_1","types_1","theme_1","AdvancedTimeline","_super","_this","getRatingScale","availableHeight","scalePoint","domain","range","getLevelScale","getYScale","flatData","metricType","scaleLinear","Number","y","nice","getXScale","availableWidth","startDate","endDate","dateRange","extent","x","start","end","xScale","scaleTime","sortBy","clamp","maxXRange","getScales","width","padding","height","flatten","series","serie","yScale","getSelectedDatePos","selectedDate","firstSerie","findIndex","valueOf","xRange","xPos","selectedDateXPos","selectedDateIdx","getEventMarker","half","handleWheel","preventDefault","parentBbox","currentTarget","getBoundingClientRect","mouseXPos","pageX","left","speed","deltaMode","zoomSpeed","leftPos","round","deltaY","rightPos","invert","handleZoomUpdate","updateZoom","handleMouseMove","updateTooltipPos","handleMouseEnter","mouseOver","handleMouseOut","updateTooltip","handleClick","updateSelectedDate","bisectX","bisector","right","previousPoint","nextPoint","xPos_1","renderHorizontalGrid","formatYTick","ticks","maxYTicksCount","formattedTicks","tick","uniq","dx","dy","textAnchor","x1","x2","y1","y2","renderXAxisTicks","format","tickFormat","transform","slice","nextTick","renderLeak","leakPeriodDate","yRange","leakStart","leakWidth","ThemeConsumer","leakPrimaryColor","renderLines","lineGenerator","line","defined","Boolean","basisCurve","curve","curveBasis","renderDots","serieIdx","point","pointNotDefined","hasPointBefore","hasPointAfter","cx","cy","filter","isDefined","dots","renderAreas","areaGenerator","area","y0","renderSelectedDate","renderClipPath","renderMouseEventsOverlay","zoomEnabled","mouseEvents","onWheel","onMouseEnter","onMouseMove","onMouseOut","scales","selectedDatePos","throttle","componentWillReceiveProps","nextProps","isEqual","disableZoom","isZoomed","hideGrid","hideXAxis","showAreas","defaultProps","eventSize","PureComponent","ActivityLink","component","graph","label","metric","removeMetric","isActionable","legendClass","showWarning","GraphsLegendNewCode","GraphsLegendCustom","showLeakLegend","hasData","legendItem","translatedName","GraphsLegendStatic","GraphsTooltipsContent","GraphsTooltipsContentCoverage","addSeparator","measuresHistory","tooltipIdx","uncovered","find","coverage","uncoveredValue","coverageValue","colSpan","GraphsTooltipsContentDuplication","duplicationDensity","duplicationDensityValue","GraphsTooltipsContentEvents","events","METRIC_RATING","bugs","vulnerabilities","code_smells","GraphsTooltipsContentIssues","rating","ratingValue","renderContent","formatValue","tooltipPos","placement","RightTop","graphWidth","LeftTop","tooltipContent","top","metricsType","formatTooltipValue","tooltipXPos","graphEndDate","graphStartDate","isCustom","removeCustomMetric","AutoSizer","updateGraphZoom","getSelectedDateEvents","analyses","a","loading","alt","src","maxWidth","duplications","includes","graphs","graphSeries","AddGraphMetricPopup","elements","metricsTypeFilter","footerNode","selectedElements","Alert","variant","type","sort","join","MultiSelect","allowNewElements","allowSelection","filterSelected","onSearch","onSelect","item","onUnselect","placeholder","renderLabel","metrics","query","selectedMetrics","element","getLocalizedMetricNameFromKey","toLowerCase","filterMetricsElements","hidden","getSelectedMetricsElements","selected","Promise","resolve","addMetric","filteredMetrics","closeOnClick","closeOnClickOutside","handleGraphChange","option","updateGraph","addCustomMetric","selectOptions","clearable","onChange","searchable","getLabelText","useDiffMetric","expandedLabelKey","labelKey","linesMetric","count","centered","iconClass","icon","link","decimals","omitExtraDecimalZeros","docTooltip","params","resolved","types","sinceLeakPeriod","SecurityHotspot","doc","tooltip","renderRatingLink","getIssuesUrl","customQuery","getUrlForCodeSmells","getUrlForBugsOrVulnerabilities","condition","threshold","error","warning","severities","getUrlForType","wrapWithLink","children","metricKey","RATING_METRICS_MAPPING","reliability_rating","new_reliability_rating","security_rating","new_security_rating","sqale_rating","new_maintainability_rating","DrilldownLink","period","isDiff","actual","operator","op","Measure","LEVEL_ORDER","QualityGateConditions","collapsible","failedConditions","collapsed","toggleCollapsed","renderConditions","renderCollapsed","sortedConditions","eventCategory","sortedEvents","qualifier","Application","Project","shownLeakPeriodDate","reduce","oldest","getTime","Date","filteredAnalyses","GraphsHeader","onGraphChange","GraphsHistory","DrilldownMeasureValue","leakPeriod","fromNow","projectName","intl","formatDate","formatTime","leakPeriodLabel","mode","LeakPeriodInfo","new_technical_debt","sqale_index","SecurityHotspotsReviewed","new_security_hotspots_reviewed","security_hotspots_reviewed","CoverageRating","MeasuresPanelIssueMeasureRow","isNewCodeTab","isApp","toString","CodeSmell","IssueLabel","IssueRating","MeasuresPanelTabs","MeasuresPanelNoNewCode","hasBadNewCodeSetting","showSettingsLink","configuration","showSettings","setting_link","pathname","learn_more_link","MeasuresPanel","appLeak","hasDiffMeasures","some","m","tab","selectTab","New","Overall","tabs","position","grid","Bug","Vulnerability","new_coverage","MeasurementLabel","Coverage","tests","Duplication","duplicated_blocks","display","qgStatus","newCodeFailedConditions","c","overallFailedConditions","showName","qgStatuses","overallLevel","success","overallFailedConditionsCount","acc","showIgnoredConditionWarning","DocTooltip","failed","loadingHistory","loadingStatus","projectIsEmpty","A11ySkipTarget","anchor","FROM_DATE","setFullYear","getFullYear","mounted","loadStatus","loadApplicationStatus","loadProjectStatus","application","appStatus","loadMeasuresAndMeta","appMeasures","appBranchName","throwGlobalError","appDetails","getApplicationLeak","leaks","sortedLeaks","leak","all","projectDetails","projectBranchLike","isMain","excludedFromPurge","conditions","results","getFailedConditions","projectKey","projectStatus","metricKeys","ignoredConditions","componentKey","loadHistory","loadHistoryMeasures","loadAnalyses","doneLoadingHistory","graphMetrics","from","getTopLevelComponent","current","breadcrumbs","Portfolio","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","lines","new_lines","EmptyOverview","lazyLoadComponent","PullRequestOverview","isPortfolio","branchLikes","Suggestions","suggestions","analysisDate","hasAnalyses","isPending","isInProgress","withRouter","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","DeferredSpinner_1","Checkbox","blur","disabled","onCheck","checked","thirdState","note","href","role","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","weight","toNumber","react_intl_1","formatterOption","year","month","day","longFormatterOption","FormattedDate","DocMarkdownBlock","childProps","overlayProps","isTooltip","FormattedRelative","IssueIcon_1","toFinite","remainder","baseAssignValue","createAggregator","groupBy","getFrontMatterPosition","firstLine","lastLine","trim","parseFrontMatter","tokens","split","cutConditionalContent","tag","beginning","ending","newContent","substring","console","Error","getFrontMatter","separateFrontMatter","frontmatter","filterContent","regexBase","isSonarCloud","getInstance","contentWithoutStatic","replace","RegExp","baseDifference","baseFlatten","baseRest","isArrayLikeObject","difference","KNOWN_RATINGS","enhanceMeasure","getLeakValue","periods","getRatingTooltip","finalMetricKey","substr","formattedValue","predicate","fromIndex","fromRight","DEFAULT_GRAPH","issues","GRAPHS_METRICS_DISPLAYED","lines_to_cover","uncovered_lines","ncloc","duplicated_lines","GRAPHS_METRICS","duplicated_lines_density","isCustomGraph","custom","getGraphTypes","ignoreCustom","hasDataValues","hasHistoryData","getSeriesMetricType","getDisplayedHistoryMetrics","customMetrics","getHistoryMetrics","splitSeriesInGraphs","maxGraph","maxSeries","generateSeries","displayedMetrics","uncoveredLines","linesToCover","generateCoveredLinesMetric","findMetric","saveActivityGraph","namespace","getActivityGraph","customGraphs","getLeakPeriod","getPeriod","getPeriodLabel","dateFormatter","parameter","modeParam","getPeriodDate","isApplicationPeriod","MultiSelectOption","active","onHover","onFocus","onMouseOver","onSelectChange","handleSelectChange","onSelectItem","onUnselectItem","handleSearchChange","onSearchQuery","validateSearchInput","handleElementHover","prevState","activeIdx","getAllElements","handleKeyboard","evt","keyCode","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","elem","updateSelectedElements","updateUnselectedElements","listSize","unselectedElements","setElementActive","allElements","container","addEventListener","totalElements","searchInput","focus","removeEventListener","activeElement","showNewElement","infiniteList","listClasses","ref","div","autoFocus","isArrayLike","keys","findIndexFunc","iterable","createFind","baseFindIndex","GraphType","DonutChart","SIZE_TO_WIDTH_MAPPING","normal","big","huge","SIZE_TO_THICKNESS_MAPPING","muted","padAngle","numberValue","gray71","green","barBackgroundColor","lineCoverageRed","thickness","BugIcon_1","CodeSmellIcon_1","SecurityHotspotIcon_1","VulnerabilityIcon_1","baseIsEqual","other","_c","isNaN","inRange","MeasurementType","METRICS","alert_status","quality_gate_details","new_bugs","new_vulnerabilities","security_hotspots","new_security_hotspots","security_review_rating","new_security_review_rating","new_code_smells","new_lines_to_cover","new_duplicated_lines_density","ncloc_language_distribution","PR_METRICS","HISTORY_METRICS_LIST","IssueType","MEASUREMENTS_MAP","newMetric","newLinesMetric","afterMergeMetric","newLinesExpandedLabelKey","ISSUETYPE_MAP","newRating","ratingName","getIssueRatingName","getIssueIconClass","getIssueMetricKey","getIssueRatingMetricKey","getMeasurementIconClass","getMeasurementMetricKey","getMeasurementAfterMergeMetricKey","getMeasurementLinesMetricKey","getMeasurementLabelKeys","stroke","strokeWidth","ISSUE_MEASURES","issueParamsPerMetric","blocker_violations","new_blocker_violations","critical_violations","new_critical_violations","major_violations","new_major_violations","minor_violations","new_minor_violations","info_violations","new_info_violations","open_issues","statuses","reopened_issues","confirmed_issues","false_positive_issues","resolutions","isIssueMeasure","propsToIssueParams","renderIssuesLink","url","listView","__makeTemplateObject","cooked","raw","templateObject_1","templateObject_2","templateObject_3","TabContainer","styled","baseBorder","barBorderColor","highlightHoverMixin","barBackgroundColorHighlight","StyledTab","button","sizes","gridSize","ActiveBorder"],"mappings":"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","file":"js/280.1593679646964.chunk.js","sourcesContent":["var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChartLegendIcon(_a) {\n    var index = _a.index, iconProps = __rest(_a, [\"index\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        var COLORS = [theme.colors.blue, theme.colors.darkBlue, '#24c6e0'];\n        return (React.createElement(\"path\", { d: \"M14.325 7.143v1.714q0 0.357-0.25 0.607t-0.607 0.25h-10.857q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h10.857q0.357 0 0.607 0.25t0.25 0.607z\", style: { fill: COLORS[index] || COLORS[0] } }));\n    }));\n}\nexports.default = ChartLegendIcon;\n//# sourceMappingURL=ChartLegendIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction HistoryIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z\", style: { fill: fill } })));\n}\nexports.default = HistoryIcon;\n//# sourceMappingURL=HistoryIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\nexport function getProjectActivity(\n  data: {\n    project: string;\n    category?: string;\n    from?: string;\n    p?: number;\n    ps?: number;\n  } & BranchParameters\n): Promise<{ analyses: T.Analysis[]; paging: T.Paging }> {\n  return getJSON('/api/project_analyses/search', data).catch(throwGlobalError);\n}\n\ninterface CreateEventResponse {\n  analysis: string;\n  key: string;\n  name: string;\n  category: string;\n  description?: string;\n}\n\nexport function createEvent(\n  analysis: string,\n  name: string,\n  category?: string,\n  description?: string\n): Promise<CreateEventResponse> {\n  const data: RequestData = { analysis, name };\n  if (category) {\n    data.category = category;\n  }\n  if (description) {\n    data.description = description;\n  }\n  return postJSON('/api/project_analyses/create_event', data).then(r => r.event, throwGlobalError);\n}\n\nexport function deleteEvent(event: string): Promise<void | Response> {\n  return post('/api/project_analyses/delete_event', { event }).catch(throwGlobalError);\n}\n\nexport function changeEvent(\n  event: string,\n  name?: string,\n  description?: string\n): Promise<CreateEventResponse> {\n  const data: RequestData = { event };\n  if (name) {\n    data.name = name;\n  }\n  if (description) {\n    data.description = description;\n  }\n  return postJSON('/api/project_analyses/update_event', data).then(r => r.event, throwGlobalError);\n}\n\nexport function deleteAnalysis(analysis: string): Promise<void | Response> {\n  return post('/api/project_analyses/delete', { analysis }).catch(throwGlobalError);\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport BranchIcon from 'sonar-ui-common/components/icons/BranchIcon';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { limitComponentName } from 'sonar-ui-common/helpers/path';\nimport { isMainBranch } from '../../../helpers/branch-like';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\n\nexport type DefinitionChangeEvent = T.AnalysisEvent &\n  Required<Pick<T.AnalysisEvent, 'definitionChange'>>;\n\nexport function isDefinitionChangeEvent(event: T.AnalysisEvent): event is DefinitionChangeEvent {\n  return event.category === 'DEFINITION_CHANGE' && event.definitionChange !== undefined;\n}\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  event: DefinitionChangeEvent;\n}\n\ninterface State {\n  expanded: boolean;\n}\n\nexport class DefinitionChangeEventInner extends React.PureComponent<Props, State> {\n  state: State = { expanded: false };\n\n  stopPropagation = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.stopPropagation();\n  };\n\n  toggleProjectsList = () => {\n    this.setState(state => ({ expanded: !state.expanded }));\n  };\n\n  renderProjectLink = (project: { key: string; name: string }, branch: string | undefined) => (\n    <Link\n      onClick={this.stopPropagation}\n      title={project.name}\n      to={getProjectUrl(project.key, branch)}>\n      {limitComponentName(project.name, 28)}\n    </Link>\n  );\n\n  renderBranch = (branch = translate('branches.main_branch')) => (\n    <span className=\"nowrap\" title={branch}>\n      <BranchIcon className=\"little-spacer-left text-text-top\" />\n      {branch}\n    </span>\n  );\n\n  renderProjectChange(project: {\n    changeType: string;\n    key: string;\n    name: string;\n    branch?: string;\n    newBranch?: string;\n    oldBranch?: string;\n  }) {\n    const mainBranch = !this.props.branchLike || isMainBranch(this.props.branchLike);\n\n    if (project.changeType === 'ADDED') {\n      const message = mainBranch\n        ? 'event.definition_change.added'\n        : 'event.definition_change.branch_added';\n      return (\n        <div className=\"text-ellipsis\">\n          <FormattedMessage\n            defaultMessage={translate(message)}\n            id={message}\n            values={{\n              project: this.renderProjectLink(project, project.branch),\n              branch: this.renderBranch(project.branch)\n            }}\n          />\n        </div>\n      );\n    } else if (project.changeType === 'REMOVED') {\n      const message = mainBranch\n        ? 'event.definition_change.removed'\n        : 'event.definition_change.branch_removed';\n      return (\n        <div className=\"text-ellipsis\">\n          <FormattedMessage\n            defaultMessage={translate(message)}\n            id={message}\n            values={{\n              project: this.renderProjectLink(project, project.branch),\n              branch: this.renderBranch(project.branch)\n            }}\n          />\n        </div>\n      );\n    } else if (project.changeType === 'BRANCH_CHANGED') {\n      return (\n        <FormattedMessage\n          defaultMessage={translate('event.definition_change.branch_replaced')}\n          id=\"event.definition_change.branch_replaced\"\n          values={{\n            project: this.renderProjectLink(project, project.newBranch),\n            oldBranch: this.renderBranch(project.oldBranch),\n            newBranch: this.renderBranch(project.newBranch)\n          }}\n        />\n      );\n    }\n    return null;\n  }\n\n  render() {\n    const { event } = this.props;\n    const { expanded } = this.state;\n    return (\n      <>\n        <span className=\"note\">{translate('event.category', event.category)}:</span>\n\n        <div>\n          <ResetButtonLink\n            className=\"project-activity-event-inner-more-link\"\n            onClick={this.toggleProjectsList}\n            stopPropagation={true}>\n            {expanded ? translate('hide') : translate('more')}\n            <DropdownIcon className=\"little-spacer-left\" turned={expanded} />\n          </ResetButtonLink>\n        </div>\n\n        {expanded && (\n          <ul className=\"spacer-left spacer-top\">\n            {event.definitionChange.projects.map(project => (\n              <li className=\"display-flex-center spacer-top\" key={project.key}>\n                {this.renderProjectChange(project)}\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getProjectUrl } from '../../../helpers/urls';\n\nexport type RichQualityGateEvent = T.AnalysisEvent & Required<Pick<T.AnalysisEvent, 'qualityGate'>>;\n\nexport function isRichQualityGateEvent(event: T.AnalysisEvent): event is RichQualityGateEvent {\n  return event.category === 'QUALITY_GATE' && event.qualityGate !== undefined;\n}\n\ninterface Props {\n  event: RichQualityGateEvent;\n}\n\ninterface State {\n  expanded: boolean;\n}\n\nexport class RichQualityGateEventInner extends React.PureComponent<Props, State> {\n  state: State = { expanded: false };\n\n  stopPropagation = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.stopPropagation();\n  };\n\n  toggleProjectsList = () => {\n    this.setState(state => ({ expanded: !state.expanded }));\n  };\n\n  render() {\n    const { event } = this.props;\n    const { expanded } = this.state;\n    return (\n      <>\n        <span className=\"note spacer-right\">{translate('event.category', event.category)}:</span>\n        {event.qualityGate.stillFailing ? (\n          <FormattedMessage\n            defaultMessage={translate('event.quality_gate.still_x')}\n            id=\"event.quality_gate.still_x\"\n            values={{ status: <Level level={event.qualityGate.status} small={true} /> }}\n          />\n        ) : (\n          <Level level={event.qualityGate.status} small={true} />\n        )}\n\n        <div>\n          {event.qualityGate.failing.length > 0 && (\n            <ResetButtonLink\n              className=\"project-activity-event-inner-more-link\"\n              onClick={this.toggleProjectsList}\n              stopPropagation={true}>\n              {expanded ? translate('hide') : translate('more')}\n              <DropdownIcon className=\"little-spacer-left\" turned={expanded} />\n            </ResetButtonLink>\n          )}\n        </div>\n\n        {expanded && (\n          <ul className=\"spacer-left spacer-top\">\n            {event.qualityGate.failing.map(project => (\n              <li className=\"display-flex-center spacer-top\" key={project.key}>\n                <Level\n                  aria-label={translate('quality_gates.status')}\n                  className=\"spacer-right\"\n                  level={event.qualityGate.status}\n                  small={true}\n                />\n                <div className=\"flex-1 text-ellipsis\">\n                  <Link\n                    onClick={this.stopPropagation}\n                    title={project.name}\n                    to={getProjectUrl(project.key, project.branch)}>\n                    <span aria-label={translateWithParameters('project_x', project.name)}>\n                      {project.name}\n                    </span>\n                  </Link>\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./LineChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar dates_1 = require(\"../../helpers/dates\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nvar DateFormatter_1 = require(\"./DateFormatter\");\nvar DateTimeFormatter_1 = require(\"./DateTimeFormatter\");\nfunction DateTooltipFormatter(_a) {\n    var className = _a.className, date = _a.date;\n    var parsedDate = dates_1.parseDate(date);\n    return (React.createElement(DateFormatter_1.default, { date: parsedDate, long: true }, function (formattedDate) { return (React.createElement(Tooltip_1.default, { mouseEnterDelay: 0.5, overlay: React.createElement(DateTimeFormatter_1.default, { date: parsedDate }) },\n        React.createElement(\"time\", { className: className, dateTime: parsedDate.toISOString() }, formattedDate))); }));\n}\nexports.default = DateTooltipFormatter;\n//# sourceMappingURL=DateTooltipFormatter.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\ninterface TimeMachineResponse {\n  measures: {\n    metric: string;\n    history: Array<{ date: string; value?: string }>;\n  }[];\n  paging: T.Paging;\n}\n\nexport function getTimeMachineData(\n  data: {\n    component: string;\n    from?: string;\n    metrics: string;\n    p?: number;\n    ps?: number;\n    to?: string;\n  } & BranchParameters\n): Promise<TimeMachineResponse> {\n  return getJSON('/api/measures/search_history', data).catch(throwGlobalError);\n}\n\nexport function getAllTimeMachineData(\n  data: {\n    component: string;\n    metrics: string;\n    from?: string;\n    p?: number;\n    to?: string;\n  } & BranchParameters,\n  prev?: TimeMachineResponse\n): Promise<TimeMachineResponse> {\n  return getTimeMachineData({ ...data, ps: 1000 }).then(r => {\n    const result = prev\n      ? {\n          measures: prev.measures.map((measure, idx) => ({\n            ...measure,\n            history: measure.history.concat(r.measures[idx].history)\n          })),\n          paging: r.paging\n        }\n      : r;\n\n    if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n      return result;\n    }\n    return getAllTimeMachineData({ ...data, p: result.paging.pageIndex + 1 }, result);\n  });\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".activity-graph-container{padding:10px 0}.activity-graph-tooltip{padding:8px}.activity-graph-tooltip-line{height:20px}.activity-graph-tooltip-line+.activity-graph-tooltip-line{padding-top:4px}.activity-graph-tooltip-issues-line{height:26px;padding-bottom:4px}.activity-graph-tooltip-separator{padding-left:16px;padding-right:16px}.activity-graph-tooltip-separator hr{margin-top:8px;margin-bottom:8px}.activity-graph-tooltip-title,.activity-graph-tooltip-value{font-weight:700}.activity-graph-legends{flex-grow:0;padding-bottom:16px;text-align:center}.activity-graph-legend-actionable{display:inline-block;padding:4px 8px 4px 12px;border-width:1px;border-style:solid;border-radius:12px}.activity-graph-new-code-legend{margin-right:10px}.activity-graph-new-code-legend:after{content:\\\"\\\";display:inline-block;margin-left:4px;width:8px;height:8px;background-color:#fbf3d5;border:2px solid #f1e8cb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar d3_array_1 = require(\"d3-array\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar d3_shape_1 = require(\"d3-shape\");\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nvar types_1 = require(\"../../helpers/types\");\nvar theme_1 = require(\"../theme\");\nrequire(\"./AdvancedTimeline.css\");\nrequire(\"./LineChart.css\");\nvar AdvancedTimeline = (function (_super) {\n    __extends(AdvancedTimeline, _super);\n    function AdvancedTimeline(props) {\n        var _this = _super.call(this, props) || this;\n        _this.getRatingScale = function (availableHeight) {\n            return d3_scale_1.scalePoint().domain([5, 4, 3, 2, 1]).range([availableHeight, 0]);\n        };\n        _this.getLevelScale = function (availableHeight) {\n            return d3_scale_1.scalePoint().domain(['ERROR', 'WARN', 'OK']).range([availableHeight, 0]);\n        };\n        _this.getYScale = function (props, availableHeight, flatData) {\n            if (props.metricType === 'RATING') {\n                return _this.getRatingScale(availableHeight);\n            }\n            else if (props.metricType === 'LEVEL') {\n                return _this.getLevelScale(availableHeight);\n            }\n            else {\n                return d3_scale_1.scaleLinear()\n                    .range([availableHeight, 0])\n                    .domain([0, d3_array_1.max(flatData, function (d) { return Number(d.y || 0); }) || 1])\n                    .nice();\n            }\n        };\n        _this.getXScale = function (_a, availableWidth, flatData) {\n            var startDate = _a.startDate, endDate = _a.endDate;\n            var dateRange = d3_array_1.extent(flatData, function (d) { return d.x; });\n            var start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n            var end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n            var xScale = d3_scale_1.scaleTime()\n                .domain(lodash_1.sortBy([start, end]))\n                .range([0, availableWidth])\n                .clamp(false);\n            return {\n                xScale: xScale,\n                maxXRange: dateRange.map(xScale),\n            };\n        };\n        _this.getScales = function (props) {\n            var availableWidth = props.width - props.padding[1] - props.padding[3];\n            var availableHeight = props.height - props.padding[0] - props.padding[2];\n            var flatData = lodash_1.flatten(props.series.map(function (serie) { return serie.data; }));\n            return __assign(__assign({}, _this.getXScale(props, availableWidth, flatData)), { yScale: _this.getYScale(props, availableHeight, flatData) });\n        };\n        _this.getSelectedDatePos = function (xScale, selectedDate) {\n            var firstSerie = _this.props.series[0];\n            if (selectedDate && firstSerie) {\n                var idx = firstSerie.data.findIndex(function (p) { return p.x.valueOf() === selectedDate.valueOf(); });\n                var xRange = lodash_1.sortBy(xScale.range());\n                var xPos = xScale(selectedDate);\n                if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n                    return {\n                        selectedDate: selectedDate,\n                        selectedDateXPos: xScale(selectedDate),\n                        selectedDateIdx: idx,\n                    };\n                }\n            }\n            return { selectedDate: undefined, selectedDateXPos: undefined, selectedDateIdx: undefined };\n        };\n        _this.getEventMarker = function (size) {\n            var half = size / 2;\n            return \"M\" + half + \" 0 L\" + size + \" \" + half + \" L \" + half + \" \" + size + \" L0 \" + half + \" L\" + half + \" 0 L\" + size + \" \" + half;\n        };\n        _this.handleWheel = function (event) {\n            event.preventDefault();\n            var _a = _this.state, maxXRange = _a.maxXRange, xScale = _a.xScale;\n            var parentBbox = event.currentTarget.getBoundingClientRect();\n            var mouseXPos = (event.pageX - parentBbox.left) / parentBbox.width;\n            var xRange = xScale.range();\n            var speed = event.deltaMode\n                ? (25 / event.deltaMode) * _this.props.zoomSpeed\n                : _this.props.zoomSpeed;\n            var leftPos = xRange[0] - Math.round(speed * event.deltaY * mouseXPos);\n            var rightPos = xRange[1] + Math.round(speed * event.deltaY * (1 - mouseXPos));\n            var startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : undefined;\n            var endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : undefined;\n            _this.handleZoomUpdate(startDate, endDate);\n        };\n        _this.handleZoomUpdate = function (startDate, endDate) {\n            if (_this.props.updateZoom) {\n                _this.props.updateZoom(startDate, endDate);\n            }\n        };\n        _this.handleMouseMove = function (event) {\n            var parentBbox = event.currentTarget.getBoundingClientRect();\n            _this.updateTooltipPos(event.pageX - parentBbox.left);\n        };\n        _this.handleMouseEnter = function () {\n            _this.setState({ mouseOver: true });\n        };\n        _this.handleMouseOut = function () {\n            var updateTooltip = _this.props.updateTooltip;\n            if (updateTooltip) {\n                _this.setState({\n                    mouseOver: false,\n                    selectedDate: undefined,\n                    selectedDateXPos: undefined,\n                    selectedDateIdx: undefined,\n                });\n                updateTooltip(undefined, undefined, undefined);\n            }\n        };\n        _this.handleClick = function () {\n            var updateSelectedDate = _this.props.updateSelectedDate;\n            if (updateSelectedDate) {\n                updateSelectedDate(_this.state.selectedDate || undefined);\n            }\n        };\n        _this.updateTooltipPos = function (xPos) {\n            _this.setState(function (state) {\n                var firstSerie = _this.props.series[0];\n                if (state.mouseOver && firstSerie) {\n                    var updateTooltip = _this.props.updateTooltip;\n                    var date = state.xScale.invert(xPos);\n                    var bisectX = d3_array_1.bisector(function (d) { return d.x; }).right;\n                    var idx = bisectX(firstSerie.data, date);\n                    if (idx >= 0) {\n                        var previousPoint = firstSerie.data[idx - 1];\n                        var nextPoint = firstSerie.data[idx];\n                        if (!nextPoint ||\n                            (previousPoint &&\n                                date.valueOf() - previousPoint.x.valueOf() <= nextPoint.x.valueOf() - date.valueOf())) {\n                            idx--;\n                        }\n                        var selectedDate = firstSerie.data[idx].x;\n                        var xPos_1 = state.xScale(selectedDate);\n                        if (updateTooltip) {\n                            updateTooltip(selectedDate, xPos_1, idx);\n                        }\n                        return { selectedDate: selectedDate, selectedDateXPos: xPos_1, selectedDateIdx: idx };\n                    }\n                }\n                return null;\n            });\n        };\n        _this.renderHorizontalGrid = function () {\n            var formatYTick = _this.props.formatYTick;\n            var _a = _this.state, xScale = _a.xScale, yScale = _a.yScale;\n            var hasTicks = typeof yScale.ticks === 'function';\n            var ticks = hasTicks\n                ? yScale.ticks(_this.props.maxYTicksCount)\n                : yScale.domain();\n            if (!ticks.length) {\n                ticks.push(yScale.domain()[1]);\n            }\n            if (formatYTick) {\n                var formattedTicks = ticks.map(function (tick) { return formatYTick(tick); });\n                if (ticks.length > lodash_1.uniq(formattedTicks).length) {\n                    ticks = yScale.domain();\n                }\n            }\n            return (React.createElement(\"g\", null, ticks.map(function (tick) { return (React.createElement(\"g\", { key: tick },\n                formatYTick != null && (React.createElement(\"text\", { className: \"line-chart-tick line-chart-tick-x\", dx: \"-1em\", dy: \"0.3em\", textAnchor: \"end\", x: xScale.range()[0], y: yScale(tick) }, formatYTick(tick))),\n                React.createElement(\"line\", { className: \"line-chart-grid\", x1: xScale.range()[0], x2: xScale.range()[1], y1: yScale(tick), y2: yScale(tick) }))); })));\n        };\n        _this.renderXAxisTicks = function () {\n            var _a = _this.state, xScale = _a.xScale, yScale = _a.yScale;\n            var format = xScale.tickFormat(7);\n            var ticks = xScale.ticks(7);\n            var y = yScale.range()[0];\n            return (React.createElement(\"g\", { transform: \"translate(0, 20)\" }, ticks.slice(0, -1).map(function (tick, index) {\n                var nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n                var x = (xScale(tick) + xScale(nextTick)) / 2;\n                return (React.createElement(\"text\", { className: \"line-chart-tick\", key: index, textAnchor: \"end\", transform: \"rotate(-35, \" + x + \", \" + y + \")\", x: x, y: y }, format(tick)));\n            })));\n        };\n        _this.renderLeak = function () {\n            var leakPeriodDate = _this.props.leakPeriodDate;\n            if (!leakPeriodDate) {\n                return null;\n            }\n            var _a = _this.state, xScale = _a.xScale, yScale = _a.yScale;\n            var yRange = yScale.range();\n            var xRange = xScale.range();\n            var leakStart = Math.max(xScale(leakPeriodDate), xRange[0]);\n            var leakWidth = xRange[xRange.length - 1] - leakStart;\n            if (leakWidth < 0) {\n                return null;\n            }\n            return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(\"rect\", { className: \"leak-chart-rect\", fill: theme.colors.leakPrimaryColor, height: yRange[0] - yRange[yRange.length - 1], width: leakWidth, x: leakStart, y: yRange[yRange.length - 1] })); }));\n        };\n        _this.renderLines = function () {\n            var lineGenerator = d3_shape_1.line()\n                .defined(function (d) { return Boolean(d.y || d.y === 0); })\n                .x(function (d) { return _this.state.xScale(d.x); })\n                .y(function (d) { return _this.state.yScale(d.y); });\n            if (_this.props.basisCurve) {\n                lineGenerator.curve(d3_shape_1.curveBasis);\n            }\n            return (React.createElement(\"g\", null, _this.props.series.map(function (serie, idx) { return (React.createElement(\"path\", { className: classNames('line-chart-path', 'line-chart-path-' + idx), d: lineGenerator(serie.data) || undefined, key: serie.name })); })));\n        };\n        _this.renderDots = function () {\n            return (React.createElement(\"g\", null, _this.props.series\n                .map(function (serie, serieIdx) {\n                return serie.data\n                    .map(function (point, idx) {\n                    var pointNotDefined = !point.y && point.y !== 0;\n                    var hasPointBefore = serie.data[idx - 1] && (serie.data[idx - 1].y || serie.data[idx - 1].y === 0);\n                    var hasPointAfter = serie.data[idx + 1] && (serie.data[idx + 1].y || serie.data[idx + 1].y === 0);\n                    if (pointNotDefined || hasPointBefore || hasPointAfter) {\n                        return undefined;\n                    }\n                    return (React.createElement(\"circle\", { className: classNames('line-chart-dot', 'line-chart-dot-' + serieIdx), cx: _this.state.xScale(point.x), cy: _this.state.yScale(point.y), key: serie.name + idx, r: \"2\" }));\n                })\n                    .filter(types_1.isDefined);\n            })\n                .filter(function (dots) { return dots.length > 0; })));\n        };\n        _this.renderAreas = function () {\n            var areaGenerator = d3_shape_1.area()\n                .defined(function (d) { return Boolean(d.y || d.y === 0); })\n                .x(function (d) { return _this.state.xScale(d.x); })\n                .y1(function (d) { return _this.state.yScale(d.y); })\n                .y0(_this.state.yScale(0));\n            if (_this.props.basisCurve) {\n                areaGenerator.curve(d3_shape_1.curveBasis);\n            }\n            return (React.createElement(\"g\", null, _this.props.series.map(function (serie, idx) { return (React.createElement(\"path\", { className: classNames('line-chart-area', 'line-chart-area-' + idx), d: areaGenerator(serie.data) || undefined, key: serie.name })); })));\n        };\n        _this.renderSelectedDate = function () {\n            var _a = _this.state, selectedDateIdx = _a.selectedDateIdx, selectedDateXPos = _a.selectedDateXPos, yScale = _a.yScale;\n            var firstSerie = _this.props.series[0];\n            if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n                return null;\n            }\n            return (React.createElement(\"g\", null,\n                React.createElement(\"line\", { className: \"line-tooltip\", x1: selectedDateXPos, x2: selectedDateXPos, y1: yScale.range()[0], y2: yScale.range()[1] }),\n                _this.props.series.map(function (serie, idx) {\n                    var point = serie.data[selectedDateIdx];\n                    if (!point || (!point.y && point.y !== 0)) {\n                        return null;\n                    }\n                    return (React.createElement(\"circle\", { className: classNames('line-chart-dot', 'line-chart-dot-' + idx), cx: selectedDateXPos, cy: yScale(point.y), key: serie.name, r: \"4\" }));\n                })));\n        };\n        _this.renderClipPath = function () {\n            return (React.createElement(\"defs\", null,\n                React.createElement(\"clipPath\", { id: \"chart-clip\" },\n                    React.createElement(\"rect\", { height: _this.state.yScale.range()[0] + 10, transform: \"translate(0,-5)\", width: _this.state.xScale.range()[1] }))));\n        };\n        _this.renderMouseEventsOverlay = function (zoomEnabled) {\n            var mouseEvents = {};\n            if (zoomEnabled) {\n                mouseEvents.onWheel = _this.handleWheel;\n            }\n            if (_this.props.updateTooltip) {\n                mouseEvents.onMouseEnter = _this.handleMouseEnter;\n                mouseEvents.onMouseMove = _this.handleMouseMove;\n                mouseEvents.onMouseOut = _this.handleMouseOut;\n            }\n            if (_this.props.updateSelectedDate) {\n                mouseEvents.onClick = _this.handleClick;\n            }\n            return (React.createElement(\"rect\", __assign({ className: \"chart-mouse-events-overlay\", height: _this.state.yScale.range()[0], width: _this.state.xScale.range()[1] }, mouseEvents)));\n        };\n        var scales = _this.getScales(props);\n        var selectedDatePos = _this.getSelectedDatePos(scales.xScale, props.selectedDate);\n        _this.state = __assign(__assign({}, scales), selectedDatePos);\n        _this.updateTooltipPos = lodash_1.throttle(_this.updateTooltipPos, 40);\n        _this.handleZoomUpdate = lodash_1.throttle(_this.handleZoomUpdate, 40);\n        return _this;\n    }\n    AdvancedTimeline.prototype.componentWillReceiveProps = function (nextProps) {\n        var scales;\n        var selectedDatePos;\n        if (nextProps.metricType !== this.props.metricType ||\n            nextProps.startDate !== this.props.startDate ||\n            nextProps.endDate !== this.props.endDate ||\n            nextProps.width !== this.props.width ||\n            nextProps.padding !== this.props.padding ||\n            nextProps.height !== this.props.height ||\n            nextProps.series !== this.props.series) {\n            scales = this.getScales(nextProps);\n            if (this.state.selectedDate != null) {\n                selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n            }\n        }\n        if (!lodash_1.isEqual(nextProps.selectedDate, this.props.selectedDate)) {\n            var xScale = scales ? scales.xScale : this.state.xScale;\n            selectedDatePos = this.getSelectedDatePos(xScale, nextProps.selectedDate);\n        }\n        if (scales || selectedDatePos) {\n            if (scales) {\n                this.setState(__assign({}, scales));\n            }\n            if (selectedDatePos) {\n                this.setState(__assign({}, selectedDatePos));\n            }\n            if (selectedDatePos && nextProps.updateTooltip) {\n                nextProps.updateTooltip(selectedDatePos.selectedDate, selectedDatePos.selectedDateXPos, selectedDatePos.selectedDateIdx);\n            }\n        }\n    };\n    AdvancedTimeline.prototype.render = function () {\n        if (!this.props.width || !this.props.height) {\n            return React.createElement(\"div\", null);\n        }\n        var zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n        var isZoomed = Boolean(this.props.startDate || this.props.endDate);\n        return (React.createElement(\"svg\", { className: classNames('line-chart', { 'chart-zoomed': isZoomed }), height: this.props.height, width: this.props.width },\n            zoomEnabled && this.renderClipPath(),\n            React.createElement(\"g\", { transform: \"translate(\" + this.props.padding[3] + \", \" + this.props.padding[0] + \")\" },\n                this.props.leakPeriodDate != null && this.renderLeak(),\n                !this.props.hideGrid && this.renderHorizontalGrid(),\n                !this.props.hideXAxis && this.renderXAxisTicks(),\n                this.props.showAreas && this.renderAreas(),\n                this.renderLines(),\n                this.renderDots(),\n                this.renderSelectedDate(),\n                this.renderMouseEventsOverlay(zoomEnabled))));\n    };\n    AdvancedTimeline.defaultProps = {\n        eventSize: 8,\n        maxYTicksCount: 4,\n        padding: [10, 10, 50, 60],\n        zoomSpeed: 1,\n    };\n    return AdvancedTimeline;\n}(React.PureComponent));\nexports.default = AdvancedTimeline;\n//# sourceMappingURL=AdvancedTimeline.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./AdvancedTimeline.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".line-tooltip{fill:none;stroke:#777;stroke-width:1px;shape-rendering:crispEdges}.chart-mouse-events-overlay{fill:none;stroke:none;pointer-events:all}.chart-zoomed .leak-chart-rect,.chart-zoomed .line-chart-area,.chart-zoomed .line-chart-path{-webkit-clip-path:url(#chart-clip);clip-path:url(#chart-clip)}.line-chart-dot{fill:#4b9fd5}.line-chart-dot.line-chart-dot-1{fill:#236a97}.line-chart-dot.line-chart-dot-2{fill:#24c6e0}.line-chart-event{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-event.VERSION{stroke:#4b9fd5}.line-chart-event.QUALITY_GATE{stroke:#0a0}.line-chart-event.QUALITY_PROFILE{stroke:#ed7d20}.line-chart-event.OTHER{stroke:#9139d4}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".line-chart-path{fill:none;stroke:#4b9fd5;stroke-width:2px}.line-chart-path.line-chart-path-1{stroke:#236a97}.line-chart-path.line-chart-path-2{stroke:#24c6e0}.line-chart-area{fill:rgba(75,159,213,.3);stroke-width:0}.line-chart-area.line-chart-area-1{fill:rgba(35,106,151,.3)}.line-chart-area.line-chart-area-2{fill:rgba(36,198,224,.3)}.line-chart-point{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-tick{fill:#777;font-size:12px}.line-chart-tick-x{text-anchor:end}.line-chart-tick-x-right{text-anchor:start}.line-chart-grid{shape-rendering:crispedges;stroke:#eee}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HistoryIcon from 'sonar-ui-common/components/icons/HistoryIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getActivityUrl, getMeasureHistoryUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\nimport { GraphType } from '../../types/project-activity';\nimport { isCustomGraph } from '../activity-graph/utils';\nimport './ActivityLink.css';\n\nexport interface ActivityLinkProps {\n  branchLike?: BranchLike;\n  component: string;\n  graph?: GraphType;\n  label?: string;\n  metric?: string;\n}\n\nexport default function ActivityLink(props: ActivityLinkProps) {\n  const { branchLike, component, graph, label, metric } = props;\n  return (\n    <Link\n      className=\"activity-link\"\n      to={\n        metric !== undefined && graph !== undefined && isCustomGraph(graph)\n          ? getMeasureHistoryUrl(component, metric, branchLike)\n          : getActivityUrl(component, branchLike, graph)\n      }>\n      <HistoryIcon className=\"little-spacer-right\" size={14} />\n      <span>{label || translate('portfolio.activity_link')}</span>\n    </Link>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ActivityLink.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"a.activity-link{border:none}.activity-link>span{border-bottom:1px solid #cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport AlertWarnIcon from 'sonar-ui-common/components/icons/AlertWarnIcon';\nimport ChartLegendIcon from 'sonar-ui-common/components/icons/ChartLegendIcon';\n\ninterface Props {\n  className?: string;\n  index: number;\n  metric: string;\n  name: string;\n  showWarning?: boolean;\n  removeMetric?: (metric: string) => void;\n}\n\nexport default class GraphsLegendItem extends React.PureComponent<Props> {\n  handleClick = () => {\n    if (this.props.removeMetric) {\n      this.props.removeMetric(this.props.metric);\n    }\n  };\n\n  render() {\n    const isActionable = this.props.removeMetric != null;\n    const legendClass = classNames(\n      { 'activity-graph-legend-actionable': isActionable },\n      this.props.className\n    );\n    return (\n      <span className={legendClass}>\n        {this.props.showWarning ? (\n          <AlertWarnIcon className=\"spacer-right\" />\n        ) : (\n          <ChartLegendIcon className=\"text-middle spacer-right\" index={this.props.index} />\n        )}\n        <span className=\"text-middle\">{this.props.name}</span>\n        {isActionable && (\n          <ClearButton\n            className=\"button-tiny spacer-left text-middle\"\n            iconProps={{ size: 12 }}\n            onClick={this.handleClick}\n          />\n        )}\n      </span>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport default function GraphsLegendNewCode() {\n  return (\n    <Tooltip overlay={translate('project_activity.graphs.new_code_long')}>\n      <span\n        aria-label={translate('project_activity.graphs.new_code_long')}\n        className=\"activity-graph-new-code-legend display-flex-center pull-right note\">\n        {translate('project_activity.graphs.new_code')}\n      </span>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Serie } from '../../types/project-activity';\nimport GraphsLegendItem from './GraphsLegendItem';\nimport GraphsLegendNewCode from './GraphsLegendNewCode';\nimport { hasDataValues } from './utils';\n\nexport interface GraphsLegendCustomProps {\n  removeMetric: (metric: string) => void;\n  series: Serie[];\n  showLeakLegend: boolean;\n}\n\nexport default function GraphsLegendCustom(props: GraphsLegendCustomProps) {\n  const { series, showLeakLegend } = props;\n  return (\n    <div className=\"activity-graph-legends display-flex-center\">\n      <div className=\"flex-1\">\n        {series.map((serie, idx) => {\n          const hasData = hasDataValues(serie);\n          const legendItem = (\n            <GraphsLegendItem\n              index={idx}\n              metric={serie.name}\n              name={serie.translatedName}\n              removeMetric={props.removeMetric}\n              showWarning={!hasData}\n            />\n          );\n          if (!hasData) {\n            return (\n              <Tooltip\n                key={serie.name}\n                overlay={translate('project_activity.graphs.custom.metric_no_history')}>\n                <span className=\"spacer-left spacer-right\">{legendItem}</span>\n              </Tooltip>\n            );\n          }\n          return (\n            <span className=\"spacer-left spacer-right\" key={serie.name}>\n              {legendItem}\n            </span>\n          );\n        })}\n      </div>\n\n      {showLeakLegend && <GraphsLegendNewCode />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Serie } from '../../types/project-activity';\nimport GraphsLegendItem from './GraphsLegendItem';\nimport GraphsLegendNewCode from './GraphsLegendNewCode';\n\nexport interface GraphsLegendStaticProps {\n  series: Array<Pick<Serie, 'name' | 'translatedName'>>;\n  showLeakLegend: boolean;\n}\n\nexport default function GraphsLegendStatic({ series, showLeakLegend }: GraphsLegendStaticProps) {\n  return (\n    <div className=\"activity-graph-legends\">\n      {series.map((serie, idx) => (\n        <GraphsLegendItem\n          className=\"big-spacer-left big-spacer-right\"\n          index={idx}\n          key={serie.name}\n          metric={serie.name}\n          name={serie.translatedName}\n        />\n      ))}\n\n      {showLeakLegend && <GraphsLegendNewCode />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChartLegendIcon from 'sonar-ui-common/components/icons/ChartLegendIcon';\n\ninterface Props {\n  name: string;\n  index: number;\n  translatedName: string;\n  value: string;\n}\n\nexport default function GraphsTooltipsContent({ name, index, translatedName, value }: Props) {\n  return (\n    <tr className=\"activity-graph-tooltip-line\" key={name}>\n      <td className=\"thin\">\n        <ChartLegendIcon className=\"spacer-right\" index={index} />\n      </td>\n      <td className=\"activity-graph-tooltip-value text-right spacer-right thin\">{value}</td>\n      <td>{translatedName}</td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { MeasureHistory } from '../../types/project-activity';\n\nexport interface GraphsTooltipsContentCoverageProps {\n  addSeparator: boolean;\n  measuresHistory: MeasureHistory[];\n  tooltipIdx: number;\n}\n\nexport default function GraphsTooltipsContentCoverage({\n  addSeparator,\n  measuresHistory,\n  tooltipIdx\n}: GraphsTooltipsContentCoverageProps) {\n  const uncovered = measuresHistory.find(measure => measure.metric === 'uncovered_lines');\n  const coverage = measuresHistory.find(measure => measure.metric === 'coverage');\n  if (!uncovered || !uncovered.history[tooltipIdx] || !coverage || !coverage.history[tooltipIdx]) {\n    return null;\n  }\n  const uncoveredValue = uncovered.history[tooltipIdx].value;\n  const coverageValue = coverage.history[tooltipIdx].value;\n  return (\n    <tbody>\n      {addSeparator && (\n        <tr>\n          <td className=\"activity-graph-tooltip-separator\" colSpan={3}>\n            <hr />\n          </td>\n        </tr>\n      )}\n      {uncoveredValue && (\n        <tr className=\"activity-graph-tooltip-line\">\n          <td className=\"activity-graph-tooltip-value text-right spacer-right thin\" colSpan={2}>\n            {formatMeasure(uncoveredValue, 'SHORT_INT')}\n          </td>\n          <td>{translate('metric.uncovered_lines.name')}</td>\n        </tr>\n      )}\n      {coverageValue && (\n        <tr className=\"activity-graph-tooltip-line\">\n          <td className=\"activity-graph-tooltip-value text-right spacer-right thin\" colSpan={2}>\n            {formatMeasure(coverageValue, 'PERCENT')}\n          </td>\n          <td>{translate('metric.coverage.name')}</td>\n        </tr>\n      )}\n    </tbody>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { MeasureHistory } from '../../types/project-activity';\n\nexport interface GraphsTooltipsContentDuplicationProps {\n  addSeparator: boolean;\n  measuresHistory: MeasureHistory[];\n  tooltipIdx: number;\n}\n\nexport default function GraphsTooltipsContentDuplication({\n  addSeparator,\n  measuresHistory,\n  tooltipIdx\n}: GraphsTooltipsContentDuplicationProps) {\n  const duplicationDensity = measuresHistory.find(\n    measure => measure.metric === 'duplicated_lines_density'\n  );\n  if (!duplicationDensity || !duplicationDensity.history[tooltipIdx]) {\n    return null;\n  }\n  const duplicationDensityValue = duplicationDensity.history[tooltipIdx].value;\n  if (!duplicationDensityValue) {\n    return null;\n  }\n  return (\n    <tbody>\n      {addSeparator && (\n        <tr>\n          <td className=\"activity-graph-tooltip-separator\" colSpan={3}>\n            <hr />\n          </td>\n        </tr>\n      )}\n      <tr className=\"activity-graph-tooltip-line\">\n        <td className=\"activity-graph-tooltip-value text-right spacer-right thin\" colSpan={2}>\n          {formatMeasure(duplicationDensityValue, 'PERCENT')}\n        </td>\n        <td>{translate('metric.duplicated_lines_density.name')}</td>\n      </tr>\n    </tbody>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport ProjectEventIcon from 'sonar-ui-common/components/icons/ProjectEventIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  addSeparator: boolean;\n  events: T.AnalysisEvent[];\n}\n\nexport default function GraphsTooltipsContentEvents({ addSeparator, events }: Props) {\n  return (\n    <tbody>\n      {addSeparator && (\n        <tr>\n          <td className=\"activity-graph-tooltip-separator\" colSpan={3}>\n            <hr />\n          </td>\n        </tr>\n      )}\n      <tr className=\"activity-graph-tooltip-line\">\n        <td colSpan={3}>\n          <span>{translate('events')}:</span>\n          {events.map(event => (\n            <span className=\"spacer-left\" key={event.key}>\n              <ProjectEventIcon\n                className={classNames('project-activity-event-icon', event.category)}\n              />\n            </span>\n          ))}\n        </td>\n      </tr>\n    </tbody>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChartLegendIcon from 'sonar-ui-common/components/icons/ChartLegendIcon';\nimport Rating from 'sonar-ui-common/components/ui/Rating';\nimport { MeasureHistory } from '../../types/project-activity';\n\nexport interface GraphsTooltipsContentIssuesProps {\n  index: number;\n  measuresHistory: MeasureHistory[];\n  name: string;\n  tooltipIdx: number;\n  translatedName: string;\n  value: string;\n}\n\nconst METRIC_RATING: T.Dict<string> = {\n  bugs: 'reliability_rating',\n  vulnerabilities: 'security_rating',\n  code_smells: 'sqale_rating'\n};\n\nexport default function GraphsTooltipsContentIssues(props: GraphsTooltipsContentIssuesProps) {\n  const rating = props.measuresHistory.find(\n    measure => measure.metric === METRIC_RATING[props.name]\n  );\n  if (!rating || !rating.history[props.tooltipIdx]) {\n    return null;\n  }\n  const ratingValue = rating.history[props.tooltipIdx].value;\n  return (\n    <tr className=\"activity-graph-tooltip-issues-line\" key={props.name}>\n      <td className=\"thin\">\n        <ChartLegendIcon className=\"spacer-right\" index={props.index} />\n      </td>\n      <td className=\"text-right spacer-right\">\n        <span className=\"activity-graph-tooltip-value\">{props.value}</span>\n        {ratingValue && <Rating className=\"spacer-left\" small={true} value={ratingValue} />}\n      </td>\n      <td>{props.translatedName}</td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { Popup, PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { MeasureHistory, Serie } from '../../types/project-activity';\nimport GraphsTooltipsContent from './GraphsTooltipsContent';\nimport GraphsTooltipsContentCoverage from './GraphsTooltipsContentCoverage';\nimport GraphsTooltipsContentDuplication from './GraphsTooltipsContentDuplication';\nimport GraphsTooltipsContentEvents from './GraphsTooltipsContentEvents';\nimport GraphsTooltipsContentIssues from './GraphsTooltipsContentIssues';\nimport { DEFAULT_GRAPH } from './utils';\n\ninterface Props {\n  events: T.AnalysisEvent[];\n  formatValue: (tick: number | string) => string;\n  graph: string;\n  graphWidth: number;\n  measuresHistory: MeasureHistory[];\n  selectedDate: Date;\n  series: Serie[];\n  tooltipIdx: number;\n  tooltipPos: number;\n}\n\nconst TOOLTIP_WIDTH = 250;\n\nexport default class GraphsTooltips extends React.PureComponent<Props> {\n  renderContent() {\n    const { tooltipIdx } = this.props;\n\n    return this.props.series.map((serie, idx) => {\n      const point = serie.data[tooltipIdx];\n      if (!point || (!point.y && point.y !== 0)) {\n        return null;\n      }\n      if (this.props.graph === DEFAULT_GRAPH) {\n        return (\n          <GraphsTooltipsContentIssues\n            index={idx}\n            key={serie.name}\n            measuresHistory={this.props.measuresHistory}\n            name={serie.name}\n            tooltipIdx={tooltipIdx}\n            translatedName={serie.translatedName}\n            value={this.props.formatValue(point.y)}\n          />\n        );\n      } else {\n        return (\n          <GraphsTooltipsContent\n            index={idx}\n            key={serie.name}\n            name={serie.name}\n            translatedName={serie.translatedName}\n            value={this.props.formatValue(point.y)}\n          />\n        );\n      }\n    });\n  }\n\n  render() {\n    const { events, measuresHistory, tooltipIdx } = this.props;\n    const top = 30;\n    let left = this.props.tooltipPos + 60;\n    let placement = PopupPlacement.RightTop;\n    if (left > this.props.graphWidth - TOOLTIP_WIDTH - 50) {\n      left -= TOOLTIP_WIDTH;\n      placement = PopupPlacement.LeftTop;\n    }\n    const tooltipContent = this.renderContent().filter(isDefined);\n    const addSeparator = tooltipContent.length > 0;\n    return (\n      <Popup\n        className=\"disabled-pointer-events\"\n        placement={placement}\n        style={{ top, left, width: TOOLTIP_WIDTH }}>\n        <div className=\"activity-graph-tooltip\">\n          <div className=\"activity-graph-tooltip-title spacer-bottom\">\n            <DateTimeFormatter date={this.props.selectedDate} />\n          </div>\n          <table className=\"width-100\">\n            <tbody>{tooltipContent}</tbody>\n            {this.props.graph === 'coverage' && (\n              <GraphsTooltipsContentCoverage\n                addSeparator={addSeparator}\n                measuresHistory={measuresHistory}\n                tooltipIdx={tooltipIdx}\n              />\n            )}\n            {this.props.graph === 'duplications' && (\n              <GraphsTooltipsContentDuplication\n                addSeparator={addSeparator}\n                measuresHistory={measuresHistory}\n                tooltipIdx={tooltipIdx}\n              />\n            )}\n            {events && events.length > 0 && (\n              <GraphsTooltipsContentEvents addSeparator={addSeparator} events={events} />\n            )}\n          </table>\n        </div>\n      </Popup>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized/dist/commonjs/AutoSizer';\nimport AdvancedTimeline from 'sonar-ui-common/components/charts/AdvancedTimeline';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getShortType } from '../../helpers/measures';\nimport { MeasureHistory, Serie } from '../../types/project-activity';\nimport GraphsLegendCustom from './GraphsLegendCustom';\nimport GraphsLegendStatic from './GraphsLegendStatic';\nimport GraphsTooltips from './GraphsTooltips';\n\ninterface Props {\n  events: T.AnalysisEvent[];\n  graph: string;\n  graphEndDate?: Date;\n  graphStartDate?: Date;\n  leakPeriodDate?: Date;\n  isCustom?: boolean;\n  measuresHistory: MeasureHistory[];\n  metricsType: string;\n  removeCustomMetric?: (metric: string) => void;\n  showAreas: boolean;\n  series: Serie[];\n  selectedDate?: Date;\n  updateGraphZoom?: (from?: Date, to?: Date) => void;\n  updateSelectedDate?: (selectedDate?: Date) => void;\n  updateTooltip: (selectedDate?: Date) => void;\n}\n\ninterface State {\n  tooltipIdx?: number;\n  tooltipXPos?: number;\n}\n\nexport default class GraphHistory extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  formatValue = (tick: string | number) => {\n    return formatMeasure(tick, getShortType(this.props.metricsType));\n  };\n\n  formatTooltipValue = (tick: string | number) => {\n    return formatMeasure(tick, this.props.metricsType);\n  };\n\n  updateTooltip = (selectedDate?: Date, tooltipXPos?: number, tooltipIdx?: number) => {\n    this.props.updateTooltip(selectedDate);\n    this.setState({ tooltipXPos, tooltipIdx });\n  };\n\n  render() {\n    const {\n      events,\n      graph,\n      graphEndDate,\n      graphStartDate,\n      isCustom,\n      leakPeriodDate,\n      measuresHistory,\n      metricsType,\n      selectedDate,\n      series,\n      showAreas\n    } = this.props;\n    const { tooltipIdx, tooltipXPos } = this.state;\n\n    return (\n      <div className=\"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center\">\n        {isCustom && this.props.removeCustomMetric ? (\n          <GraphsLegendCustom\n            removeMetric={this.props.removeCustomMetric}\n            series={series}\n            showLeakLegend={Boolean(leakPeriodDate)}\n          />\n        ) : (\n          <GraphsLegendStatic series={series} showLeakLegend={Boolean(leakPeriodDate)} />\n        )}\n\n        <div className=\"flex-1\">\n          <AutoSizer>\n            {({ height, width }) => (\n              <div>\n                <AdvancedTimeline\n                  endDate={graphEndDate}\n                  formatYTick={this.formatValue}\n                  height={height}\n                  leakPeriodDate={leakPeriodDate}\n                  metricType={metricsType}\n                  selectedDate={selectedDate}\n                  series={series}\n                  showAreas={showAreas}\n                  startDate={graphStartDate}\n                  updateSelectedDate={this.props.updateSelectedDate}\n                  updateTooltip={this.updateTooltip}\n                  updateZoom={this.props.updateGraphZoom}\n                  width={width}\n                />\n                {selectedDate !== undefined &&\n                  tooltipIdx !== undefined &&\n                  tooltipXPos !== undefined && (\n                    <GraphsTooltips\n                      events={events}\n                      formatValue={this.formatTooltipValue}\n                      graph={graph}\n                      graphWidth={width}\n                      measuresHistory={measuresHistory}\n                      selectedDate={selectedDate}\n                      series={series}\n                      tooltipIdx={tooltipIdx}\n                      tooltipPos={tooltipXPos}\n                    />\n                  )}\n              </div>\n            )}\n          </AutoSizer>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isEqual } from 'lodash';\nimport * as React from 'react';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { GraphType, MeasureHistory, Serie } from '../../types/project-activity';\nimport GraphHistory from './GraphHistory';\nimport './styles.css';\nimport { getSeriesMetricType, hasHistoryData, isCustomGraph } from './utils';\n\ninterface Props {\n  analyses: T.ParsedAnalysis[];\n  graph: GraphType;\n  graphs: Serie[][];\n  graphEndDate?: Date;\n  graphStartDate?: Date;\n  leakPeriodDate?: Date;\n  loading: boolean;\n  measuresHistory: MeasureHistory[];\n  removeCustomMetric?: (metric: string) => void;\n  selectedDate?: Date;\n  series: Serie[];\n  updateGraphZoom?: (from?: Date, to?: Date) => void;\n  updateSelectedDate?: (selectedDate?: Date) => void;\n}\n\ninterface State {\n  selectedDate?: Date;\n}\n\nexport default class GraphsHistory extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selectedDate: props.selectedDate\n    };\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (!isEqual(nextProps.selectedDate, this.props.selectedDate)) {\n      this.setState({ selectedDate: nextProps.selectedDate });\n    }\n  }\n\n  getSelectedDateEvents = () => {\n    const { selectedDate } = this.state;\n    const { analyses } = this.props;\n    if (analyses && selectedDate) {\n      const analysis = analyses.find(a => a.date.valueOf() === selectedDate.valueOf());\n      if (analysis) {\n        return analysis.events;\n      }\n    }\n    return [];\n  };\n\n  updateTooltip = (selectedDate?: Date) => {\n    this.setState({ selectedDate });\n  };\n\n  render() {\n    const { graph, loading, series } = this.props;\n    const isCustom = isCustomGraph(graph);\n\n    if (loading) {\n      return (\n        <div className=\"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center\">\n          <div className=\"text-center\">\n            <DeferredSpinner loading={loading} />\n          </div>\n        </div>\n      );\n    }\n\n    if (!hasHistoryData(series)) {\n      return (\n        <div className=\"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center\">\n          <div className=\"display-flex-center display-flex-justify-center\">\n            <img\n              alt=\"\" /* Make screen readers ignore this image; it's purely eye candy. */\n              className=\"spacer-right\"\n              height={52}\n              src={`${getBaseUrl()}/images/activity-chart.svg`}\n            />\n            <div className=\"big-spacer-left big text-muted\" style={{ maxWidth: 300 }}>\n              {translate(\n                isCustom\n                  ? 'project_activity.graphs.custom.no_history'\n                  : 'component_measures.no_history'\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n    const events = this.getSelectedDateEvents();\n    const showAreas = [GraphType.coverage, GraphType.duplications].includes(graph);\n    return (\n      <div className=\"display-flex-justify-center display-flex-column display-flex-stretch flex-grow\">\n        {this.props.graphs.map((graphSeries, idx) => (\n          <GraphHistory\n            events={events}\n            graph={graph}\n            graphEndDate={this.props.graphEndDate}\n            graphStartDate={this.props.graphStartDate}\n            isCustom={isCustom}\n            key={idx}\n            leakPeriodDate={this.props.leakPeriodDate}\n            measuresHistory={this.props.measuresHistory}\n            metricsType={getSeriesMetricType(graphSeries)}\n            removeCustomMetric={this.props.removeCustomMetric}\n            selectedDate={this.state.selectedDate}\n            series={graphSeries}\n            showAreas={showAreas}\n            updateGraphZoom={this.props.updateGraphZoom}\n            updateSelectedDate={this.props.updateSelectedDate}\n            updateTooltip={this.updateTooltip}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\n\nexport interface AddGraphMetricPopupProps {\n  elements: string[];\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  metricsTypeFilter?: string[];\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  popupPosition?: any;\n  renderLabel: (element: string) => React.ReactNode;\n  selectedElements: string[];\n}\n\nexport default function AddGraphMetricPopup({\n  elements,\n  metricsTypeFilter,\n  ...props\n}: AddGraphMetricPopupProps) {\n  let footerNode: React.ReactNode = '';\n\n  if (props.selectedElements.length >= 6) {\n    footerNode = (\n      <Alert className=\"spacer-left spacer-right spacer-top\" variant=\"info\">\n        {translate('project_activity.graphs.custom.add_metric_info')}\n      </Alert>\n    );\n  } else if (metricsTypeFilter && metricsTypeFilter.length > 0) {\n    footerNode = (\n      <Alert className=\"spacer-left spacer-right spacer-top\" variant=\"info\">\n        {translateWithParameters(\n          'project_activity.graphs.custom.type_x_message',\n          metricsTypeFilter\n            .map((type: string) => translate('metric.type', type))\n            .sort()\n            .join(', ')\n        )}\n      </Alert>\n    );\n  }\n\n  return (\n    <div className=\"menu abs-width-300\">\n      <MultiSelect\n        allowNewElements={false}\n        allowSelection={props.selectedElements.length < 6}\n        elements={elements}\n        filterSelected={props.filterSelected}\n        footerNode={footerNode}\n        onSearch={props.onSearch}\n        onSelect={(item: string) => elements.includes(item) && props.onSelect(item)}\n        onUnselect={props.onUnselect}\n        placeholder={translate('search.search_for_tags')}\n        renderLabel={props.renderLabel}\n        selectedElements={props.selectedElements}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { find, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport { isDiffMetric } from '../../helpers/measures';\nimport AddGraphMetricPopup from './AddGraphMetricPopup';\n\ninterface Props {\n  addMetric: (metric: string) => void;\n  className?: string;\n  metrics: T.Metric[];\n  metricsTypeFilter?: string[];\n  removeMetric: (metric: string) => void;\n  selectedMetrics: string[];\n}\n\ninterface State {\n  metrics: string[];\n  query: string;\n  selectedMetrics: string[];\n}\n\nexport default class AddGraphMetric extends React.PureComponent<Props, State> {\n  state: State = {\n    metrics: [],\n    query: '',\n    selectedMetrics: []\n  };\n\n  filterSelected = (query: string, selectedElements: string[]) => {\n    return selectedElements.filter(element =>\n      this.getLocalizedMetricNameFromKey(element)\n        .toLowerCase()\n        .includes(query.toLowerCase())\n    );\n  };\n\n  filterMetricsElements = (\n    { metricsTypeFilter, metrics, selectedMetrics }: Props,\n    query: string\n  ) => {\n    return metrics\n      .filter(metric => {\n        if (\n          metric.hidden ||\n          isDiffMetric(metric.key) ||\n          ['DATA', 'DISTRIB'].includes(metric.type) ||\n          selectedMetrics.includes(metric.key) ||\n          !getLocalizedMetricName(metric)\n            .toLowerCase()\n            .includes(query.toLowerCase())\n        ) {\n          return false;\n        }\n        if (metricsTypeFilter && metricsTypeFilter.length > 0) {\n          return metricsTypeFilter.includes(metric.type);\n        }\n        return true;\n      })\n      .map(metric => metric.key);\n  };\n\n  getSelectedMetricsElements = (metrics: T.Metric[], selectedMetrics?: string[]) => {\n    const selected = selectedMetrics || this.props.selectedMetrics;\n    return metrics.filter(metric => selected.includes(metric.key)).map(metric => metric.key);\n  };\n\n  getLocalizedMetricNameFromKey = (key: string) => {\n    const metric = find(this.props.metrics, { key });\n    return metric === undefined ? key : getLocalizedMetricName(metric);\n  };\n\n  onSearch = (query: string) => {\n    this.setState({ query });\n    return Promise.resolve();\n  };\n\n  onSelect = (metric: string) => {\n    this.props.addMetric(metric);\n    this.setState(state => {\n      return {\n        selectedMetrics: sortBy([...state.selectedMetrics, metric]),\n        metrics: this.filterMetricsElements(this.props, state.query)\n      };\n    });\n  };\n\n  onUnselect = (metric: string) => {\n    this.props.removeMetric(metric);\n    this.setState(state => {\n      return {\n        metrics: sortBy([...state.metrics, metric]),\n        selectedMetrics: state.selectedMetrics.filter(selected => selected !== metric)\n      };\n    });\n  };\n\n  render() {\n    const { query } = this.state;\n    const filteredMetrics = this.filterMetricsElements(this.props, query);\n    const selectedMetrics = this.getSelectedMetricsElements(\n      this.props.metrics,\n      this.props.selectedMetrics\n    );\n    return (\n      <Dropdown\n        className=\"display-inline-block\"\n        closeOnClick={false}\n        closeOnClickOutside={true}\n        overlay={\n          <AddGraphMetricPopup\n            elements={filteredMetrics}\n            filterSelected={this.filterSelected}\n            metricsTypeFilter={this.props.metricsTypeFilter}\n            onSearch={this.onSearch}\n            onSelect={this.onSelect}\n            onUnselect={this.onUnselect}\n            renderLabel={element => this.getLocalizedMetricNameFromKey(element)}\n            selectedElements={selectedMetrics}\n          />\n        }>\n        <Button className=\"spacer-left\">\n          <span className=\"text-ellipsis text-middle\">\n            {translate('project_activity.graphs.custom.add')}\n          </span>\n          <DropdownIcon className=\"text-top little-spacer-left\" />\n        </Button>\n      </Dropdown>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { GraphType } from '../../types/project-activity';\nimport AddGraphMetric from './AddGraphMetric';\nimport './styles.css';\nimport { getGraphTypes, isCustomGraph } from './utils';\n\ninterface Props {\n  addCustomMetric?: (metric: string) => void;\n  className?: string;\n  removeCustomMetric?: (metric: string) => void;\n  graph: GraphType;\n  metrics: T.Metric[];\n  metricsTypeFilter?: string[];\n  selectedMetrics?: string[];\n  updateGraph: (graphType: string) => void;\n}\n\nexport default class GraphsHeader extends React.PureComponent<Props> {\n  handleGraphChange = (option: { value: string }) => {\n    if (option.value !== this.props.graph) {\n      this.props.updateGraph(option.value);\n    }\n  };\n\n  render() {\n    const {\n      addCustomMetric,\n      className,\n      graph,\n      metrics,\n      metricsTypeFilter,\n      removeCustomMetric,\n      selectedMetrics = []\n    } = this.props;\n\n    const types = getGraphTypes(addCustomMetric === undefined || removeCustomMetric === undefined);\n\n    const selectOptions = types.map(type => ({\n      label: translate('project_activity.graphs', type),\n      value: type\n    }));\n\n    return (\n      <div className={classNames(className, 'position-relative')}>\n        <Select\n          className=\"pull-left input-medium\"\n          clearable={false}\n          onChange={this.handleGraphChange}\n          options={selectOptions}\n          searchable={false}\n          value={graph}\n        />\n        {isCustomGraph(graph) &&\n          addCustomMetric !== undefined &&\n          removeCustomMetric !== undefined && (\n            <AddGraphMetric\n              addMetric={addCustomMetric}\n              className=\"pull-left spacer-left\"\n              metrics={metrics}\n              metricsTypeFilter={metricsTypeFilter}\n              removeMetric={removeCustomMetric}\n              selectedMetrics={selectedMetrics}\n            />\n          )}\n      </div>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getLeakValue } from '../../../components/measure/utils';\nimport DrilldownLink from '../../../components/shared/DrilldownLink';\nimport { findMeasure } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport {\n  getMeasurementIconClass,\n  getMeasurementLabelKeys,\n  getMeasurementLinesMetricKey,\n  getMeasurementMetricKey,\n  MeasurementType\n} from '../utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  centered?: boolean;\n  component: T.Component;\n  measures: T.MeasureEnhanced[];\n  type: MeasurementType;\n  useDiffMetric?: boolean;\n}\n\nexport default class MeasurementLabel extends React.Component<Props> {\n  getLabelText = () => {\n    const { branchLike, component, measures, type, useDiffMetric = false } = this.props;\n    const { expandedLabelKey, labelKey } = getMeasurementLabelKeys(type, useDiffMetric);\n    const linesMetric = getMeasurementLinesMetricKey(type, useDiffMetric);\n    const measure = findMeasure(measures, linesMetric);\n\n    if (!measure) {\n      return translate(labelKey);\n    } else {\n      const value = useDiffMetric ? getLeakValue(measure) : measure.value;\n\n      return (\n        <FormattedMessage\n          defaultMessage={translate(expandedLabelKey)}\n          id={expandedLabelKey}\n          values={{\n            count: (\n              <DrilldownLink\n                branchLike={branchLike}\n                className=\"big\"\n                component={component.key}\n                metric={linesMetric}>\n                {formatMeasure(value, 'SHORT_INT')}\n              </DrilldownLink>\n            )\n          }}\n        />\n      );\n    }\n  };\n\n  render() {\n    const { branchLike, centered, component, measures, type, useDiffMetric = false } = this.props;\n    const iconClass = getMeasurementIconClass(type);\n    const metric = getMeasurementMetricKey(type, useDiffMetric);\n    const measure = findMeasure(measures, metric);\n\n    let value;\n    if (measure) {\n      value = useDiffMetric ? getLeakValue(measure) : measure.value;\n    }\n\n    if (value === undefined) {\n      return (\n        <div className=\"display-flex-center\">\n          <span aria-label={translate('no_data')} className=\"overview-measures-empty-value\" />\n          <span className=\"big-spacer-left\">{this.getLabelText()}</span>\n        </div>\n      );\n    }\n\n    const icon = React.createElement(iconClass, { size: 'big', value: Number(value) });\n    const link = (\n      <DrilldownLink\n        branchLike={branchLike}\n        className=\"overview-measures-value text-light\"\n        component={component.key}\n        metric={metric}>\n        {formatMeasure(value, 'PERCENT', { decimals: 2, omitExtraDecimalZeros: true })}\n      </DrilldownLink>\n    );\n    const label = this.getLabelText();\n\n    return centered ? (\n      <div className=\"display-flex-column flex-1\">\n        <div className=\"display-flex-center display-flex-justify-center\">\n          <span className=\"big-spacer-right\">{icon}</span>\n          {link}\n        </div>\n        <div className=\"spacer-top text-center\">{label}</div>\n      </div>\n    ) : (\n      <div className=\"display-flex-center\">\n        <span className=\"big-spacer-right\">{icon}</span>\n        <div className=\"display-flex-column\">\n          <span>{link}</span>\n          <span className=\"spacer-top\">{label}</span>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure, localizeMetric } from 'sonar-ui-common/helpers/measures';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { getLeakValue } from '../../../components/measure/utils';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { findMeasure } from '../../../helpers/measures';\nimport { getComponentIssuesUrl, getComponentSecurityHotspotsUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { getIssueIconClass, getIssueMetricKey, IssueType } from '../utils';\n\nexport interface IssueLabelProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  docTooltip?: Promise<{ default: string }>;\n  measures: T.MeasureEnhanced[];\n  type: IssueType;\n  useDiffMetric?: boolean;\n}\n\nexport function IssueLabel(props: IssueLabelProps) {\n  const { branchLike, component, docTooltip, measures, type, useDiffMetric = false } = props;\n  const metric = getIssueMetricKey(type, useDiffMetric);\n  const measure = findMeasure(measures, metric);\n  const iconClass = getIssueIconClass(type);\n\n  let value;\n  if (measure) {\n    value = useDiffMetric ? getLeakValue(measure) : measure.value;\n  }\n\n  const params = {\n    ...getBranchLikeQuery(branchLike),\n    resolved: 'false',\n    types: type,\n    sinceLeakPeriod: useDiffMetric ? 'true' : 'false'\n  };\n\n  return (\n    <>\n      {value === undefined ? (\n        <span aria-label={translate('no_data')} className=\"overview-measures-empty-value\" />\n      ) : (\n        <Link\n          className=\"overview-measures-value text-light\"\n          to={\n            type === IssueType.SecurityHotspot\n              ? getComponentSecurityHotspotsUrl(component.key, params)\n              : getComponentIssuesUrl(component.key, params)\n          }>\n          {formatMeasure(value, 'SHORT_INT')}\n        </Link>\n      )}\n      {React.createElement(iconClass, { className: 'big-spacer-left little-spacer-right' })}\n      {localizeMetric(metric)}\n      {docTooltip && <DocTooltip className=\"little-spacer-left\" doc={docTooltip} />}\n    </>\n  );\n}\n\nexport default React.memo(IssueLabel);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport Rating from 'sonar-ui-common/components/ui/Rating';\nimport { getLeakValue, getRatingTooltip } from '../../../components/measure/utils';\nimport DrilldownLink from '../../../components/shared/DrilldownLink';\nimport { findMeasure } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { getIssueRatingMetricKey, getIssueRatingName, IssueType } from '../utils';\n\nexport interface IssueRatingProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  measures: T.MeasureEnhanced[];\n  type: IssueType;\n  useDiffMetric?: boolean;\n}\n\nfunction renderRatingLink(props: IssueRatingProps) {\n  const { branchLike, component, useDiffMetric = false, measures, type } = props;\n  const rating = getIssueRatingMetricKey(type, useDiffMetric);\n  const measure = findMeasure(measures, rating);\n\n  if (!rating || !measure) {\n    return (\n      <div className=\"padded\">\n        <Rating value={undefined} />\n      </div>\n    );\n  }\n\n  const value = measure && (useDiffMetric ? getLeakValue(measure) : measure.value);\n  const tooltip = value && getRatingTooltip(rating, Number(value));\n\n  return (\n    <Tooltip overlay={tooltip}>\n      <span>\n        <DrilldownLink\n          branchLike={branchLike}\n          className=\"link-no-underline\"\n          component={component.key}\n          metric={rating}>\n          <Rating value={value} />\n        </DrilldownLink>\n      </span>\n    </Tooltip>\n  );\n}\n\nexport function IssueRating(props: IssueRatingProps) {\n  const { type } = props;\n\n  return (\n    <>\n      <span className=\"flex-1 big-spacer-right text-right\">{getIssueRatingName(type)}</span>\n      {renderRatingLink(props)}\n    </>\n  );\n}\n\nexport default React.memo(IssueRating);\n","export default \"A Quality Gate is a set of measure-based Boolean conditions. It helps you know immediately whether your project is production-ready. If your current status is not Passed, you'll see which measures caused the problem and the values required to pass.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport Measure from '../../../components/measure/Measure';\nimport DrilldownLink from '../../../components/shared/DrilldownLink';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { getPeriodValue, isDiffMetric } from '../../../helpers/measures';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { QualityGateStatusConditionEnhanced } from '../../../types/quality-gates';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: Pick<T.Component, 'key'>;\n  condition: QualityGateStatusConditionEnhanced;\n}\n\nexport default class QualityGateCondition extends React.PureComponent<Props> {\n  getIssuesUrl = (sinceLeakPeriod: boolean, customQuery: T.Dict<string>) => {\n    const query: T.Dict<string | undefined> = {\n      resolved: 'false',\n      ...getBranchLikeQuery(this.props.branchLike),\n      ...customQuery\n    };\n    if (sinceLeakPeriod) {\n      Object.assign(query, { sinceLeakPeriod: 'true' });\n    }\n    return getComponentIssuesUrl(this.props.component.key, query);\n  };\n\n  getUrlForCodeSmells(sinceLeakPeriod: boolean) {\n    return this.getIssuesUrl(sinceLeakPeriod, { types: 'CODE_SMELL' });\n  }\n\n  getUrlForBugsOrVulnerabilities(type: string, sinceLeakPeriod: boolean) {\n    const RATING_TO_SEVERITIES_MAPPING = [\n      'BLOCKER,CRITICAL,MAJOR,MINOR',\n      'BLOCKER,CRITICAL,MAJOR',\n      'BLOCKER,CRITICAL',\n      'BLOCKER'\n    ];\n\n    const { condition } = this.props;\n    const threshold = condition.level === 'ERROR' ? condition.error : condition.warning;\n\n    return this.getIssuesUrl(sinceLeakPeriod, {\n      types: type,\n      severities: RATING_TO_SEVERITIES_MAPPING[Number(threshold) - 1]\n    });\n  }\n\n  getUrlForType(type: string, sinceLeakPeriod: boolean) {\n    return type === 'CODE_SMELL'\n      ? this.getUrlForCodeSmells(sinceLeakPeriod)\n      : this.getUrlForBugsOrVulnerabilities(type, sinceLeakPeriod);\n  }\n\n  wrapWithLink(children: React.ReactNode) {\n    const { branchLike, component, condition } = this.props;\n\n    const className = classNames(\n      'overview-quality-gate-condition',\n      `overview-quality-gate-condition-${condition.level.toLowerCase()}`\n    );\n\n    const metricKey = condition.measure.metric.key;\n\n    const RATING_METRICS_MAPPING: T.Dict<[string, boolean]> = {\n      reliability_rating: ['BUG', false],\n      new_reliability_rating: ['BUG', true],\n      security_rating: ['VULNERABILITY', false],\n      new_security_rating: ['VULNERABILITY', true],\n      sqale_rating: ['CODE_SMELL', false],\n      new_maintainability_rating: ['CODE_SMELL', true]\n    };\n\n    return RATING_METRICS_MAPPING[metricKey] ? (\n      <Link className={className} to={this.getUrlForType(...RATING_METRICS_MAPPING[metricKey])}>\n        {children}\n      </Link>\n    ) : (\n      <DrilldownLink\n        branchLike={branchLike}\n        className={className}\n        component={component.key}\n        metric={condition.measure.metric.key}\n        sinceLeakPeriod={condition.period != null}>\n        {children}\n      </DrilldownLink>\n    );\n  }\n\n  render() {\n    const { condition } = this.props;\n    const { measure } = condition;\n    const { metric } = measure;\n\n    const isDiff = isDiffMetric(metric.key);\n\n    const threshold = (condition.level === 'ERROR' ? condition.error : condition.warning) as string;\n    const actual = (condition.period\n      ? getPeriodValue(measure, condition.period)\n      : measure.value) as string;\n\n    let operator = translate('quality_gates.operator', condition.op);\n\n    if (metric.type === 'RATING') {\n      operator = translate('quality_gates.operator', condition.op, 'rating');\n    }\n\n    return this.wrapWithLink(\n      <div className=\"overview-quality-gate-condition-container display-flex-center\">\n        <div className=\"overview-quality-gate-condition-value text-center spacer-right\">\n          <Measure\n            decimals={2}\n            metricKey={measure.metric.key}\n            metricType={measure.metric.type}\n            value={actual}\n          />\n        </div>\n\n        <div>\n          <span className=\"overview-quality-gate-condition-metric little-spacer-right\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={metric.key} />\n            {metric.name}\n          </span>\n          {!isDiff && condition.period != null && (\n            <span className=\"overview-quality-gate-condition-period text-ellipsis little-spacer-right\">\n              {translate('quality_gates.conditions.new_code')}\n            </span>\n          )}\n          <span className=\"little-spacer-top small text-muted\">\n            {operator} {formatMeasure(threshold, metric.type)}\n          </span>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport ChevronDownIcon from 'sonar-ui-common/components/icons/ChevronDownIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { BranchLike } from '../../../types/branch-like';\nimport { QualityGateStatusConditionEnhanced } from '../../../types/quality-gates';\nimport QualityGateCondition from './QualityGateCondition';\n\nconst LEVEL_ORDER = ['ERROR', 'WARN'];\n\nexport interface QualityGateConditionsProps {\n  branchLike?: BranchLike;\n  component: Pick<T.Component, 'key'>;\n  collapsible?: boolean;\n  failedConditions: QualityGateStatusConditionEnhanced[];\n}\n\nconst MAX_CONDITIONS = 5;\n\nexport function QualityGateConditions(props: QualityGateConditionsProps) {\n  const { branchLike, collapsible, component, failedConditions } = props;\n  const [collapsed, toggleCollapsed] = React.useState(Boolean(collapsible));\n\n  if (failedConditions.length === 0) {\n    return null;\n  }\n\n  const sortedConditions = sortBy(failedConditions, condition =>\n    LEVEL_ORDER.indexOf(condition.level)\n  );\n\n  let renderConditions;\n  let renderCollapsed;\n  if (collapsed && sortedConditions.length > MAX_CONDITIONS) {\n    renderConditions = sortedConditions.slice(0, MAX_CONDITIONS);\n    renderCollapsed = true;\n  } else {\n    renderConditions = sortedConditions;\n    renderCollapsed = false;\n  }\n\n  return (\n    <div\n      className=\"overview-quality-gate-conditions-list\"\n      id=\"overview-quality-gate-conditions-list\">\n      {renderConditions.map(condition => (\n        <QualityGateCondition\n          branchLike={branchLike}\n          component={component}\n          condition={condition}\n          key={condition.measure.metric.key}\n        />\n      ))}\n      {renderCollapsed && (\n        <ButtonLink\n          className=\"overview-quality-gate-conditions-list-collapse\"\n          onClick={() => toggleCollapsed(!collapsed)}>\n          {translateWithParameters(\n            'overview.X_more_failed_conditions',\n            sortedConditions.length - MAX_CONDITIONS\n          )}\n          <ChevronDownIcon className=\"little-spacer-left\" />\n        </ButtonLink>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(QualityGateConditions);\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".overview{animation:fadeIn .5s forwards}.overview-panel{min-height:100%}.overview-panel-content{background:#fff;border:1px solid #e6e6e6}.overview-panel-title{text-transform:uppercase;font-weight:600;font-size:12px;margin-bottom:8px}.overview-panel-padded{padding:16px}.overview-panel-big-padded{padding:24px}.overview-panel-huge-padded{padding:40px}.overview-measures-row{min-height:105px;box-sizing:border-box}.overview-measures-row+.overview-measures-row{border-top:1px solid #e6e6e6}.overview-measures-value{line-height:1;font-size:36px;white-space:nowrap}.overview-measures-empty-value{height:1px;width:16px;background:#444}.overview-measures-aside{flex-basis:200px;box-sizing:border-box}.overview-measures-tab{width:128px}.overview-measures-emphasis{background:#f5f9fc}.overview-quality-gate-badge-large{padding:16px;color:#fff;box-sizing:border-box}.overview-quality-gate-badge-large.failed{background:#d4333f}.overview-quality-gate-badge-large.success{background:#0a0;height:160px}.overview-quality-gate-badge-large h3{color:#fff}.overview-quality-gate-conditions{padding-bottom:16px}.overview-quality-gate-conditions-project-name{padding:8px 0 8px 16px;font-size:16px;background:#e6e6e6}.overview-quality-gate-conditions-section-title{padding:16px 16px 8px;border-bottom:1px solid #e6e6e6;margin:0;font-size:13px}.overview-quality-gate-conditions-list{margin-bottom:16px}.overview-quality-gate-conditions-list-collapse{margin:16px 0}.overview-quality-gate-condition,.overview-quality-gate-condition:hover{display:block;color:#444;border:none;transition:background-color .3s ease}.overview-quality-gate-condition:hover{background-color:#ecf6fe}.overview-quality-gate-condition-container{padding:12px 8px 12px 24px;border-bottom:1px solid #e6e6e6}.overview-quality-gate-condition-value{flex:0 0 20%;line-height:1;font-size:16px}.overview-quality-gate-condition-value span{display:inline-block;vertical-align:top}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pr-overview{max-width:1020px;margin:0 auto}.pr-overview.has-conditions{max-width:1260px}.pr-overview-failed-conditions{flex:0 0 240px}.pr-overview .overview-quality-gate-condition:first-of-type{margin-top:0}.pr-overview .overview-quality-gate-condition{margin-top:12px;background-color:#fff;border-left:5px solid;border-top-right-radius:2px;border-bottom-right-radius:2px}.pr-overview .overview-quality-gate-condition-error{border-color:#d4333f}.pr-overview .overview-quality-gate-condition-warn{border-color:#ed7d20}.pr-overview .overview-quality-gate-condition:focus .overview-quality-gate-condition-container,.pr-overview .overview-quality-gate-condition:hover .overview-quality-gate-condition-container{border-color:inherit}.pr-overview .overview-quality-gate-condition-metric,.pr-overview .overview-quality-gate-condition-period{display:block;max-width:125px;line-height:16px;font-size:12px}.pr-overview .overview-quality-gate-condition-container{min-width:150px;min-height:52px;padding:8px;border-top:1px solid #e6e6e6;border-right:1px solid #e6e6e6;transition:border-color .3s ease}.pr-overview .overview-quality-gate-condition-value{font-size:24px}.pr-overview .overview-quality-gate-badge-large{width:240px;min-height:160px;color:hsla(0,0%,100%,.62)}.pr-pverview .overview-measures-row{min-height:85px}.pr-overview .overview-measures-aside{flex-basis:270px}@media (max-width:1200px){.pr-overview .overview-measures-aside{flex-basis:220px}}.overview-panel .activity-graph-legends{text-align:right;margin-top:-30px}.overview-panel .activity-graph-new-code-legend{position:relative;z-index:3;width:12px;overflow:hidden;margin-top:1px;margin-left:16px;text-indent:-9999px}.overview-panel .activity-graph-new-code-legend:after{margin:0}.overview-analysis{color:#777}.overview-analysis+.overview-analysis{margin-top:16px}.overview-activity-events{display:flex;flex-direction:column;align-items:flex-start}.overview-analysis-event{display:inline-block}.overview-analysis-event.badge{border-radius:2px;font-weight:700;font-size:12px;letter-spacing:0;overflow:hidden;text-overflow:ellipsis}.overview-analysis-event+.overview-analysis-event{margin-top:4px}.overview-panel .activity-graph-container{min-height:200px;padding-bottom:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export default \"Security-sensitive code that requires manual review to assess whether or not a vulnerability exists.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isDefinitionChangeEvent } from '../../projectActivity/components/DefinitionChangeEventInner';\nimport { isRichQualityGateEvent } from '../../projectActivity/components/RichQualityGateEventInner';\n\ninterface Props {\n  event: T.AnalysisEvent;\n}\n\nexport function Event({ event }: Props) {\n  if (event.category === 'VERSION') {\n    return (\n      <span\n        className=\"overview-analysis-event analysis-version\"\n        title={`${translate('version')} ${event.name}`}>\n        {event.name}\n      </span>\n    );\n  }\n\n  const eventCategory = translate('event.category', event.category);\n  if (isDefinitionChangeEvent(event)) {\n    return (\n      <div className=\"overview-analysis-event\">\n        <span className=\"note\">{eventCategory}</span>\n      </div>\n    );\n  }\n\n  if (isRichQualityGateEvent(event)) {\n    return (\n      <div className=\"overview-analysis-event\">\n        <span className=\"note\">{eventCategory}:</span>{' '}\n        {event.qualityGate.stillFailing ? (\n          <FormattedMessage\n            defaultMessage={translate('event.quality_gate.still_x')}\n            id=\"event.quality_gate.still_x\"\n            values={{ status: <Level level={event.qualityGate.status} small={true} /> }}\n          />\n        ) : (\n          <Level level={event.qualityGate.status} small={true} />\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"overview-analysis-event\">\n      <span className=\"note\">{eventCategory}:</span>{' '}\n      {event.description ? (\n        <strong title={event.description}>{event.name}</strong>\n      ) : (\n        <strong>{event.name}</strong>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(Event);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport DateTooltipFormatter from 'sonar-ui-common/components/intl/DateTooltipFormatter';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { ComponentQualifier } from '../../../types/component';\nimport Event from './Event';\n\nexport interface AnalysisProps {\n  analysis: T.Analysis;\n  qualifier: string;\n}\n\nexport function Analysis({ analysis, ...props }: AnalysisProps) {\n  const sortedEvents = sortBy(\n    analysis.events,\n    // versions first\n    event => (event.category === 'VERSION' ? 0 : 1),\n    // then the rest sorted by category\n    'category'\n  );\n\n  // use `TRK` for all components but applications\n  const qualifier =\n    props.qualifier === ComponentQualifier.Application\n      ? ComponentQualifier.Application\n      : ComponentQualifier.Project;\n\n  return (\n    <li className=\"overview-analysis\">\n      <div className=\"small little-spacer-bottom\">\n        <strong>\n          <DateTooltipFormatter date={analysis.date} />\n        </strong>\n      </div>\n\n      {sortedEvents.length > 0 ? (\n        <div className=\"overview-activity-events\">\n          {sortedEvents.map(event => (\n            <Event event={event} key={event.key} />\n          ))}\n        </div>\n      ) : (\n        <span className=\"note\">{translate('project_activity.analyzed', qualifier)}</span>\n      )}\n    </li>\n  );\n}\n\nexport default React.memo(Analysis);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport GraphsHeader from '../../../components/activity-graph/GraphsHeader';\nimport GraphsHistory from '../../../components/activity-graph/GraphsHistory';\nimport {\n  DEFAULT_GRAPH,\n  generateSeries,\n  getDisplayedHistoryMetrics,\n  splitSeriesInGraphs\n} from '../../../components/activity-graph/utils';\nimport ActivityLink from '../../../components/common/ActivityLink';\nimport { BranchLike } from '../../../types/branch-like';\nimport { GraphType, MeasureHistory } from '../../../types/project-activity';\nimport Analysis from './Analysis';\n\nexport interface ActivityPanelProps {\n  analyses?: T.Analysis[];\n  branchLike?: BranchLike;\n  component: Pick<T.Component, 'key' | 'qualifier'>;\n  graph?: GraphType;\n  leakPeriodDate?: Date;\n  loading?: boolean;\n  measuresHistory: MeasureHistory[];\n  metrics: T.Metric[];\n  onGraphChange: (graph: GraphType) => void;\n}\n\nconst MAX_ANALYSES_NB = 5;\nconst MAX_GRAPH_NB = 2;\nconst MAX_SERIES_PER_GRAPH = 3;\n\nexport function ActivityPanel(props: ActivityPanelProps) {\n  const {\n    analyses = [],\n    branchLike,\n    component,\n    graph = DEFAULT_GRAPH,\n    leakPeriodDate,\n    loading,\n    measuresHistory,\n    metrics\n  } = props;\n\n  const series = generateSeries(\n    measuresHistory,\n    graph,\n    metrics,\n    getDisplayedHistoryMetrics(graph, [])\n  );\n  const graphs = splitSeriesInGraphs(series, MAX_GRAPH_NB, MAX_SERIES_PER_GRAPH);\n  let shownLeakPeriodDate;\n  if (leakPeriodDate !== undefined) {\n    const startDate = measuresHistory.reduce((oldest: Date, { history }) => {\n      if (history.length > 0) {\n        const date = parseDate(history[0].date);\n        return oldest.getTime() > date.getTime() ? date : oldest;\n      } else {\n        return oldest;\n      }\n    }, new Date());\n    shownLeakPeriodDate =\n      startDate.getTime() > leakPeriodDate.getTime() ? startDate : leakPeriodDate;\n  }\n\n  const filteredAnalyses = analyses.filter(a => a.events.length > 0).slice(0, MAX_ANALYSES_NB);\n\n  return (\n    <div className=\"overview-panel big-spacer-top\" data-test=\"overview__activity-panel\">\n      <h2 className=\"overview-panel-title\">{translate('overview.activity')}</h2>\n\n      <div className=\"overview-panel-content\">\n        <div className=\"display-flex-row\">\n          <div className=\"display-flex-column flex-1\">\n            <div aria-hidden={true} className=\"overview-panel-padded display-flex-column flex-1\">\n              <GraphsHeader graph={graph} metrics={metrics} updateGraph={props.onGraphChange} />\n              <GraphsHistory\n                analyses={[]}\n                graph={graph}\n                graphs={graphs}\n                leakPeriodDate={shownLeakPeriodDate}\n                loading={Boolean(loading)}\n                measuresHistory={measuresHistory}\n                series={series}\n              />\n            </div>\n\n            <div className=\"overview-panel-padded bordered-top text-right\">\n              <ActivityLink branchLike={branchLike} component={component.key} graph={graph} />\n            </div>\n          </div>\n\n          <div className=\"overview-panel-padded bordered-left width-30\">\n            <div data-test=\"overview__activity-analyses\">\n              <DeferredSpinner\n                className=\"spacer-top spacer-left\"\n                loading={analyses.length === 0 && loading}>\n                {analyses.length === 0 ? (\n                  <p className=\"spacer-top spacer-left note\">{translate('no_results')}</p>\n                ) : (\n                  <ul className=\"spacer-top spacer-left\">\n                    {filteredAnalyses.map(analysis => (\n                      <Analysis\n                        analysis={analysis}\n                        key={analysis.key}\n                        qualifier={component.qualifier}\n                      />\n                    ))}\n                  </ul>\n                )}\n              </DeferredSpinner>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(ActivityPanel);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocalizedMetricName } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport DrilldownLink from '../../../components/shared/DrilldownLink';\nimport { findMeasure } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MetricKey } from '../../../types/metrics';\n\nexport interface DrilldownMeasureValueProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  measures: T.MeasureEnhanced[];\n  metric: MetricKey;\n}\n\nexport function DrilldownMeasureValue(props: DrilldownMeasureValueProps) {\n  const { branchLike, component, measures, metric } = props;\n  const measure = findMeasure(measures, metric);\n\n  let content;\n  if (!measure) {\n    content = <span className=\"overview-measures-value text-light\">-</span>;\n  } else {\n    content = (\n      <span>\n        <DrilldownLink\n          branchLike={branchLike}\n          className=\"overview-measures-value text-light\"\n          component={component.key}\n          metric={metric}>\n          {formatMeasure(measure.value, 'SHORT_INT')}\n        </DrilldownLink>\n      </span>\n    );\n  }\n\n  return (\n    <div className=\"display-flex-column display-flex-center\">\n      {content}\n      <span className=\"spacer-top\">{getLocalizedMetricName({ key: metric })}</span>\n    </div>\n  );\n}\n\nexport default React.memo(DrilldownMeasureValue);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { ApplicationPeriod } from '../../../types/application';\n\nexport interface ApplicationLeakPeriodInfoProps {\n  leakPeriod: ApplicationPeriod;\n}\n\nexport function ApplicationLeakPeriodInfo({ leakPeriod }: ApplicationLeakPeriodInfoProps) {\n  return (\n    <div className=\"note spacer-top display-inline-flex-center\">\n      <DateFromNow date={leakPeriod.date}>\n        {fromNow => translateWithParameters('overview.started_x', fromNow)}\n      </DateFromNow>\n      <HelpTooltip\n        className=\"little-spacer-left\"\n        overlay={translateWithParameters(\n          'overview.max_new_code_period_from_x',\n          leakPeriod.projectName\n        )}\n      />\n    </div>\n  );\n}\n\nexport default React.memo(ApplicationLeakPeriodInfo);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedIntl, injectIntl } from 'react-intl';\nimport { longFormatterOption } from 'sonar-ui-common/components/intl/DateFormatter';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport { formatterOption } from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getPeriodDate, getPeriodLabel } from '../../../helpers/periods';\n\nexport interface ProjectLeakPeriodInfoProps {\n  intl: Pick<InjectedIntl, 'formatDate' | 'formatTime'>;\n  leakPeriod: T.Period;\n}\n\nexport function ProjectLeakPeriodInfo(props: ProjectLeakPeriodInfoProps) {\n  const {\n    intl: { formatDate, formatTime },\n    leakPeriod\n  } = props;\n\n  const leakPeriodLabel = getPeriodLabel(\n    leakPeriod,\n    ['manual_baseline', 'SPECIFIC_ANALYSIS'].includes(leakPeriod.mode)\n      ? (date: string) => formatTime(date, formatterOption)\n      : (date: string) => formatDate(date, longFormatterOption)\n  );\n\n  if (!leakPeriodLabel) {\n    return null;\n  }\n\n  if (leakPeriod.mode === 'days' || leakPeriod.mode === 'NUMBER_OF_DAYS') {\n    return <div className=\"note spacer-top\">{leakPeriodLabel} </div>;\n  }\n\n  const leakPeriodDate = getPeriodDate(leakPeriod);\n\n  if (!leakPeriodDate) {\n    return null;\n  }\n\n  return (\n    <>\n      <div className=\"note spacer-top\">{leakPeriodLabel}</div>\n      <DateFromNow date={leakPeriodDate}>\n        {fromNow => (\n          <div className=\"note little-spacer-top\">\n            {translateWithParameters(\n              leakPeriod.mode === 'previous_analysis'\n                ? 'overview.previous_analysis_x'\n                : 'overview.started_x',\n              fromNow\n            )}\n          </div>\n        )}\n      </DateFromNow>\n    </>\n  );\n}\n\nexport default React.memo(injectIntl(ProjectLeakPeriodInfo));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { isApplicationPeriod } from '../../../helpers/periods';\nimport { ApplicationPeriod } from '../../../types/application';\nimport ApplicationLeakPeriodInfo from './ApplicationLeakPeriodInfo';\nimport ProjectLeakPeriodInfo from './ProjectLeakPeriodInfo';\n\nexport interface LeakPeriodInfoProps {\n  leakPeriod: T.Period | ApplicationPeriod;\n}\n\nexport function LeakPeriodInfo({ leakPeriod }: LeakPeriodInfoProps) {\n  if (isApplicationPeriod(leakPeriod)) {\n    return <ApplicationLeakPeriodInfo leakPeriod={leakPeriod} />;\n  } else {\n    return <ProjectLeakPeriodInfo leakPeriod={leakPeriod} />;\n  }\n}\n\nexport default React.memo(LeakPeriodInfo);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getLeakValue } from '../../../components/measure/utils';\nimport DrilldownLink from '../../../components/shared/DrilldownLink';\nimport { findMeasure, localizeMetric } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MetricKey } from '../../../types/metrics';\n\nexport interface DebtValueProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  measures: T.MeasureEnhanced[];\n  useDiffMetric?: boolean;\n}\n\nexport function DebtValue(props: DebtValueProps) {\n  const { branchLike, component, measures, useDiffMetric = false } = props;\n  const metric = useDiffMetric ? MetricKey.new_technical_debt : MetricKey.sqale_index;\n  const measure = findMeasure(measures, metric);\n\n  let value;\n  if (measure) {\n    value = useDiffMetric ? getLeakValue(measure) : measure.value;\n  }\n\n  return (\n    <>\n      {value === undefined ? (\n        <span aria-label={translate('no_data')} className=\"overview-measures-empty-value\" />\n      ) : (\n        <DrilldownLink\n          branchLike={branchLike}\n          className=\"overview-measures-value text-light\"\n          component={component.key}\n          metric={metric}>\n          {formatMeasure(value, 'WORK_DUR')}\n        </DrilldownLink>\n      )}\n      <span className=\"big-spacer-left\">\n        {measure ? getLocalizedMetricName(measure.metric, true) : localizeMetric(metric)}\n      </span>\n    </>\n  );\n}\n\nexport default React.memo(DebtValue);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getLeakValue } from '../../../components/measure/utils';\nimport CoverageRating from '../../../components/ui/CoverageRating';\nimport { findMeasure } from '../../../helpers/measures';\nimport { MetricKey } from '../../../types/metrics';\n\nexport interface SecurityHotspotsReviewedProps {\n  measures: T.MeasureEnhanced[];\n  useDiffMetric?: boolean;\n}\n\nexport default function SecurityHotspotsReviewed(props: SecurityHotspotsReviewedProps) {\n  const { measures, useDiffMetric = false } = props;\n  const metric = useDiffMetric\n    ? MetricKey.new_security_hotspots_reviewed\n    : MetricKey.security_hotspots_reviewed;\n  const measure = findMeasure(measures, metric);\n\n  let value;\n  if (measure) {\n    value = useDiffMetric ? getLeakValue(measure) : measure.value;\n  }\n\n  return (\n    <>\n      {value === undefined ? (\n        <span aria-label={translate('no_data')} className=\"overview-measures-empty-value\" />\n      ) : (\n        <>\n          <CoverageRating value={value} />\n          <span className=\"huge spacer-left\">{formatMeasure(value, 'PERCENT')}</span>\n        </>\n      )}\n      <span className=\"big-spacer-left\">\n        {translate('overview.measures.security_hotspots_reviewed')}\n      </span>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport IssueLabel from '../components/IssueLabel';\nimport IssueRating from '../components/IssueRating';\nimport { IssueType } from '../utils';\nimport DebtValue from './DebtValue';\nimport SecurityHotspotsReviewed from './SecurityHotspotsReviewed';\n\nexport interface MeasuresPanelIssueMeasureRowProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  isNewCodeTab: boolean;\n  measures: T.MeasureEnhanced[];\n  type: IssueType;\n}\n\nexport default function MeasuresPanelIssueMeasureRow(props: MeasuresPanelIssueMeasureRowProps) {\n  const { branchLike, component, isNewCodeTab, measures, type } = props;\n\n  const isApp = component.qualifier === ComponentQualifier.Application;\n\n  return (\n    <div\n      className=\"display-flex-row overview-measures-row\"\n      data-test={`overview__measures-${type.toString().toLowerCase()}`}>\n      {type === IssueType.CodeSmell ? (\n        <>\n          <div className=\"overview-panel-big-padded flex-1 small display-flex-center big-spacer-left\">\n            <DebtValue\n              branchLike={branchLike}\n              component={component}\n              measures={measures}\n              useDiffMetric={isNewCodeTab}\n            />\n          </div>\n          <div className=\"flex-1 small display-flex-center\">\n            <IssueLabel\n              branchLike={branchLike}\n              component={component}\n              measures={measures}\n              type={type}\n              useDiffMetric={isNewCodeTab}\n            />\n          </div>\n        </>\n      ) : (\n        <div className=\"overview-panel-big-padded flex-1 small display-flex-center big-spacer-left\">\n          <IssueLabel\n            branchLike={branchLike}\n            component={component}\n            docTooltip={\n              type === IssueType.SecurityHotspot\n                ? import(/* webpackMode: \"eager\" */ 'Docs/tooltips/metrics/security-hotspots.md')\n                : undefined\n            }\n            measures={measures}\n            type={type}\n            useDiffMetric={isNewCodeTab}\n          />\n        </div>\n      )}\n      {type === IssueType.SecurityHotspot && (\n        <div className=\"flex-1 small display-flex-center\">\n          <SecurityHotspotsReviewed measures={measures} useDiffMetric={isNewCodeTab} />\n        </div>\n      )}\n      {(!isApp || !isNewCodeTab) && (\n        <div className=\"overview-panel-big-padded overview-measures-aside display-flex-center\">\n          <IssueRating\n            branchLike={branchLike}\n            component={component}\n            measures={measures}\n            type={type}\n            useDiffMetric={isNewCodeTab}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BoxedTabs from 'sonar-ui-common/components/controls/BoxedTabs';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isDiffMetric } from 'sonar-ui-common/helpers/measures';\nimport { rawSizes } from '../../../app/theme';\nimport { findMeasure } from '../../../helpers/measures';\nimport { ApplicationPeriod } from '../../../types/application';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { MetricKey } from '../../../types/metrics';\nimport MeasurementLabel from '../components/MeasurementLabel';\nimport { IssueType, MeasurementType } from '../utils';\nimport { DrilldownMeasureValue } from './DrilldownMeasureValue';\nimport { LeakPeriodInfo } from './LeakPeriodInfo';\nimport MeasuresPanelIssueMeasureRow from './MeasuresPanelIssueMeasureRow';\nimport MeasuresPanelNoNewCode from './MeasuresPanelNoNewCode';\n\nexport interface MeasuresPanelProps {\n  appLeak?: ApplicationPeriod;\n  branchLike?: BranchLike;\n  component: T.Component;\n  loading?: boolean;\n  measures?: T.MeasureEnhanced[];\n  period?: T.Period;\n}\n\nexport enum MeasuresPanelTabs {\n  New,\n  Overall\n}\n\nexport function MeasuresPanel(props: MeasuresPanelProps) {\n  const { appLeak, branchLike, component, loading, measures = [], period } = props;\n\n  const hasDiffMeasures = measures.some(m => isDiffMetric(m.metric.key));\n  const isApp = component.qualifier === ComponentQualifier.Application;\n  const leakPeriod = isApp ? appLeak : period;\n\n  const [tab, selectTab] = React.useState(MeasuresPanelTabs.New);\n\n  const isNewCodeTab = tab === MeasuresPanelTabs.New;\n\n  React.useEffect(() => {\n    // Open Overall tab by default if there are no new measures.\n    if (loading === false && !hasDiffMeasures && isNewCodeTab) {\n      selectTab(MeasuresPanelTabs.Overall);\n    }\n    // In this case, we explicitly do NOT want to mark tab as a dependency, as\n    // it would prevent the user from selecting it, even if it's empty.\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n  }, [loading, hasDiffMeasures]);\n\n  const tabs = [\n    {\n      key: MeasuresPanelTabs.New,\n      label: (\n        <div className=\"text-left overview-measures-tab\">\n          <span className=\"text-bold\">{translate('overview.new_code')}</span>\n          {leakPeriod && <LeakPeriodInfo leakPeriod={leakPeriod} />}\n        </div>\n      )\n    },\n    {\n      key: MeasuresPanelTabs.Overall,\n      label: (\n        <div className=\"text-left overview-measures-tab\">\n          <span className=\"text-bold\" style={{ position: 'absolute', top: 2 * rawSizes.grid }}>\n            {translate('overview.overall_code')}\n          </span>\n        </div>\n      )\n    }\n  ];\n\n  return (\n    <div className=\"overview-panel\" data-test=\"overview__measures-panel\">\n      <h2 className=\"overview-panel-title\">{translate('overview.measures')}</h2>\n\n      {loading ? (\n        <div className=\"overview-panel-content overview-panel-big-padded\">\n          <DeferredSpinner loading={loading} />\n        </div>\n      ) : (\n        <>\n          <BoxedTabs onSelect={selectTab} selected={tab} tabs={tabs} />\n\n          <div className=\"overview-panel-content flex-1 bordered\">\n            {!hasDiffMeasures && isNewCodeTab ? (\n              <MeasuresPanelNoNewCode\n                branchLike={branchLike}\n                component={component}\n                period={period}\n              />\n            ) : (\n              <>\n                {[\n                  IssueType.Bug,\n                  IssueType.Vulnerability,\n                  IssueType.SecurityHotspot,\n                  IssueType.CodeSmell\n                ].map((type: IssueType) => (\n                  <MeasuresPanelIssueMeasureRow\n                    branchLike={branchLike}\n                    component={component}\n                    isNewCodeTab={isNewCodeTab}\n                    key={type}\n                    measures={measures}\n                    type={type}\n                  />\n                ))}\n\n                <div className=\"display-flex-row overview-measures-row\">\n                  {(findMeasure(measures, MetricKey.coverage) ||\n                    findMeasure(measures, MetricKey.new_coverage)) && (\n                    <div\n                      className=\"overview-panel-huge-padded flex-1 bordered-right display-flex-center\"\n                      data-test=\"overview__measures-coverage\">\n                      <MeasurementLabel\n                        branchLike={branchLike}\n                        centered={isNewCodeTab}\n                        component={component}\n                        measures={measures}\n                        type={MeasurementType.Coverage}\n                        useDiffMetric={isNewCodeTab}\n                      />\n\n                      {tab === MeasuresPanelTabs.Overall && (\n                        <div className=\"huge-spacer-left\">\n                          <DrilldownMeasureValue\n                            branchLike={branchLike}\n                            component={component}\n                            measures={measures}\n                            metric={MetricKey.tests}\n                          />\n                        </div>\n                      )}\n                    </div>\n                  )}\n                  <div className=\"overview-panel-huge-padded flex-1 display-flex-center\">\n                    <MeasurementLabel\n                      branchLike={branchLike}\n                      centered={isNewCodeTab}\n                      component={component}\n                      measures={measures}\n                      type={MeasurementType.Duplication}\n                      useDiffMetric={isNewCodeTab}\n                    />\n\n                    {tab === MeasuresPanelTabs.Overall && (\n                      <div className=\"huge-spacer-left\">\n                        <DrilldownMeasureValue\n                          branchLike={branchLike}\n                          component={component}\n                          measures={measures}\n                          metric={MetricKey.duplicated_blocks}\n                        />\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(MeasuresPanel);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\n\nexport interface MeasuresPanelNoNewCodeProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  period?: T.Period;\n}\n\nexport default function MeasuresPanelNoNewCode(props: MeasuresPanelNoNewCodeProps) {\n  const { branchLike, component, period } = props;\n\n  const isApp = component.qualifier === ComponentQualifier.Application;\n  /*\n   * If the period is \"reference branch\"-based, and if there's no date, it means\n   * that we're not lacking a second analysis, but that we'll never have new code because the\n   * selected reference branch is itself, or has disappeared for some reason.\n   * Makes no sense for Apps (project aggregate)\n   */\n  const hasBadNewCodeSetting =\n    !isApp && !!period && !period.date && period.mode === 'REFERENCE_BRANCH';\n\n  const showSettingsLink = !!(component.configuration && component.configuration.showSettings);\n\n  return (\n    <div className=\"display-flex-center display-flex-justify-center\" style={{ height: 500 }}>\n      <img\n        alt=\"\" /* Make screen readers ignore this image; it's purely eye candy. */\n        className=\"spacer-right\"\n        height={52}\n        src={`${getBaseUrl()}/images/source-code.svg`}\n      />\n      <div className=\"big-spacer-left text-muted\" style={{ maxWidth: 500 }}>\n        <p className=\"spacer-bottom big-spacer-top big\">\n          {hasBadNewCodeSetting\n            ? translate('overview.measures.bad_setting.explanation')\n            : translate('overview.measures.empty_explanation')}\n        </p>\n        {hasBadNewCodeSetting ? (\n          showSettingsLink && (\n            <p>\n              <FormattedMessage\n                defaultMessage={translate('overview.measures.bad_setting.link')}\n                id=\"overview.measures.bad_setting.link\"\n                values={{\n                  setting_link: (\n                    <Link\n                      to={{\n                        pathname: '/project/baseline',\n                        query: { id: component.key, ...getBranchLikeQuery(branchLike) }\n                      }}>\n                      {translate('settings.new_code_period.category')}\n                    </Link>\n                  )\n                }}\n              />\n            </p>\n          )\n        ) : (\n          <p>\n            <FormattedMessage\n              defaultMessage={translate('overview.measures.empty_link')}\n              id=\"overview.measures.empty_link\"\n              values={{\n                learn_more_link: (\n                  <Link to=\"/documentation/user-guide/clean-as-you-code/\">\n                    {translate('learn_more')}\n                  </Link>\n                )\n              }}\n            />\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getBranchLikeDisplayName, isMainBranch } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { MetricKey } from '../../../types/metrics';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.Component;\n  measures?: T.MeasureEnhanced[];\n}\n\nexport function NoCodeWarning({ branchLike, component, measures }: Props) {\n  const isApp = component.qualifier === ComponentQualifier.Application;\n\n  /* eslint-disable no-lonely-if */\n  // - Is App\n  //     - No measures, OR measures, but no projects => empty\n  //     - Else => no lines of code\n  // - Else\n  //   - No measures => empty\n  //       - Main branch?\n  //       - LLB?\n  //       - No branch info?\n  //   - Measures, but no ncloc (checked in isEmpty()) => no lines of code\n  //       - Main branch?\n  //       - LLB?\n  //       - No branch info?\n  let title = translate('overview.project.no_lines_of_code');\n  if (isApp) {\n    if (\n      measures === undefined ||\n      measures.find(measure => measure.metric.key === MetricKey.projects) === undefined\n    ) {\n      title = translate('portfolio.app.empty');\n    } else {\n      title = translate('portfolio.app.no_lines_of_code');\n    }\n  } else {\n    if (measures === undefined || measures.length === 0) {\n      if (isMainBranch(branchLike)) {\n        title = translate('overview.project.main_branch_empty');\n      } else if (branchLike !== undefined) {\n        title = translateWithParameters(\n          'overview.project.branch_X_empty',\n          getBranchLikeDisplayName(branchLike)\n        );\n      } else {\n        title = translate('overview.project.empty');\n      }\n    } else {\n      if (isMainBranch(branchLike)) {\n        title = translate('overview.project.main_branch_no_lines_of_code');\n      } else if (branchLike !== undefined) {\n        title = translateWithParameters(\n          'overview.project.branch_X_no_lines_of_code',\n          getBranchLikeDisplayName(branchLike)\n        );\n      }\n    }\n  }\n  /* eslint-enable no-lonely-if */\n\n  return (\n    <Alert display=\"banner\" variant=\"warning\">\n      {title}\n    </Alert>\n  );\n}\n\nexport default React.memo(NoCodeWarning);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { QualityGateStatus } from '../../../types/quality-gates';\nimport { QualityGateConditions } from '../components/QualityGateConditions';\n\nexport interface QualityGatePanelSectionProps {\n  branchLike?: BranchLike;\n  component: Pick<T.Component, 'key' | 'qualifier'>;\n  qgStatus: QualityGateStatus;\n}\n\nexport function QualityGatePanelSection(props: QualityGatePanelSectionProps) {\n  const { component, qgStatus } = props;\n  const newCodeFailedConditions = qgStatus.failedConditions.filter(c => isDiffMetric(c.metric));\n  const overallFailedConditions = qgStatus.failedConditions.filter(c => !isDiffMetric(c.metric));\n\n  if (newCodeFailedConditions.length === 0 && overallFailedConditions.length === 0) {\n    return null;\n  }\n\n  const showName = component.qualifier === ComponentQualifier.Application;\n\n  return (\n    <div className=\"overview-quality-gate-conditions\">\n      {showName && (\n        <h3 className=\"overview-quality-gate-conditions-project-name\">{qgStatus.name}</h3>\n      )}\n\n      {newCodeFailedConditions.length > 0 && (\n        <>\n          <h4 className=\"overview-quality-gate-conditions-section-title\">\n            {translate('quality_gates.conditions.new_code')}\n          </h4>\n          <QualityGateConditions\n            component={qgStatus}\n            branchLike={qgStatus.branchLike}\n            failedConditions={newCodeFailedConditions}\n          />\n        </>\n      )}\n\n      {overallFailedConditions.length > 0 && (\n        <>\n          <h4 className=\"overview-quality-gate-conditions-section-title\">\n            {translate('quality_gates.conditions.overall_code')}\n          </h4>\n          <QualityGateConditions\n            component={qgStatus}\n            branchLike={qgStatus.branchLike}\n            failedConditions={overallFailedConditions}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(QualityGatePanelSection);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { QualityGateStatus } from '../../../types/quality-gates';\nimport QualityGatePanelSection from './QualityGatePanelSection';\n\nexport interface QualityGatePanelProps {\n  component: Pick<T.Component, 'key' | 'qualifier'>;\n  loading?: boolean;\n  qgStatuses?: QualityGateStatus[];\n}\n\nexport function QualityGatePanel(props: QualityGatePanelProps) {\n  const { component, loading, qgStatuses = [] } = props;\n\n  if (qgStatuses === undefined) {\n    return null;\n  }\n\n  const overallLevel = qgStatuses.map(s => s.status).includes('ERROR') ? 'ERROR' : 'OK';\n  const success = overallLevel === 'OK';\n\n  const overallFailedConditionsCount = qgStatuses.reduce(\n    (acc, qgStatus) => acc + qgStatus.failedConditions.length,\n    0\n  );\n\n  const showIgnoredConditionWarning =\n    component.qualifier === 'TRK' &&\n    qgStatuses !== undefined &&\n    qgStatuses.some(p => Boolean(p.ignoredConditions));\n\n  return (\n    <div className=\"overview-panel\" data-test=\"overview__quality-gate-panel\">\n      <h2 className=\"overview-panel-title display-inline-flex-center\">\n        {translate('overview.quality_gate')}{' '}\n        <DocTooltip\n          className=\"little-spacer-left\"\n          doc={import(\n            /* webpackMode: \"eager\" */ 'Docs/tooltips/quality-gates/project-homepage-quality-gate.md'\n          )}\n        />\n      </h2>\n\n      {showIgnoredConditionWarning && (\n        <Alert className=\"big-spacer-bottom\" display=\"inline\" variant=\"info\">\n          <span className=\"text-middle\">\n            {translate('overview.quality_gate.ignored_conditions')}\n          </span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('overview.quality_gate.ignored_conditions.tooltip')}\n          />\n        </Alert>\n      )}\n\n      <div className=\"overview-panel-content\">\n        {loading ? (\n          <div className=\"overview-panel-big-padded\">\n            <DeferredSpinner loading={loading} />\n          </div>\n        ) : (\n          <>\n            <div\n              className={classNames('overview-quality-gate-badge-large', {\n                failed: !success,\n                success\n              })}>\n              <h3 className=\"big-spacer-bottom huge\">{translate('metric.level', overallLevel)}</h3>\n\n              <span className=\"small\">\n                {overallFailedConditionsCount > 0\n                  ? translateWithParameters(\n                      'overview.X_conditions_failed',\n                      overallFailedConditionsCount\n                    )\n                  : translate('overview.quality_gate_all_conditions_passed')}\n              </span>\n            </div>\n\n            {overallFailedConditionsCount > 0 && (\n              <div data-test=\"overview__quality-gate-conditions\">\n                {qgStatuses.map(qgStatus => (\n                  <QualityGatePanelSection\n                    component={component}\n                    key={qgStatus.key}\n                    qgStatus={qgStatus}\n                  />\n                ))}\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(QualityGatePanel);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport { ApplicationPeriod } from '../../../types/application';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { GraphType, MeasureHistory } from '../../../types/project-activity';\nimport { QualityGateStatus } from '../../../types/quality-gates';\nimport ActivityPanel from './ActivityPanel';\nimport { MeasuresPanel } from './MeasuresPanel';\nimport NoCodeWarning from './NoCodeWarning';\nimport QualityGatePanel from './QualityGatePanel';\n\nexport interface BranchOverviewRendererProps {\n  analyses?: T.Analysis[];\n  appLeak?: ApplicationPeriod;\n  branchLike?: BranchLike;\n  component: T.Component;\n  graph?: GraphType;\n  loadingHistory?: boolean;\n  loadingStatus?: boolean;\n  measures?: T.MeasureEnhanced[];\n  measuresHistory?: MeasureHistory[];\n  metrics?: T.Metric[];\n  onGraphChange: (graph: GraphType) => void;\n  period?: T.Period;\n  projectIsEmpty?: boolean;\n  qgStatuses?: QualityGateStatus[];\n}\n\nexport function BranchOverviewRenderer(props: BranchOverviewRendererProps) {\n  const {\n    analyses,\n    appLeak,\n    branchLike,\n    component,\n    graph,\n    loadingHistory,\n    loadingStatus,\n    measures,\n    measuresHistory = [],\n    metrics = [],\n    onGraphChange,\n    period,\n    projectIsEmpty,\n    qgStatuses\n  } = props;\n\n  const leakPeriod = component.qualifier === ComponentQualifier.Application ? appLeak : period;\n\n  return (\n    <div className=\"page page-limited\">\n      <div className=\"overview\">\n        <A11ySkipTarget anchor=\"overview_main\" />\n\n        {projectIsEmpty ? (\n          <NoCodeWarning branchLike={branchLike} component={component} measures={measures} />\n        ) : (\n          <div className=\"display-flex-row\">\n            <div className=\"width-25 big-spacer-right\">\n              <QualityGatePanel\n                component={component}\n                loading={loadingStatus}\n                qgStatuses={qgStatuses}\n              />\n            </div>\n\n            <div className=\"flex-1\">\n              <div className=\"display-flex-column\">\n                <MeasuresPanel\n                  appLeak={appLeak}\n                  branchLike={branchLike}\n                  component={component}\n                  loading={loadingStatus}\n                  measures={measures}\n                  period={period}\n                />\n\n                <ActivityPanel\n                  analyses={analyses}\n                  branchLike={branchLike}\n                  component={component}\n                  graph={graph}\n                  leakPeriodDate={leakPeriod && parseDate(leakPeriod.date)}\n                  loading={loadingHistory}\n                  measuresHistory={measuresHistory}\n                  metrics={metrics}\n                  onGraphChange={onGraphChange}\n                />\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(BranchOverviewRenderer);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy, uniq } from 'lodash';\nimport * as React from 'react';\nimport { parseDate, toNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getApplicationDetails, getApplicationLeak } from '../../../api/application';\nimport { getMeasuresWithPeriodAndMetrics } from '../../../api/measures';\nimport { getProjectActivity } from '../../../api/projectActivity';\nimport { getApplicationQualityGate, getQualityGateProjectStatus } from '../../../api/quality-gates';\nimport { getAllTimeMachineData } from '../../../api/time-machine';\nimport {\n  getActivityGraph,\n  getHistoryMetrics,\n  saveActivityGraph\n} from '../../../components/activity-graph/utils';\nimport {\n  getBranchLikeDisplayName,\n  getBranchLikeQuery,\n  isMainBranch,\n  isSameBranchLike\n} from '../../../helpers/branch-like';\nimport { enhanceConditionWithMeasure, enhanceMeasuresWithMetrics } from '../../../helpers/measures';\nimport {\n  extractStatusConditionsFromApplicationStatusChildProject,\n  extractStatusConditionsFromProjectStatus\n} from '../../../helpers/qualityGates';\nimport { ApplicationPeriod } from '../../../types/application';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { MetricKey } from '../../../types/metrics';\nimport { GraphType, MeasureHistory } from '../../../types/project-activity';\nimport { QualityGateStatus, QualityGateStatusCondition } from '../../../types/quality-gates';\nimport '../styles.css';\nimport { HISTORY_METRICS_LIST, METRICS } from '../utils';\nimport BranchOverviewRenderer from './BranchOverviewRenderer';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.Component;\n}\n\ninterface State {\n  analyses?: T.Analysis[];\n  appLeak?: ApplicationPeriod;\n  graph: GraphType;\n  loadingHistory?: boolean;\n  loadingStatus?: boolean;\n  measures?: T.MeasureEnhanced[];\n  measuresHistory?: MeasureHistory[];\n  metrics?: T.Metric[];\n  period?: T.Period;\n  qgStatuses?: QualityGateStatus[];\n}\n\nexport const BRANCH_OVERVIEW_ACTIVITY_GRAPH = 'sonar_branch_overview.graph';\n\n// Get all history data over the past year.\nconst FROM_DATE = toNotSoISOString(new Date().setFullYear(new Date().getFullYear() - 1));\n\nexport default class BranchOverview extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n\n    const { graph } = getActivityGraph(BRANCH_OVERVIEW_ACTIVITY_GRAPH, props.component.key);\n    this.state = { graph };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadStatus();\n    this.loadHistory();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      this.props.component.key !== prevProps.component.key ||\n      !isSameBranchLike(this.props.branchLike, prevProps.branchLike)\n    ) {\n      this.loadStatus();\n      this.loadHistory();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStatus = () => {\n    if (this.props.component.qualifier === ComponentQualifier.Application) {\n      this.loadApplicationStatus();\n    } else {\n      this.loadProjectStatus();\n    }\n  };\n\n  loadApplicationStatus = async () => {\n    const { branchLike, component } = this.props;\n    this.setState({ loadingStatus: true });\n    // Start by loading the application quality gate info, as well as the meta\n    // data for the application as a whole.\n    const appStatus = await getApplicationQualityGate({\n      application: component.key,\n      ...getBranchLikeQuery(branchLike)\n    });\n    const { measures: appMeasures, metrics, period } = await this.loadMeasuresAndMeta(\n      component.key,\n      branchLike\n    );\n\n    const appBranchName =\n      (branchLike && !isMainBranch(branchLike) && getBranchLikeDisplayName(branchLike)) ||\n      undefined;\n\n    const appDetails = await getApplicationDetails(component.key, appBranchName);\n\n    // We also need to load the application leak periods separately.\n    getApplicationLeak(component.key, appBranchName).then(\n      leaks => {\n        if (this.mounted && leaks && leaks.length) {\n          const sortedLeaks = sortBy(leaks, leak => {\n            return new Date(leak.date);\n          });\n          this.setState({\n            appLeak: sortedLeaks[0]\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ appLeak: undefined });\n        }\n      }\n    );\n\n    // We need to load the measures for each project in an application\n    // individually, in order to display all QG conditions correctly. Loading\n    // them at the parent application level will not get all the necessary\n    // information, unfortunately, as they are aggregated.\n    Promise.all(\n      appStatus.projects.map(project => {\n        const projectDetails = appDetails.projects.find(p => p.key === project.key);\n        const projectBranchLike = projectDetails\n          ? { isMain: projectDetails.isMain, name: projectDetails.branch, excludedFromPurge: false }\n          : undefined;\n\n        return this.loadMeasuresAndMeta(\n          project.key,\n          projectBranchLike,\n          // Only load metrics that apply to failing QG conditions; we don't\n          // need the others anyway.\n          project.conditions.filter(c => c.status !== 'OK').map(c => c.metric)\n        ).then(({ measures }) => ({\n          measures,\n          project,\n          projectBranchLike\n        }));\n      })\n    ).then(\n      results => {\n        if (this.mounted) {\n          const qgStatuses = results.map(({ measures = [], project, projectBranchLike }) => {\n            const { key, name, status } = project;\n            const conditions = extractStatusConditionsFromApplicationStatusChildProject(project);\n            const failedConditions = this.getFailedConditions(conditions, measures);\n\n            return {\n              failedConditions,\n              key,\n              name,\n              status,\n              branchLike: projectBranchLike\n            };\n          });\n\n          this.setState({\n            loadingStatus: false,\n            measures: appMeasures,\n            metrics,\n            period,\n            qgStatuses\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingStatus: false, qgStatuses: undefined });\n        }\n      }\n    );\n  };\n\n  loadProjectStatus = async () => {\n    const {\n      branchLike,\n      component: { key, name }\n    } = this.props;\n    this.setState({ loadingStatus: true });\n\n    const projectStatus = await getQualityGateProjectStatus({\n      projectKey: key,\n      ...getBranchLikeQuery(branchLike)\n    });\n\n    // Get failing condition metric keys. We need measures for them as well to\n    // render them.\n    const metricKeys =\n      projectStatus.conditions !== undefined\n        ? uniq([...METRICS, ...projectStatus.conditions.map(c => c.metricKey)])\n        : METRICS;\n\n    this.loadMeasuresAndMeta(key, branchLike, metricKeys).then(\n      ({ measures, metrics, period }) => {\n        if (this.mounted && measures) {\n          const { ignoredConditions, status } = projectStatus;\n          const conditions = extractStatusConditionsFromProjectStatus(projectStatus);\n          const failedConditions = this.getFailedConditions(conditions, measures);\n\n          const qgStatus = {\n            ignoredConditions,\n            failedConditions,\n            key,\n            name,\n            status,\n            branchLike\n          };\n\n          this.setState({\n            loadingStatus: false,\n            measures,\n            metrics,\n            period,\n            qgStatuses: [qgStatus]\n          });\n        } else if (this.mounted) {\n          this.setState({ loadingStatus: false, qgStatuses: undefined });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingStatus: false, qgStatuses: undefined });\n        }\n      }\n    );\n  };\n\n  loadMeasuresAndMeta = (\n    componentKey: string,\n    branchLike?: BranchLike,\n    metricKeys: string[] = []\n  ) => {\n    return getMeasuresWithPeriodAndMetrics(\n      componentKey,\n      metricKeys.length > 0 ? metricKeys : METRICS,\n      getBranchLikeQuery(branchLike)\n    ).then(({ component: { measures }, metrics, period }) => {\n      return {\n        measures: enhanceMeasuresWithMetrics(measures || [], metrics || []),\n        metrics,\n        period\n      };\n    });\n  };\n\n  loadHistory = () => {\n    this.setState({ loadingHistory: true });\n\n    return Promise.all([this.loadHistoryMeasures(), this.loadAnalyses()]).then(\n      this.doneLoadingHistory,\n      this.doneLoadingHistory\n    );\n  };\n\n  loadHistoryMeasures = () => {\n    const { branchLike, component } = this.props;\n    const { graph } = this.state;\n\n    const graphMetrics = getHistoryMetrics(graph, []);\n    const metrics = uniq([...HISTORY_METRICS_LIST, ...graphMetrics]);\n\n    return getAllTimeMachineData({\n      ...getBranchLikeQuery(branchLike),\n      from: FROM_DATE,\n      component: component.key,\n      metrics: metrics.join()\n    }).then(\n      ({ measures }) => {\n        if (this.mounted) {\n          this.setState({\n            measuresHistory: measures.map(measure => ({\n              metric: measure.metric,\n              history: measure.history.map(analysis => ({\n                date: parseDate(analysis.date),\n                value: analysis.value\n              }))\n            }))\n          });\n        }\n      },\n      () => {}\n    );\n  };\n\n  loadAnalyses = () => {\n    const { branchLike } = this.props;\n\n    return getProjectActivity({\n      ...getBranchLikeQuery(branchLike),\n      project: this.getTopLevelComponent(),\n      from: FROM_DATE\n    }).then(\n      ({ analyses }) => {\n        if (this.mounted) {\n          this.setState({\n            analyses\n          });\n        }\n      },\n      () => {}\n    );\n  };\n\n  getFailedConditions = (\n    conditions: QualityGateStatusCondition[],\n    measures: T.MeasureEnhanced[]\n  ) => {\n    return (\n      conditions\n        .filter(c => c.level !== 'OK')\n        // Enhance them with Metric information, which will be needed\n        // to render the conditions properly.\n        .map(c => enhanceConditionWithMeasure(c, measures))\n        // The enhancement will return undefined if it cannot find the\n        // appropriate measure. Make sure we filter them out.\n        .filter(isDefined)\n    );\n  };\n\n  getTopLevelComponent = () => {\n    const { component } = this.props;\n    let current = component.breadcrumbs.length - 1;\n    while (\n      current > 0 &&\n      !([\n        ComponentQualifier.Project,\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.Application\n      ] as string[]).includes(component.breadcrumbs[current].qualifier)\n    ) {\n      current--;\n    }\n    return component.breadcrumbs[current].key;\n  };\n\n  doneLoadingHistory = () => {\n    if (this.mounted) {\n      this.setState({\n        loadingHistory: false\n      });\n    }\n  };\n\n  handleGraphChange = (graph: GraphType) => {\n    const { component } = this.props;\n    saveActivityGraph(BRANCH_OVERVIEW_ACTIVITY_GRAPH, component.key, graph);\n    this.setState({ graph, loadingHistory: true }, () => {\n      this.loadHistoryMeasures().then(this.doneLoadingHistory, this.doneLoadingHistory);\n    });\n  };\n\n  render() {\n    const { branchLike, component } = this.props;\n    const {\n      analyses,\n      appLeak,\n      graph,\n      loadingStatus,\n      loadingHistory,\n      measures,\n      measuresHistory,\n      metrics,\n      period,\n      qgStatuses\n    } = this.state;\n\n    const projectIsEmpty =\n      loadingStatus === false &&\n      (measures === undefined ||\n        measures.find(measure =>\n          ([MetricKey.lines, MetricKey.new_lines] as string[]).includes(measure.metric.key)\n        ) === undefined);\n\n    return (\n      <BranchOverviewRenderer\n        analyses={analyses}\n        appLeak={appLeak}\n        branchLike={branchLike}\n        component={component}\n        graph={graph}\n        loadingHistory={loadingHistory}\n        loadingStatus={loadingStatus}\n        measures={measures}\n        measuresHistory={measuresHistory}\n        metrics={metrics}\n        onGraphChange={this.handleGraphChange}\n        period={period}\n        projectIsEmpty={projectIsEmpty}\n        qgStatuses={qgStatuses}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Application, ApplicationPeriod } from '../types/application';\n\nexport function getApplicationLeak(\n  application: string,\n  branch?: string\n): Promise<ApplicationPeriod[]> {\n  return getJSON('/api/applications/show_leak', { application, branch }).then(\n    r => r.leaks,\n    throwGlobalError\n  );\n}\n\nexport function getApplicationDetails(application: string, branch?: string): Promise<Application> {\n  return getJSON('/api/applications/show', { application, branch }).then(\n    r => r.application,\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport { Router, withRouter } from '../../../components/hoc/withRouter';\nimport { isPullRequest } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport { isPortfolioLike } from '../../../types/component';\nimport BranchOverview from '../branches/BranchOverview';\n\nconst EmptyOverview = lazyLoadComponent(() => import('./EmptyOverview'));\nconst PullRequestOverview = lazyLoadComponent(() => import('../pullRequests/PullRequestOverview'));\n\ninterface Props {\n  branchLike?: BranchLike;\n  branchLikes: BranchLike[];\n  component: T.Component;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  router: Pick<Router, 'replace'>;\n}\n\nexport class App extends React.PureComponent<Props> {\n  isPortfolio = () => {\n    return isPortfolioLike(this.props.component.qualifier);\n  };\n\n  render() {\n    const { branchLike, branchLikes, component } = this.props;\n\n    if (this.isPortfolio()) {\n      return null;\n    }\n\n    return isPullRequest(branchLike) ? (\n      <>\n        <Suggestions suggestions=\"pull_requests\" />\n        <PullRequestOverview branchLike={branchLike} component={component} />\n      </>\n    ) : (\n      <>\n        <Suggestions suggestions=\"overview\" />\n\n        {!component.analysisDate ? (\n          <EmptyOverview\n            branchLike={branchLike}\n            branchLikes={branchLikes}\n            component={component}\n            hasAnalyses={this.props.isPending || this.props.isInProgress}\n          />\n        ) : (\n          <BranchOverview branchLike={branchLike} component={component} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default withRouter(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nrequire(\"./Checkbox.css\");\nvar Checkbox = (function (_super) {\n    __extends(Checkbox, _super);\n    function Checkbox() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(!_this.props.checked, _this.props.id);\n            }\n        };\n        return _this;\n    }\n    Checkbox.prototype.render = function () {\n        var _a = this.props, checked = _a.checked, children = _a.children, disabled = _a.disabled, id = _a.id, loading = _a.loading, right = _a.right, thirdState = _a.thirdState, title = _a.title;\n        var className = classNames('icon-checkbox', {\n            'icon-checkbox-checked': checked,\n            'icon-checkbox-single': thirdState,\n            'icon-checkbox-disabled': disabled,\n        });\n        if (children) {\n            return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('link-checkbox', this.props.className, {\n                    note: disabled,\n                    disabled: disabled,\n                }), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title },\n                right && children,\n                React.createElement(DeferredSpinner_1.default, { loading: Boolean(loading) },\n                    React.createElement(\"i\", { className: className })),\n                !right && children));\n        }\n        if (loading) {\n            return React.createElement(DeferredSpinner_1.default, null);\n        }\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames(className, this.props.className), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title }));\n    };\n    Checkbox.defaultProps = {\n        thirdState: false,\n    };\n    return Checkbox;\n}(React.PureComponent));\nexports.default = Checkbox;\n//# sourceMappingURL=Checkbox.js.map","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\nexports.longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\nfunction DateFormatter(_a) {\n    var children = _a.children, date = _a.date, long = _a.long;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, (long ? exports.longFormatterOption : exports.formatterOption)), children));\n}\nexports.default = DateFormatter;\n//# sourceMappingURL=DateFormatter.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport { filterContent } from '../../helpers/markdown';\n\nconst DocMarkdownBlock = lazyLoadComponent(() => import('./DocMarkdownBlock'), 'DocMarkdownBlock');\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: T.Dict<string>;\n}\n\ninterface State {\n  content?: string;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.doc.then(\n      ({ default: content }) => {\n        if (this.mounted) {\n          this.setState({ content });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={filterContent(this.state.content)}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nfunction DateFromNow(_a) {\n    var children = _a.children, date = _a.date;\n    return React.createElement(react_intl_1.FormattedRelative, { value: dates_1.parseDate(date) }, children);\n}\nexports.default = DateFromNow;\n//# sourceMappingURL=DateFromNow.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-checkbox{display:inline-block;line-height:1;vertical-align:top;padding:1px 2px;box-sizing:border-box}a.icon-checkbox{border-bottom:none}.icon-checkbox:focus{outline:none}.icon-checkbox:before{content:\\\" \\\";display:inline-block;width:10px;height:10px;border:1px solid #236a97;border-radius:2px;transition:border-color .2s ease,background-color .2s ease,background-image .2s ease,box-shadow .4s ease}.icon-checkbox:not(.icon-checkbox-disabled):focus:before,.link-checkbox:not(.disabled):focus:focus .icon-checkbox:before{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.icon-checkbox-checked:before{background-color:#4b9fd5;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M12 4.665c0 .172-.06.318-.18.438l-5.55 5.55c-.12.12-.266.18-.438.18s-.318-.06-.438-.18L2.18 7.438C2.06 7.317 2 7.17 2 7s.06-.318.18-.44l.878-.876c.12-.12.267-.18.44-.18.17 0 .317.06.437.18l1.897 1.903 4.233-4.24c.12-.12.266-.18.438-.18s.32.06.44.18l.876.88c.12.12.18.265.18.438z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\\\");border-color:#4b9fd5}.icon-checkbox-checked.icon-checkbox-single:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M10 4.698A.697.697 0 0 0 9.302 4H4.698A.697.697 0 0 0 4 4.698v4.604c0 .386.312.698.698.698h4.604A.697.697 0 0 0 10 9.302V4.698z' fill='%23fff'/%3E%3C/svg%3E\\\")}.icon-checkbox-disabled:before{border:1px solid #bbb;cursor:not-allowed}.icon-checkbox-disabled.icon-checkbox-checked:before{background-color:#bbb}.icon-checkbox-invisible{visibility:hidden}.link-checkbox{color:inherit;border-bottom:none}.link-checkbox.disabled,.link-checkbox.disabled:hover,.link-checkbox.disabled label{color:#777;cursor:not-allowed}.link-checkbox:active,.link-checkbox:focus,.link-checkbox:hover{color:inherit}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar IssueIcon_1 = require(\"./IssueIcon\");\nfunction IssueTypeIcon(_a) {\n    var query = _a.query, iconProps = __rest(_a, [\"query\"]);\n    var type;\n    switch (query.toLowerCase()) {\n        case 'bug':\n        case 'bugs':\n        case 'new_bugs':\n            type = 'BUG';\n            break;\n        case 'vulnerability':\n        case 'vulnerabilities':\n        case 'new_vulnerabilities':\n            type = 'VULNERABILITY';\n            break;\n        case 'code_smell':\n        case 'code_smells':\n        case 'new_code_smells':\n            type = 'CODE_SMELL';\n            break;\n        case 'security_hotspot':\n        case 'security_hotspots':\n        case 'new_security_hotspots':\n            type = 'SECURITY_HOTSPOT';\n            break;\n        default:\n            return null;\n    }\n    return React.createElement(IssueIcon_1.default, __assign({ type: type }, iconProps));\n}\nexports.default = IssueTypeIcon;\n//# sourceMappingURL=IssueTypeIcon.js.map","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// keep this file in JavaScript, because it is used by a webpack loader\nmodule.exports = { getFrontMatter, separateFrontMatter, filterContent };\n\nfunction getFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  return position ? parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine)) : {};\n}\n\nfunction separateFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  if (position) {\n    const frontmatter = parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine));\n    const content = lines.slice(position.lastLine + 1).join('\\n');\n    return { frontmatter, content };\n  } else {\n    return { frontmatter: {}, content };\n  }\n}\n\nfunction getFrontMatterPosition(lines) {\n  let firstLine;\n  let lastLine;\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    if (line.trim() === '---') {\n      if (firstLine === undefined) {\n        firstLine = i;\n      } else {\n        lastLine = i;\n        break;\n      }\n    }\n  }\n  return lastLine !== undefined ? { firstLine, lastLine } : undefined;\n}\n\nfunction parseFrontMatter(lines) {\n  const data = {};\n  for (let i = 0; i < lines.length; i++) {\n    const tokens = lines[i].split(':').map(x => x.trim());\n    if (tokens.length === 2) {\n      data[tokens[0]] = tokens[1];\n    }\n  }\n  return data;\n}\n\n/**\n * @param {string} content\n * @returns {string}\n */\nfunction filterContent(content) {\n  const regexBase = '<!-- \\\\/?(sonarqube|sonarcloud|static) -->';\n  const { isSonarCloud, getInstance } = require('./system');\n  const contentWithInstance = content.replace(/{instance}/gi, getInstance());\n  const contentWithoutStatic = cutConditionalContent(contentWithInstance, 'static');\n  const filteredContent = isSonarCloud()\n    ? cutConditionalContent(contentWithoutStatic, 'sonarqube')\n    : cutConditionalContent(contentWithoutStatic, 'sonarcloud');\n  return filteredContent\n    .replace(new RegExp(`^${regexBase}(\\n|\\r|\\r\\n|$)`, 'gm'), '') // First, remove single-line ones, including ending carriage-returns.\n    .replace(new RegExp(`${regexBase}`, 'g'), ''); // Now remove all remaining ones.\n}\n\n/**\n * @param {string} content\n * @param {string} tag\n * @returns {string}\n */\nfunction cutConditionalContent(content, tag) {\n  const beginning = `<!-- ${tag} -->`;\n  const ending = `<!-- /${tag} -->`;\n\n  let newContent = content;\n  let start = newContent.indexOf(beginning);\n  let end = newContent.indexOf(ending);\n  while (start !== -1 && end !== -1) {\n    if (start < end) {\n      newContent = newContent.substring(0, start) + newContent.substring(end + ending.length);\n    } else {\n      // When conditional tags are incorrectly used we log an error, strip them out and pass to the next pair of tags\n      // eslint-disable-next-line no-console\n      console.error(\n        new Error(\n          `Documentation - incorrect usage of conditional formatting tags here: \"${newContent.substring(\n            end,\n            start + beginning.length\n          )}\"`\n        )\n      );\n      newContent =\n        newContent.substring(0, end) +\n        newContent.substring(end + ending.length, start) +\n        newContent.substring(start + beginning.length);\n    }\n    start = newContent.indexOf(beginning);\n    end = newContent.indexOf(ending);\n  }\n\n  return newContent;\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = [\n  'sqale_rating',\n  'maintainability_rating', // Needed to provide the label for \"new_maintainability_rating\"\n  'reliability_rating',\n  'security_rating',\n  'security_review_rating'\n];\n\nexport function enhanceMeasure(measure: T.Measure, metrics: T.Dict<T.Metric>): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.MeasureIntern | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport Rating from 'sonar-ui-common/components/ui/Rating';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getRatingTooltip } from './utils';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span className={className}></span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, {\n      decimals,\n      omitExtraDecimalZeros: metricType === 'PERCENT'\n    });\n    return <span className={className}>{formattedValue != null ? formattedValue : ''}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { chunk, flatMap, groupBy, sortBy } from 'lodash';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport { get, save } from 'sonar-ui-common/helpers/storage';\nimport { localizeMetric } from '../../helpers/measures';\nimport { MetricKey } from '../../types/metrics';\nimport { GraphType, MeasureHistory, Serie } from '../../types/project-activity';\n\nexport const DEFAULT_GRAPH = GraphType.issues;\n\nconst GRAPHS_METRICS_DISPLAYED: T.Dict<string[]> = {\n  [GraphType.issues]: [MetricKey.bugs, MetricKey.code_smells, MetricKey.vulnerabilities],\n  [GraphType.coverage]: [MetricKey.lines_to_cover, MetricKey.uncovered_lines],\n  [GraphType.duplications]: [MetricKey.ncloc, MetricKey.duplicated_lines]\n};\n\nconst GRAPHS_METRICS: T.Dict<string[]> = {\n  [GraphType.issues]: GRAPHS_METRICS_DISPLAYED[GraphType.issues].concat([\n    MetricKey.reliability_rating,\n    MetricKey.security_rating,\n    MetricKey.sqale_rating\n  ]),\n  [GraphType.coverage]: [...GRAPHS_METRICS_DISPLAYED[GraphType.coverage], MetricKey.coverage],\n  [GraphType.duplications]: [\n    ...GRAPHS_METRICS_DISPLAYED[GraphType.duplications],\n    MetricKey.duplicated_lines_density\n  ]\n};\n\nexport function isCustomGraph(graph: GraphType) {\n  return graph === GraphType.custom;\n}\n\nexport function getGraphTypes(ignoreCustom = false) {\n  const graphs = [GraphType.issues, GraphType.coverage, GraphType.duplications];\n  return ignoreCustom ? graphs : [...graphs, GraphType.custom];\n}\n\nexport function hasDataValues(serie: Serie) {\n  return serie.data.some(point => Boolean(point.y || point.y === 0));\n}\n\nexport function hasHistoryData(series: Serie[]) {\n  return series.some(serie => serie.data && serie.data.length > 1);\n}\n\nexport function getSeriesMetricType(series: Serie[]) {\n  return series.length > 0 ? series[0].type : 'INT';\n}\n\nexport function getDisplayedHistoryMetrics(graph: GraphType, customMetrics: string[]) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph];\n}\n\nexport function getHistoryMetrics(graph: GraphType, customMetrics: string[]) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n}\n\nexport function hasHistoryDataValue(series: Serie[]) {\n  return series.some(serie => serie.data && serie.data.length > 1 && hasDataValues(serie));\n}\n\nexport function splitSeriesInGraphs(series: Serie[], maxGraph: number, maxSeries: number) {\n  return flatMap(\n    groupBy(series, serie => serie.type),\n    type => chunk(type, maxSeries)\n  ).slice(0, maxGraph);\n}\n\nexport function generateCoveredLinesMetric(\n  uncoveredLines: MeasureHistory,\n  measuresHistory: MeasureHistory[]\n) {\n  const linesToCover = measuresHistory.find(measure => measure.metric === MetricKey.lines_to_cover);\n  return {\n    data: linesToCover\n      ? uncoveredLines.history.map((analysis, idx) => ({\n          x: analysis.date,\n          y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n        }))\n      : [],\n    name: 'covered_lines',\n    translatedName: translate('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n}\n\nexport function generateSeries(\n  measuresHistory: MeasureHistory[],\n  graph: GraphType,\n  metrics: T.Metric[] | T.Dict<T.Metric>,\n  displayedMetrics: string[]\n): Serie[] {\n  if (displayedMetrics.length <= 0 || measuresHistory === undefined) {\n    return [];\n  }\n  return sortBy(\n    measuresHistory\n      .filter(measure => displayedMetrics.indexOf(measure.metric) >= 0)\n      .map(measure => {\n        if (measure.metric === MetricKey.uncovered_lines && !isCustomGraph(graph)) {\n          return generateCoveredLinesMetric(measure, measuresHistory);\n        }\n        const metric = findMetric(measure.metric, metrics);\n        return {\n          data: measure.history.map(analysis => ({\n            x: analysis.date,\n            y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n          })),\n          name: measure.metric,\n          translatedName: metric ? getLocalizedMetricName(metric) : localizeMetric(measure.metric),\n          type: metric ? metric.type : 'INT'\n        };\n      }),\n    serie =>\n      displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name)\n  );\n}\n\nexport function saveActivityGraph(\n  namespace: string,\n  project: string,\n  graph: GraphType,\n  metrics: string[] = []\n) {\n  save(namespace, graph, project);\n  if (isCustomGraph(graph)) {\n    save(`${namespace}.custom`, metrics.join(','), project);\n  }\n}\n\nexport function getActivityGraph(\n  namespace: string,\n  project: string\n): { graph: GraphType; customGraphs: string[] } {\n  const customGraphs = get(`${namespace}.custom`, project);\n  return {\n    graph: (get(namespace, project) as GraphType) || DEFAULT_GRAPH,\n    customGraphs: customGraphs ? customGraphs.split(',') : []\n  };\n}\n\nfunction findMetric(key: string, metrics: T.Metric[] | T.Dict<T.Metric>) {\n  if (Array.isArray(metrics)) {\n    return metrics.find(metric => metric.key === key);\n  }\n  return metrics[key];\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BranchIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nexports.default = BranchIcon;\n//# sourceMappingURL=BranchIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { ApplicationPeriod } from '../types/application';\n\nfunction getPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter || '';\n\n  switch (period.mode) {\n    case 'SPECIFIC_ANALYSIS':\n      parameter = dateFormatter(period.date);\n      break;\n    case 'PREVIOUS_VERSION':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    /*\n     * Handle legacy period modes, that predate MMF-1579\n     */\n    case 'previous_version':\n      if (!parameter) {\n        return translate('overview.period.previous_version_only_date');\n      }\n      break;\n    case 'date':\n      parameter = parameter && dateFormatter(parameter);\n      break;\n    case 'manual_baseline':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    default: // No change in the parameter\n  }\n\n  return translateWithParameters(`overview.period.${period.mode.toLowerCase()}`, parameter);\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n\nexport function isApplicationPeriod(\n  period: T.Period | ApplicationPeriod\n): period is ApplicationPeriod {\n  return (period as ApplicationPeriod).project !== undefined;\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction VulnerabilityIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M12,7.05H6V5a2,2,0,1,1,4,0,1,1,0,0,0,2,0A4,4,0,1,0,4,5V7.06A1.12,1.12,0,0,0,3,8.17V14a1.12,1.12,0,0,0,1.12,1.12H12A1.12,1.12,0,0,0,13.1,14V8.17A1.12,1.12,0,0,0,12,7.05ZM8,13a2,2,0,1,1,2-2A2,2,0,0,1,8,13Z\", style: { fill: fill } })));\n}\nexports.default = VulnerabilityIcon;\n//# sourceMappingURL=VulnerabilityIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction SecurityHotspotIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M14.08 3.23a1 1 0 00-.67-.77L8.16 1a1.06 1.06 0 00-.5 0L2.41 2.46a.94.94 0 00-.67.77c-.08.57-.74 5.63 1.14 8.31A9 9 0 007.68 15a.85.85 0 00.23 0 .78.78 0 00.22 0 8.93 8.93 0 004.81-3.46c1.85-2.68 1.21-7.74 1.14-8.31zM12.21 8a6.15 6.15 0 01-.86 2.42A7.92 7.92 0 018 13V8zM8 3v5H3.59a24.29 24.29 0 010-3.82z\", style: { fill: fill } })));\n}\nexports.default = SecurityHotspotIcon;\n//# sourceMappingURL=SecurityHotspotIcon.js.map","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BugIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M10.09,1.88A2.86,2.86,0,0,0,8,1a2.87,2.87,0,0,0-2.11.87A2.93,2.93,0,0,0,5,4h6A2.93,2.93,0,0,0,10.09,1.88Z\", style: { fill: fill } }),\n        React.createElement(\"path\", { d: \"M14.54,9H13V5.6L14.3,4.42a.5.5,0,0,0,0-.71.49.49,0,0,0-.7,0L12.17,5H3.82L2.34,3.66a.5.5,0,0,0-.67.74L2.94,5.55V9H1.46a.5.5,0,0,0,0,1H3a5.2,5.2,0,0,0,1.05,2.32l-2,1.81a.5.5,0,1,0,.67.74l2-1.82A4.62,4.62,0,0,0,7,14.1V8A1,1,0,0,1,8,7a.94.94,0,0,1,1,.9v6.17A4.55,4.55,0,0,0,11.18,13l2,1.83a.51.51,0,0,0,.33.13.48.48,0,0,0,.37-.17.49.49,0,0,0,0-.7l-2-1.8a5.34,5.34,0,0,0,1-2.29h1.64a.5.5,0,0,0,0-1Z\", style: { fill: fill } })));\n}\nexports.default = BugIcon;\n//# sourceMappingURL=BugIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction CodeSmellIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M8,15.1a7,7,0,1,0-7-7A7,7,0,0,0,8,15.1Zm.74-8.9,1.46-2.52a.29.29,0,0,1,.25-.14.3.3,0,0,1,.15,0,5.26,5.26,0,0,1,2.61,4.53.28.28,0,0,1-.29.29H10a.28.28,0,0,1-.29-.29,1.78,1.78,0,0,0-.88-1.51A.29.29,0,0,1,8.75,6.2Zm.11,3.44A.23.23,0,0,1,9,9.6a.29.29,0,0,1,.25.14l1.46,2.52a.18.18,0,0,1,0,.13.3.3,0,0,1-.15.27,5.3,5.3,0,0,1-5.23,0,.3.3,0,0,1-.1-.4L6.73,9.74A.29.29,0,0,1,7,9.6a.23.23,0,0,1,.14,0A1.79,1.79,0,0,0,8.86,9.64ZM5.33,3.59a.3.3,0,0,1,.41.1L7.2,6.21a.29.29,0,0,1-.1.4,1.79,1.79,0,0,0-.87,1.51.28.28,0,0,1-.29.29H3a.32.32,0,0,1-.32-.29A5.26,5.26,0,0,1,5.33,3.59Z\", style: { fill: fill } })));\n}\nexports.default = CodeSmellIcon;\n//# sourceMappingURL=CodeSmellIcon.js.map","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum GraphType {\n  issues = 'issues',\n  coverage = 'coverage',\n  duplications = 'duplications',\n  custom = 'custom'\n}\n\nexport interface HistoryItem {\n  date: Date;\n  value?: string;\n}\n\nexport interface MeasureHistory {\n  metric: string;\n  history: HistoryItem[];\n}\n\nexport interface Serie {\n  data: Point[];\n  name: string;\n  translatedName: string;\n  type: string;\n}\n\nexport interface Point {\n  x: Date;\n  y: number | string | undefined;\n}\n","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport { colors } from '../../app/theme';\n\nconst DonutChart = lazyLoadComponent(\n  () => import('sonar-ui-common/components/charts/DonutChart'),\n  'DonutChart'\n);\n\nconst SIZE_TO_WIDTH_MAPPING = { small: 16, normal: 24, big: 40, huge: 60 };\n\nconst SIZE_TO_THICKNESS_MAPPING = { small: 2, normal: 3, big: 3, huge: 4 };\n\nexport interface CoverageRatingProps {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number | string | null | undefined;\n}\n\nexport default function CoverageRating({\n  muted = false,\n  size = 'normal',\n  value\n}: CoverageRatingProps) {\n  let data = [{ value: 100, fill: '#ccc ' }];\n  let padAngle = 0;\n\n  if (value != null) {\n    const numberValue = Number(value);\n    data = [\n      { value: numberValue, fill: muted ? colors.gray71 : colors.green },\n      { value: 100 - numberValue, fill: muted ? colors.barBackgroundColor : colors.lineCoverageRed }\n    ];\n    if (numberValue !== 0 && numberValue < 100) {\n      padAngle = 0.1; // Same for all sizes, because it scales automatically\n    }\n  }\n\n  const width = SIZE_TO_WIDTH_MAPPING[size];\n  const thickness = SIZE_TO_THICKNESS_MAPPING[size];\n\n  return (\n    <DonutChart\n      data={data}\n      height={width}\n      padAngle={padAngle}\n      thickness={thickness}\n      width={width}\n    />\n  );\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar BugIcon_1 = require(\"./BugIcon\");\nvar CodeSmellIcon_1 = require(\"./CodeSmellIcon\");\nvar SecurityHotspotIcon_1 = require(\"./SecurityHotspotIcon\");\nvar VulnerabilityIcon_1 = require(\"./VulnerabilityIcon\");\nfunction IssueIcon(_a) {\n    var type = _a.type, iconProps = __rest(_a, [\"type\"]);\n    switch (type) {\n        case 'BUG':\n            return React.createElement(BugIcon_1.default, __assign({}, iconProps));\n        case 'VULNERABILITY':\n            return React.createElement(VulnerabilityIcon_1.default, __assign({}, iconProps));\n        case 'CODE_SMELL':\n            return React.createElement(CodeSmellIcon_1.default, __assign({}, iconProps));\n        case 'SECURITY_HOTSPOT':\n            return React.createElement(SecurityHotspotIcon_1.default, __assign({}, iconProps));\n        default:\n            return null;\n    }\n}\nexports.default = IssueIcon;\n//# sourceMappingURL=IssueIcon.js.map","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nrequire(\"./DuplicationsRating.css\");\nfunction DuplicationsRating(_a) {\n    var _b = _a.muted, muted = _b === void 0 ? false : _b, _c = _a.size, size = _c === void 0 ? 'normal' : _c, value = _a.value;\n    var className = classNames('duplications-rating', {\n        'duplications-rating-small': size === 'small',\n        'duplications-rating-big': size === 'big',\n        'duplications-rating-huge': size === 'huge',\n        'duplications-rating-muted': muted || value == null || isNaN(value),\n        'duplications-rating-A': lodash_1.inRange(value || 0, 0, 3),\n        'duplications-rating-B': lodash_1.inRange(value || 0, 3, 5),\n        'duplications-rating-C': lodash_1.inRange(value || 0, 5, 10),\n        'duplications-rating-D': lodash_1.inRange(value || 0, 10, 20),\n        'duplications-rating-E': (value || 0) >= 20,\n    });\n    return React.createElement(\"div\", { className: className });\n}\nexports.default = DuplicationsRating;\n//# sourceMappingURL=DuplicationsRating.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport BugIcon from 'sonar-ui-common/components/icons/BugIcon';\nimport CodeSmellIcon from 'sonar-ui-common/components/icons/CodeSmellIcon';\nimport SecurityHotspotIcon from 'sonar-ui-common/components/icons/SecurityHotspotIcon';\nimport VulnerabilityIcon from 'sonar-ui-common/components/icons/VulnerabilityIcon';\nimport DuplicationsRating from 'sonar-ui-common/components/ui/DuplicationsRating';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CoverageRating from '../../components/ui/CoverageRating';\nimport { MetricKey } from '../../types/metrics';\n\nexport const METRICS: string[] = [\n  // quality gate\n  MetricKey.alert_status,\n  MetricKey.quality_gate_details, // TODO: still relevant?\n\n  // bugs\n  MetricKey.bugs,\n  MetricKey.new_bugs,\n  MetricKey.reliability_rating,\n  MetricKey.new_reliability_rating,\n\n  // vulnerabilities\n  MetricKey.vulnerabilities,\n  MetricKey.new_vulnerabilities,\n  MetricKey.security_rating,\n  MetricKey.new_security_rating,\n\n  // hotspots\n  MetricKey.security_hotspots,\n  MetricKey.new_security_hotspots,\n  MetricKey.security_hotspots_reviewed,\n  MetricKey.new_security_hotspots_reviewed,\n  MetricKey.security_review_rating,\n  MetricKey.new_security_review_rating,\n\n  // code smells\n  MetricKey.code_smells,\n  MetricKey.new_code_smells,\n  MetricKey.sqale_rating,\n  MetricKey.new_maintainability_rating,\n  MetricKey.sqale_index,\n  MetricKey.new_technical_debt,\n\n  // coverage\n  MetricKey.coverage,\n  MetricKey.new_coverage,\n  MetricKey.lines_to_cover,\n  MetricKey.new_lines_to_cover,\n  MetricKey.tests,\n\n  // duplications\n  MetricKey.duplicated_lines_density,\n  MetricKey.new_duplicated_lines_density,\n  MetricKey.duplicated_blocks,\n\n  // size\n  MetricKey.ncloc,\n  MetricKey.ncloc_language_distribution,\n  MetricKey.projects,\n  MetricKey.lines,\n  MetricKey.new_lines\n];\n\nexport const PR_METRICS: string[] = [\n  MetricKey.coverage,\n  MetricKey.new_coverage,\n  MetricKey.new_lines_to_cover,\n\n  MetricKey.duplicated_lines_density,\n  MetricKey.new_duplicated_lines_density,\n  MetricKey.new_lines,\n  MetricKey.new_code_smells,\n  MetricKey.new_maintainability_rating,\n  MetricKey.new_bugs,\n  MetricKey.new_reliability_rating,\n  MetricKey.new_vulnerabilities,\n  MetricKey.new_security_hotspots,\n  MetricKey.new_security_review_rating,\n  MetricKey.new_security_rating\n];\n\nexport const HISTORY_METRICS_LIST: string[] = [\n  MetricKey.bugs,\n  MetricKey.vulnerabilities,\n  MetricKey.sqale_index,\n  MetricKey.duplicated_lines_density,\n  MetricKey.ncloc,\n  MetricKey.coverage\n];\n\nexport enum MeasurementType {\n  Coverage = 'COVERAGE',\n  Duplication = 'DUPLICATION'\n}\n\nconst MEASUREMENTS_MAP = {\n  [MeasurementType.Coverage]: {\n    metric: MetricKey.coverage,\n    newMetric: MetricKey.new_coverage,\n    linesMetric: MetricKey.lines_to_cover,\n    newLinesMetric: MetricKey.new_lines_to_cover,\n    afterMergeMetric: MetricKey.coverage,\n    labelKey: 'metric.coverage.name',\n    expandedLabelKey: 'overview.coverage_on_X_lines',\n    newLinesExpandedLabelKey: 'overview.coverage_on_X_new_lines',\n    iconClass: CoverageRating\n  },\n  [MeasurementType.Duplication]: {\n    metric: MetricKey.duplicated_lines_density,\n    newMetric: MetricKey.new_duplicated_lines_density,\n    linesMetric: MetricKey.ncloc,\n    newLinesMetric: MetricKey.new_lines,\n    afterMergeMetric: MetricKey.duplicated_lines_density,\n    labelKey: 'metric.duplicated_lines_density.short_name',\n    expandedLabelKey: 'overview.duplications_on_X_lines',\n    newLinesExpandedLabelKey: 'overview.duplications_on_X_new_lines',\n    iconClass: DuplicationsRating\n  }\n};\n\nexport enum IssueType {\n  CodeSmell = 'CODE_SMELL',\n  Vulnerability = 'VULNERABILITY',\n  Bug = 'BUG',\n  SecurityHotspot = 'SECURITY_HOTSPOT'\n}\n\nconst ISSUETYPE_MAP = {\n  [IssueType.CodeSmell]: {\n    metric: MetricKey.code_smells,\n    newMetric: MetricKey.new_code_smells,\n    rating: MetricKey.sqale_rating,\n    newRating: MetricKey.new_maintainability_rating,\n    ratingName: 'Maintainability',\n    iconClass: CodeSmellIcon\n  },\n  [IssueType.Vulnerability]: {\n    metric: MetricKey.vulnerabilities,\n    newMetric: MetricKey.new_vulnerabilities,\n    rating: MetricKey.security_rating,\n    newRating: MetricKey.new_security_rating,\n    ratingName: 'Security',\n    iconClass: VulnerabilityIcon\n  },\n  [IssueType.Bug]: {\n    metric: MetricKey.bugs,\n    newMetric: MetricKey.new_bugs,\n    rating: MetricKey.reliability_rating,\n    newRating: MetricKey.new_reliability_rating,\n    ratingName: 'Reliability',\n    iconClass: BugIcon\n  },\n  [IssueType.SecurityHotspot]: {\n    metric: MetricKey.security_hotspots,\n    newMetric: MetricKey.new_security_hotspots,\n    rating: MetricKey.security_review_rating,\n    newRating: MetricKey.new_security_review_rating,\n    ratingName: 'SecurityReview',\n    iconClass: SecurityHotspotIcon\n  }\n};\n\nexport function getIssueRatingName(type: IssueType) {\n  return translate('metric_domain', ISSUETYPE_MAP[type].ratingName);\n}\n\nexport function getIssueIconClass(type: IssueType) {\n  return ISSUETYPE_MAP[type].iconClass;\n}\n\nexport function getIssueMetricKey(type: IssueType, useDiffMetric: boolean) {\n  return useDiffMetric ? ISSUETYPE_MAP[type].newMetric : ISSUETYPE_MAP[type].metric;\n}\n\nexport function getIssueRatingMetricKey(type: IssueType, useDiffMetric: boolean) {\n  return useDiffMetric ? ISSUETYPE_MAP[type].newRating : ISSUETYPE_MAP[type].rating;\n}\n\nexport function getMeasurementIconClass(type: MeasurementType) {\n  return MEASUREMENTS_MAP[type].iconClass;\n}\n\nexport function getMeasurementMetricKey(type: MeasurementType, useDiffMetric: boolean) {\n  return useDiffMetric ? MEASUREMENTS_MAP[type].newMetric : MEASUREMENTS_MAP[type].metric;\n}\n\nexport function getMeasurementAfterMergeMetricKey(type: MeasurementType) {\n  return MEASUREMENTS_MAP[type].afterMergeMetric;\n}\n\nexport function getMeasurementLinesMetricKey(type: MeasurementType, useDiffMetric: boolean) {\n  return useDiffMetric ? MEASUREMENTS_MAP[type].newLinesMetric : MEASUREMENTS_MAP[type].linesMetric;\n}\n\nexport function getMeasurementLabelKeys(type: MeasurementType, useDiffMetric: boolean) {\n  return {\n    expandedLabelKey: useDiffMetric\n      ? MEASUREMENTS_MAP[type].newLinesExpandedLabelKey\n      : MEASUREMENTS_MAP[type].expandedLabelKey,\n    labelKey: MEASUREMENTS_MAP[type].labelKey\n  };\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ProjectEventIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? '#fff' : _b, _c = _a.size, size = _c === void 0 ? 14 : _c, iconProps = __rest(_a, [\"fill\", \"size\"]);\n    return (React.createElement(Icon_1.default, __assign({ size: size }, iconProps),\n        React.createElement(\"path\", { d: \"M8 2 L14 8 L8 14 L2 8 L8 2 L14 8\", style: { fill: fill, stroke: 'currentColor', strokeWidth: '2px' } })));\n}\nexports.default = ProjectEventIcon;\n//# sourceMappingURL=ProjectEventIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { getBranchLikeQuery } from '../../helpers/branch-like';\nimport { getComponentDrilldownUrl, getComponentIssuesUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\n\nconst ISSUE_MEASURES = [\n  'violations',\n  'new_violations',\n  'blocker_violations',\n  'critical_violations',\n  'major_violations',\n  'minor_violations',\n  'info_violations',\n  'new_blocker_violations',\n  'new_critical_violations',\n  'new_major_violations',\n  'new_minor_violations',\n  'new_info_violations',\n  'open_issues',\n  'reopened_issues',\n  'confirmed_issues',\n  'false_positive_issues',\n  'code_smells',\n  'new_code_smells',\n  'bugs',\n  'new_bugs',\n  'vulnerabilities',\n  'new_vulnerabilities'\n];\n\nconst issueParamsPerMetric: T.Dict<T.Dict<string>> = {\n  blocker_violations: { resolved: 'false', severities: 'BLOCKER' },\n  new_blocker_violations: { resolved: 'false', severities: 'BLOCKER' },\n  critical_violations: { resolved: 'false', severities: 'CRITICAL' },\n  new_critical_violations: { resolved: 'false', severities: 'CRITICAL' },\n  major_violations: { resolved: 'false', severities: 'MAJOR' },\n  new_major_violations: { resolved: 'false', severities: 'MAJOR' },\n  minor_violations: { resolved: 'false', severities: 'MINOR' },\n  new_minor_violations: { resolved: 'false', severities: 'MINOR' },\n  info_violations: { resolved: 'false', severities: 'INFO' },\n  new_info_violations: { resolved: 'false', severities: 'INFO' },\n  open_issues: { resolved: 'false', statuses: 'OPEN' },\n  reopened_issues: { resolved: 'false', statuses: 'REOPENED' },\n  confirmed_issues: { resolved: 'false', statuses: 'CONFIRMED' },\n  false_positive_issues: { resolutions: 'FALSE-POSITIVE' },\n  code_smells: { resolved: 'false', types: 'CODE_SMELL' },\n  new_code_smells: { resolved: 'false', types: 'CODE_SMELL' },\n  bugs: { resolved: 'false', types: 'BUG' },\n  new_bugs: { resolved: 'false', types: 'BUG' },\n  vulnerabilities: { resolved: 'false', types: 'VULNERABILITY' },\n  new_vulnerabilities: { resolved: 'false', types: 'VULNERABILITY' }\n};\n\ninterface Props {\n  branchLike?: BranchLike;\n  children?: React.ReactNode;\n  className?: string;\n  component: string;\n  metric: string;\n  sinceLeakPeriod?: boolean;\n}\n\nexport default class DrilldownLink extends React.PureComponent<Props> {\n  isIssueMeasure = () => {\n    return ISSUE_MEASURES.indexOf(this.props.metric) !== -1;\n  };\n\n  propsToIssueParams = () => {\n    const params: T.Dict<string | boolean> = {\n      ...(issueParamsPerMetric[this.props.metric] || { resolved: 'false' })\n    };\n\n    if (this.props.sinceLeakPeriod) {\n      params.sinceLeakPeriod = true;\n    }\n\n    return params;\n  };\n\n  renderIssuesLink = () => {\n    const url = getComponentIssuesUrl(this.props.component, {\n      ...this.propsToIssueParams(),\n      ...getBranchLikeQuery(this.props.branchLike)\n    });\n\n    return (\n      <Link className={this.props.className} to={url}>\n        {this.props.children}\n      </Link>\n    );\n  };\n\n  render() {\n    if (this.isIssueMeasure()) {\n      return this.renderIssuesLink();\n    }\n\n    const url = getComponentDrilldownUrl({\n      componentKey: this.props.component,\n      metric: this.props.metric,\n      branchLike: this.props.branchLike,\n      listView: true\n    });\n    return (\n      <Link className={this.props.className} to={url}>\n        {this.props.children}\n      </Link>\n    );\n  }\n}\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar theme_1 = require(\"../theme\");\nvar TabContainer = theme_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: row;\\n\"], [\"\\n  display: flex;\\n  flex-direction: row;\\n\"])));\nvar baseBorder = function (_a) {\n    var theme = _a.theme;\n    return \"1px solid \" + theme.colors.barBorderColor;\n};\nvar highlightHoverMixin = function (_a) {\n    var theme = _a.theme;\n    return \"\\n  &:hover {\\n    background-color: \" + theme.colors.barBackgroundColorHighlight + \";\\n  }\\n\";\n};\nvar StyledTab = theme_1.styled.button(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: relative;\\n  background-color: \", \";\\n  border-top: \", \";\\n  border-left: \", \";\\n  border-right: none;\\n  border-bottom: none;\\n  margin-bottom: -1px;\\n  min-width: 128px;\\n  min-height: 56px;\\n  \", \"\\n  outline: 0;\\n  padding: calc(2 * \", \");\\n\\n  \", \"\\n\\n  &:last-child {\\n    border-right: \", \";\\n  }\\n\"], [\"\\n  position: relative;\\n  background-color: \", \";\\n  border-top: \", \";\\n  border-left: \", \";\\n  border-right: none;\\n  border-bottom: none;\\n  margin-bottom: -1px;\\n  min-width: 128px;\\n  min-height: 56px;\\n  \", \"\\n  outline: 0;\\n  padding: calc(2 * \", \");\\n\\n  \", \"\\n\\n  &:last-child {\\n    border-right: \", \";\\n  }\\n\"])), function (props) { return (props.active ? 'white' : props.theme.colors.barBackgroundColor); }, baseBorder, baseBorder, function (props) { return !props.active && 'cursor: pointer;'; }, function (props) { return props.theme.sizes.gridSize; }, function (props) { return (!props.active ? highlightHoverMixin : null); }, baseBorder);\nvar ActiveBorder = theme_1.styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  display: \", \";\\n  background-color: \", \";\\n  height: 3px;\\n  width: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: -1px;\\n\"], [\"\\n  display: \", \";\\n  background-color: \", \";\\n  height: 3px;\\n  width: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: -1px;\\n\"])), function (props) { return (props.active ? 'block' : 'none'); }, function (props) { return props.theme.colors.blue; });\nfunction BoxedTabs(props) {\n    var className = props.className, tabs = props.tabs, selected = props.selected;\n    return (React.createElement(TabContainer, { className: className }, tabs.map(function (_a, i) {\n        var key = _a.key, label = _a.label;\n        return (React.createElement(StyledTab, { active: selected === key, key: i, onClick: function () { return selected !== key && props.onSelect(key); }, type: \"button\" },\n            React.createElement(ActiveBorder, { active: selected === key }),\n            label));\n    })));\n}\nexports.default = BoxedTabs;\nvar templateObject_1, templateObject_2, templateObject_3;\n//# sourceMappingURL=BoxedTabs.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./DuplicationsRating.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".duplications-rating{position:relative;display:inline-flex;vertical-align:top;justify-content:center;align-items:center;width:24px;height:24px;border:3px solid #ed7d20;border-radius:24px;box-sizing:border-box}.duplications-rating-small{width:16px;height:16px;border-width:2px}.duplications-rating-big{width:40px;height:40px;border-width:3px}.duplications-rating-huge{width:60px;height:60px;border-width:4px;border-radius:30px}.duplications-rating-muted{border-color:#bdbdbd!important}.duplications-rating-muted:after{background-color:#bdbdbd!important}.duplications-rating:after{border-radius:24px;content:\\\"\\\"}.duplications-rating-A{border-color:#0a0}.duplications-rating-A:after{display:none}.duplications-rating-B{border-color:#b0d513}.duplications-rating-B:after{width:6px;height:6px;background-color:#b0d513}.duplications-rating-small.duplications-rating-B:after{width:2px;height:2px}.duplications-rating-big.duplications-rating-B:after{width:12px;height:12px}.duplications-rating-huge.duplications-rating-B:after{width:18px;height:18px}.duplications-rating-C{border-color:#eabe06}.duplications-rating-C:after{width:8px;height:8px;background-color:#eabe06}.duplications-rating-small.duplications-rating-C:after{width:6px;height:6px}.duplications-rating-big.duplications-rating-C:after{width:16px;height:16px}.duplications-rating-huge.duplications-rating-C:after{width:24px;height:24px}.duplications-rating-D{border-color:#ed7d20}.duplications-rating-D:after{width:12px;height:12px;background-color:#ed7d20}.duplications-rating-small.duplications-rating-D:after{width:8px;height:8px}.duplications-rating-big.duplications-rating-D:after{width:24px;height:24px}.duplications-rating-huge.duplications-rating-D:after{width:36px;height:36px}.duplications-rating-E{border-color:#d4333f}.duplications-rating-E:after{width:14px;height:14px;background-color:#d4333f}.duplications-rating-small.duplications-rating-E:after{width:10px;height:10px}.duplications-rating-big.duplications-rating-E:after{width:28px;height:28px}.duplications-rating-huge.duplications-rating-E:after{width:42px;height:42px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}