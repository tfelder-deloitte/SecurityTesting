{"version":3,"sources":["webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css?3f5e","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css","webpack:///./src/main/js/components/common/EmptySearch.tsx","webpack:///./src/main/js/components/common/EmptySearch.css","webpack:///./node_modules/lodash/max.js","webpack:///./node_modules/sonar-ui-common/components/controls/BackButton.js","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.js","webpack:///./src/main/js/apps/issues/styles.css?d1f0","webpack:///./src/main/js/apps/issues/styles.css","webpack:///./src/main/js/apps/issues/actions.ts","webpack:///./src/main/js/apps/issues/components/LocationNavigationKeyboardShortcuts.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationBadge.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocations.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigatorLocation.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/CrossFileLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueBox.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueComponent.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssue.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesList.tsx","webpack:///./src/main/js/apps/issues/components/IssuesCounter.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesListHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/AssigneeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/AuthorFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/CreationDateFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/DirectoryFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/FileFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ProjectFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ResolutionFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/RuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/SeverityFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StatusFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TagFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TypeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/issues/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/issues/components/ComponentBreadcrumbs.tsx","webpack:///./src/main/js/apps/issues/components/ListItem.tsx","webpack:///./src/main/js/apps/issues/components/IssuesList.tsx","webpack:///./src/main/js/apps/issues/crossComponentSourceViewer/CrossComponentSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/IssuesSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/MyIssuesFilter.tsx","webpack:///./src/main/js/apps/issues/components/NoIssues.tsx","webpack:///./src/main/js/apps/issues/components/NoMyIssues.tsx","webpack:///./src/main/js/apps/issues/components/TotalEffort.tsx","webpack:///./src/main/js/apps/issues/components/PageActions.tsx","webpack:///./src/main/js/apps/issues/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/QualifierIcon.js","webpack:///./node_modules/sonar-ui-common/components/controls/ListFooter.js","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNow.js","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./node_modules/date-fns/add_months/index.js","webpack:///./node_modules/date-fns/get_days_in_month/index.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./src/main/js/components/tags/TagsList.css?d861","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?01af","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./node_modules/sonar-ui-common/components/icons/OpenCloseIcon.js","webpack:///./node_modules/sonar-ui-common/helpers/pages.js","webpack:///./node_modules/date-fns/set_month/index.js","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/components/common/MarkdownTips.tsx","webpack:///./node_modules/date-fns/set_year/index.js","webpack:///./node_modules/date-fns/sub_months/index.js","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./node_modules/lodash/range.js","webpack:///./node_modules/lodash/_createRange.js","webpack:///./node_modules/lodash/_baseRange.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronLeftIcon.js","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./node_modules/sonar-ui-common/helpers/search.js","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/CalendarIcon.js","webpack:///./src/main/js/components/controls/DayPicker.css?d7e1","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/styles.css?5633","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/components/search-navigator.css?9a2e","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/HomeIcon.js","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/helpers/security-standard.ts","webpack:///./node_modules/date-fns/is_same_day/index.js","webpack:///./src/main/js/components/controls/DateRangeInput.tsx","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/sonar-ui-common/components/controls/SearchSelect.js","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/ReloadButton.js","webpack:///./src/main/js/components/common/EmptySearch.css?d1ee","webpack:///./src/main/js/components/common/LocationIndex.css?e012","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/LocationMessage.css?8760","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/issue/Issue.css?a142","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./node_modules/sonar-ui-common/components/icons/StatusIcon.js","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx","webpack:///./src/main/js/components/shared/Organization.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/StandardFacet.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?3321","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx"],"names":["api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","EmptySearch","className","baseExtremum","baseGt","identity","array","length","undefined","extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","classNames","React","l10n_1","theme_1","Tooltip_1","BackButton","_super","_this","apply","arguments","handleClick","event","preventDefault","currentTarget","blur","props","disabled","onClick","renderIcon","createElement","ThemeConsumer","theme","height","viewBox","width","fill","colors","disableGrayText","secondFontColor","render","_a","tooltip","translate","overlay","href","PureComponent","d3_array_1","d3_scale_1","BarChart","point","onBarClick","renderXTicks","xScale","yScale","data","_b","xTicks","ticks","map","tick","index","x","Math","round","bandwidth","y","range","text","dy","key","style","cursor","renderXValues","xValues","renderBars","bars","maxY","rect","barsWidth","padding","availableWidth","availableHeight","innerPadding","relativeInnerPadding","max","scaleBand","domain","paddingInner","scaleLinear","transform","enableLocationsNavigator","state","openIssue","selectedLocationIndex","secondaryLocations","flows","selectedFlowIndex","locationsNavigator","disableLocationsNavigator","selectNextLocation","lastLocationIdx","selectPreviousLocation","selectNextFlow","selectPreviousFlow","LocationNavigationKeyboardShortcuts","issue","hasSeveralFlows","ConciseIssueLocationBadge","mouseEnterDelay","count","LocationIndex","selected","collapsed","handleExpandClick","setState","badges","forEach","flow","onFlowSelect","slice","LIMIT","renderExpandButton","node","scroll","prevProps","message","ref","LocationMessage","handleMoreLocationsClick","groupByFile","locations","groups","currentComponent","currentComponentName","currentLocations","currentFirstLocationIndex","location","component","componentName","firstLocationIndex","renderLocation","onLocationSelect","renderGroup","group","groupIndex","onlyFirst","onlyLast","lastLocationIndex","msg","nextProps","nextLocations","firstGroup","lastGroup","every","locationComponents","handleScroll","rootElement","messageElement","window","innerHeight","clickAttributesMain","role","tabIndex","clickAttributesTitle","TypeHelper","type","ConciseIssueComponent","path","title","previousIssue","displayComponent","componentLongName","onSelect","element","bottomOffset","scrollableElement","document","querySelector","topOffset","parent","issues","onIssueSelect","IssuesCounter","PageCounter","current","label","total","ConciseIssuesListHeader","displayBackButton","paging","selectedIndex","loading","onBackClick","onReload","handleSearch","query","page","organization","handleItemClick","itemValue","multiple","assignees","onChange","assigned","newValue","includes","handleClear","getAssigneeName","assignee","user","referencedUsers","name","login","loadSearchResultCount","getSortedItems","stats","keys","renderFacetItem","userName","Avatar","hash","avatar","size","renderSearchResult","result","displayName","values","ListStyleFacet","facetHeader","fetching","getFacetItemText","getSearchResultKey","getSearchResultText","onClear","onItemClick","onSearch","onToggle","open","property","searchPlaceholder","author","_page","project","qualifier","ps","q","then","authors","maxResults","results","term","hasValue","createdAfter","createdAt","createdBefore","createdInLast","sinceLeakPeriod","handleHeaderClick","resetTo","changes","handleBarClick","handlePeriodChange","from","to","handlePeriodClick","period","handleLeakPeriodClick","formatDate","intl","periods","start","startDate","endDate","setDate","getDate","tooltipEndDate","Date","floor","maxValue","date","DateRangeInput","FacetItem","active","renderExactDate","renderBarChart","renderPeriodSelectors","renderPredefinedPeriods","FacetBox","FacetHeader","getValues","renderInner","defaultProps","directory","componentKey","components","filter","dir","directories","renderDirectory","minSearchLength","getFilePath","fileUuid","referencedComponents","getReferencedComponent","find","uuid","file","files","renderFile","fileUuids","getLanguageName","language","referencedLanguages","getAllPossibleOptions","toLowerCase","pageIndex","pageSize","Promise","resolve","installedLanguages","languages","qualifiers","refKey","getProjectName","projects","renderProject","Organization","link","organizationKey","RESOLUTIONS","resolutions","resolved","renderItem","resolution","isFacetItemActive","stat","getStat","halfWidth","getFacetItemName","FacetItemsList","MultipleSelectionHint","f","join","s","include_external","response","rules","rule","getRuleName","ruleKey","referencedRules","formatRuleName","langName","SEVERITIES","severities","severity","SeverityHelper","STATUSES","statuses","status","StatusHelper","tags","getTagName","tag","renderTag","gray60","types","t","facets","loadingFacets","openFacets","commonProps","onFilterChange","onFacetToggle","referencedComponentsById","hideAuthorFacet","displayProjectsFacet","displayAuthorFacet","StandardFacet","cwe","cweOpen","cweStats","fetchingCwe","fetchingOwaspTop10","owaspTop10","fetchingSansTop25","sansTop25","fetchingSonarSourceSecurity","sonarsourceSecurity","standards","owaspTop10Open","owaspTop10Stats","sansTop25Open","sansTop25Stats","sonarsourceSecurityOpen","sonarsourceSecurityStats","referencedComponentsByKey","renderComponentFacets","myIssues","AssigneeSelect","TagSelect","super","mounted","loadIssues","fetchIssues","additionalFields","getDefaultAssignee","currentUser","handleAssigneeSearch","r","userInfo","handleAssigneeSelect","handleTagsSearch","handleTagsSelect","field","handleFieldCheck","checked","handleRadioTransitionChange","transition","handleCommentChange","comment","handleSelectFieldChange","handleSubmit","add_tags","addTags","assign","do_transition","remove_tags","removeTags","sendNotifications","notifications","set_severity","set_type","issueKeys","submitting","onDone","error","throwGlobalError","renderLoading","onClose","renderAffected","affected","renderField","input","id","htmlFor","renderAssigneeOption","option","renderAssigneeField","hasAction","clearable","defaultOptions","renderOption","resetOnBlur","renderTypeField","optionRenderer","searchable","valueRenderer","renderSeverityField","renderTagOption","renderTagsField","allowCreate","initialTags","canCreate","minimumQueryLength","multi","onMultiSelect","promptTextCreator","promptCreateTag","renderTransitionsField","transitions","getAvailableTransitions","onCheck","renderCommentField","rows","MarkdownTips","renderNotificationsField","right","renderForm","limitReached","onSubmit","Alert","variant","defaultMessage","all","contentLabel","onRequestClose","action","actions","ComponentBreadcrumbs","displayOrganization","displayProject","displaySubProject","selectedLocation","projectName","subProject","subProjectName","handleFilter","issuesReset","startsWith","substr","projectKey","subProjectUuid","modules","componentUuid","branchLike","Issue","onFilter","onPopupToggle","openPopup","prerender","setTimeout","selectedIssue","onIssueChange","onIssueCheck","onIssueClick","lazyLoadComponent","scrollToIssue","smooth","offset","handleLoaded","shouldScrollBackToIssue","loc","highlightedLocationMessage","onLoaded","aroundLine","textRange","startLine","endLine","allMessagesEmpty","highlightedLocations","SourceViewer","displayAllIssues","displayIssueLocationsCount","displayIssueLocationsLink","displayLocationMarkers","slimHeader","onMyIssuesChange","NoIssues","NoMyIssues","TotalEffort","effort","0","effortTotal","renderShortcuts","canSetHome","HomePageSelect","currentPage","DEFAULT_QUERY","handleKeyDown","keyCode","altKey","handleKeyUp","getOpenIssue","selectNextIssue","getSelectedIndex","selectPreviousIssue","issueKey","pathname","scrollToSelectedIssue","router","replace","closeIssue","openSelectedIssue","additional","requestFacets","requestOrganizations","facet","parameters","componentKeys","sort","asc","Boolean","multiOrganizations","fetchIssuesPage","fetchIssuesUntil","done","recursiveFetch","prevIssues","pageIssues","other","fetchMoreIssues","reject","checkAll","loadingMore","fetchIssuesForComponent","_component","_from","isSameComponent","lastIssue","nextIssues","fetchFacet","users","isFiltered","serialized","getCheckedIssues","getButtonLabel","min","handleFilterChange","handleMyIssuesChange","closeFacet","handleFacetToggle","willOpenProperty","newState","handleReset","handlePopupToggle","popupName","samePopup","handleIssueCheck","handleIssueChange","refreshBranchStatus","candidate","handleOpenBulkChange","bulkChangeModal","handleCloseBulkChange","handleBulkChangeDone","fetchFirstIssues","handleReload","onBranchesChange","handleReloadAndOpenFirst","selectLocation","nextIndex","handleCheckAll","selectFlow","fetchBranchStatus","isLoggedIn","attachShortcuts","prevState","prevQuery","detachShortcuts","addEventListener","removeEventListener","findIndex","openIssueKey","fetchPromise","some","cannotShowOpenIssue","isAllChecked","thirdState","isChecked","userOrganizations","userOrganization","o","FiltersHeader","displayReset","onReset","loadMore","ScreenPositionHelper","top","A11ySkipTarget","anchor","weight","renderConciseIssuesList","renderFacets","noIssuesMessage","renderBulkChange","branch","pullRequest","renderList","Suggestions","suggestions","defer","renderSide","renderHeader","renderPage","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","__assign","n","call","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Icon_1","qualifierIcons","app","iconProps","ThemedIcon","blue","brc","dev","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","orange","FoundIcon","measures_1","DeferredSpinner_1","buttons_1","button","needReload","ready","hasMore","reload","Button","translateWithParameters","formatMeasure","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","toNumber","react_intl_1","dates_1","children","FormattedRelative","parseDate","parse","getDaysInMonth","dirtyDate","dirtyAmount","amount","Number","desiredMonth","getMonth","dateWithDesiredMonth","setFullYear","getFullYear","setHours","daysInMonth","setMonth","year","monthIndex","lastDayOfMonth","Radio","ChevronDownIcon_1","ChevronRightIcon_1","toggleBodyClass","force","body","classList","toggle","documentElement","addSideBarClass","addWhitePageClass","addNoFooterPageClass","console","warn","removeSideBarClass","removeWhitePageClass","removeNoFooterPageClass","dirtyMonth","month","day","getPosition","containerPos","container","getBoundingClientRect","pageYOffset","left","pageXOffset","debouncedOnResize","forceUpdate","helper","showClearButton","renderHelper","renderValueIndicator","ctrlKey","metaKey","renderValue","MultiSelectOption","custom","onHover","renderLabel","onFocus","onMouseOver","onSelectChange","handleSelectChange","item","onSelectItem","onUnselectItem","handleSearchChange","onSearchQuery","validateSearchInput","handleElementHover","activeIdx","getAllElements","handleKeyboard","evt","stopPropagation","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","onUnselect","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","listSize","unselectedElements","setElementActive","idx","allElements","totalElements","searchInput","focus","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","div","autoFocus","placeholder","TagsList","allowUpdate","dirtyYear","addMonths","createRange","baseRange","isIterateeCall","toFinite","fromRight","end","step","nativeCeil","ceil","nativeMax","handleShowMoreClick","showMore","handleShowLessClick","showLess","allShown","searching","searchResultsCounts","showFullList","stopSearching","search","loadCountsForSearchResults","searchMaxResults","searchResults","searchPaging","catch","searchMore","resultsToLoad","hideFullList","maxInitialItems","sortedItems","limitedList","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","minLength","loadingResults","showList","disabledHelper","renderSearch","renderSearchResults","highlightTerm","str","pos","Fragment","substring","TagsSelector","selectedTags","validateTag","DayPicker","DateInput","openCalendar","handleResetClick","closeCalendar","currentMonth","lastHovered","handleDayClick","modifiers","handleDayMouseEnter","handleCurrentMonthChange","handleCurrentYearChange","handlePreviousMonthClick","handleNextMonthClick","highlightFrom","highlightTo","minDate","after","maxDate","months","years","selectedDays","lastHoveredOrValue","highlighted","weekdaysLong","weekdaysShort","onClickOutside","InputWrapper","inputClassName","innerRef","readOnly","String","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","formattedValue","DEFAULT_HOMEPAGE","setHomePage","homepage","isSameHomePage","isDefault","filled","mapDispatchToProps","a","leading","clickAttributes","navigator","userAgent","color","isSymbol","comparator","computed","getStandards","renderCWECategory","category","record","renderOwaspTop10Category","withPrefix","addPrefix","toUpperCase","renderSansTop25Category","renderSonarSourceSecurityCategory","prefix","startOfDay","dirtyDateLeft","dirtyDateRight","dateLeftStartOfDay","dateRightStartOfDay","getTime","handleFromChange","toDateInput","handleToChange","lodash_1","Select_1","SearchSelect","currentQuery","handleChange","handleInputChange","handleFilterOption","debounce","componentDidMount","componentWillUnmount","get","autofocus","enumerable","configurable","Component","Creatable","escapeClearsValue","filterOption","isLoading","noResultsText","onBlurResetsInput","onInputChange","IssueChangelogDiff","diff","oldValue","ReloadButton","statusIcons","OpenStatusIcon","confirmed","ConfirmedStatusIcon","reopened","ResolvedStatusIcon","closed","baseFontColor","to_review","in_review","reviewed","Icon","updateIssue","resultPromise","oldIssue","newIssue","optimisticUpdate","handleSelect","handleHover","placement","renderLink","previousKeyScope","previousFilter","currentKeyScope","tagName","target","srcElement","isInput","items","renderChild","child","currentItem","hasChildren","searchMembers","projectOrganization","handleSearchResult","searchUsers","activeUsers","defaultUsersArray","Dropdown","noPadding","marginLeft","withCurrentUser","toggleAssign","togglePopup","handleClose","assigneeName","assigneeAvatar","assigneeActive","canAssign","closeOnEscape","isOpen","onAssign","renderAssignee","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","markdown","autoTriggered","onKeyDown","addComment","closeOnClickOutside","currentPopup","commentAutoTriggered","commentPlaceholder","SEVERITY","SetSeverityPopup","toggleSetSeverity","setSeverity","setIssueProperty","canSetSeverity","searchResult","setTags","availableTags","BottomRight","toggleSetTags","canSetTags","SetTransitionPopup","fromHotspot","isManualVulnerability","description","translateTransition","setTransition","toggleSetTransition","hasTransitions","TYPES","SetTypePopup","toggleSetType","setType","canSetType","popup","apiCall","handleTransition","canComment","isSecurityHotspot","CommentDeletePopup","onDelete","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","closePopups","authorName","authorActive","authorAvatar","dangerouslySetInnerHTML","__html","htmlText","updatable","changelog","loadChangelog","creationDate","isUserActive","diffs","toggleChangelog","IssueMessage","engine","engineName","manualVulnerability","ruleEngine","onOpenRule","ruleName","componentQualifier","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","reduce","sum","locationsBadge","displayLocations","displayLocationsCount","issueUrl","externalRulesRepoNames","openRule","externalRuleEngine","displayLocationsLink","handleCheck","isClickable","parentElement","editComment","deleteComment","hasCheckbox","issueClass","hotspot","comments","handleAssignement","bindShortcuts","unbindShortcuts","shouldBeDisplayed","linkClassName","ownProps","loadStandards","handleOwaspTop10HeaderClick","handleSansTop25HeaderClick","handleSonarSourceSecurityHeaderClick","prop","handleOwaspTop10ItemClick","handleSansTop25ItemClick","handleSonarSourceSecurityItemClick","handleCWESearch","loadCWESearchResultCount","categories","statsProp","valuesProp","renderName","renderFacetItemsList","renderTooltip","renderHint","renderSonarSourceSecurityList","renderSonarSourceSecurityHint","renderOwaspTop10List","renderOwaspTop10Hint","renderSansTop25List","renderSansTop25Hint","renderSubFacets"],"mappings":"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","file":"js/278.m.be7a5476.chunk.js","sourcesContent":["var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#777;font-size:12px;text-anchor:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './EmptySearch.css';\n\nexport default function EmptySearch() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('no_results_search')}</h3>\n      <p className=\"big-spacer-top\">{translate('no_results_search.2')}</p>\n    </div>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".empty-search{padding:60px 0;border:1px solid #e6e6e6;border-radius:2px;color:#777;text-align:center}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar theme_1 = require(\"../theme\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar BackButton = (function (_super) {\n    __extends(BackButton, _super);\n    function BackButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onClick();\n            }\n        };\n        _this.renderIcon = function () { return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(\"svg\", { height: \"24\", viewBox: \"0 0 21 24\", width: \"21\" },\n            React.createElement(\"path\", { d: \"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z\", fill: _this.props.disabled ? theme.colors.disableGrayText : theme.colors.secondFontColor }))); })); };\n        return _this;\n    }\n    BackButton.prototype.render = function () {\n        var _a = this.props.tooltip, tooltip = _a === void 0 ? l10n_1.translate('issues.return_to_list') : _a;\n        return (React.createElement(Tooltip_1.default, { overlay: tooltip },\n            React.createElement(\"a\", { className: classNames('link-no-underline', { 'cursor-not-allowed': this.props.disabled }, this.props.className), href: \"#\", onClick: this.handleClick }, this.renderIcon())));\n    };\n    return BackButton;\n}(React.PureComponent));\nexports.default = BackButton;\n//# sourceMappingURL=BackButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d3_array_1 = require(\"d3-array\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar React = require(\"react\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nrequire(\"./BarChart.css\");\nvar BarChart = (function (_super) {\n    __extends(BarChart, _super);\n    function BarChart() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (point) {\n            if (_this.props.onBarClick) {\n                _this.props.onBarClick(point);\n            }\n        };\n        _this.renderXTicks = function (xScale, yScale) {\n            var _a = _this.props, data = _a.data, _b = _a.xTicks, xTicks = _b === void 0 ? [] : _b;\n            if (!xTicks.length) {\n                return null;\n            }\n            var ticks = xTicks.map(function (tick, index) {\n                var point = data[index];\n                var x = Math.round(xScale(point.x) + xScale.bandwidth() / 2);\n                var y = yScale.range()[0];\n                var d = data[index];\n                var text = (React.createElement(\"text\", { className: \"bar-chart-tick\", dy: \"1.5em\", key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, x: x, y: y }, tick));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: d.tooltip || undefined }, text));\n            });\n            return React.createElement(\"g\", null, ticks);\n        };\n        _this.renderXValues = function (xScale, yScale) {\n            var _a = _this.props, data = _a.data, _b = _a.xValues, xValues = _b === void 0 ? [] : _b;\n            if (!xValues.length) {\n                return null;\n            }\n            var ticks = xValues.map(function (value, index) {\n                var point = data[index];\n                var x = Math.round(xScale(point.x) + xScale.bandwidth() / 2);\n                var y = yScale(point.y);\n                var text = (React.createElement(\"text\", { className: \"bar-chart-tick\", dy: \"-1em\", key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, x: x, y: y }, value));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: point.tooltip || undefined }, text));\n            });\n            return React.createElement(\"g\", null, ticks);\n        };\n        _this.renderBars = function (xScale, yScale) {\n            var bars = _this.props.data.map(function (point, index) {\n                var x = Math.round(xScale(point.x));\n                var maxY = yScale.range()[0];\n                var y = Math.round(yScale(point.y)) - 1;\n                var height = maxY - y;\n                var rect = (React.createElement(\"rect\", { className: \"bar-chart-bar\", height: height, key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, width: _this.props.barsWidth, x: x, y: y }));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: point.tooltip || undefined }, rect));\n            });\n            return React.createElement(\"g\", null, bars);\n        };\n        return _this;\n    }\n    BarChart.prototype.render = function () {\n        var _a = this.props, barsWidth = _a.barsWidth, data = _a.data, width = _a.width, height = _a.height, _b = _a.padding, padding = _b === void 0 ? [10, 10, 10, 10] : _b;\n        var availableWidth = width - padding[1] - padding[3];\n        var availableHeight = height - padding[0] - padding[2];\n        var innerPadding = (availableWidth - barsWidth * data.length) / (data.length - 1);\n        var relativeInnerPadding = innerPadding / (innerPadding + barsWidth);\n        var maxY = d3_array_1.max(data, function (d) { return d.y; });\n        var xScale = d3_scale_1.scaleBand()\n            .domain(data.map(function (d) { return d.x; }))\n            .range([0, availableWidth])\n            .paddingInner(relativeInnerPadding);\n        var yScale = d3_scale_1.scaleLinear().domain([0, maxY]).range([availableHeight, 0]);\n        return (React.createElement(\"svg\", { className: \"bar-chart\", height: height, width: width },\n            React.createElement(\"g\", { transform: \"translate(\" + padding[3] + \", \" + padding[0] + \")\" },\n                this.renderXTicks(xScale, yScale),\n                this.renderXValues(xScale, yScale),\n                this.renderBars(xScale, yScale))));\n    };\n    return BarChart;\n}(React.PureComponent));\nexports.default = BarChart;\n//# sourceMappingURL=BarChart.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".issues-main-header .component-name{line-height:24px}.issues-main-header-spinner{margin-right:2px}.concise-issues-list-header-inner{width:260px;text-align:center}.concise-issues-list-header .spinner{margin-top:4px;margin-left:1px;margin-right:1px}.concise-issues-list-header-button{border:none}.concise-issues-list-header-button path{fill:#777;transition:fill .3s ease}.concise-issues-list-header-button:hover path{fill:#4b9fd5}.concise-issue-component{margin-top:16px;margin-bottom:4px;padding-left:8px;padding-right:8px;direction:rtl}.concise-issue-box{position:relative;z-index:1;margin-bottom:4px;padding:7px;border:2px solid #e6e6e6;background-color:#fff;cursor:pointer;transition:background-color .3s ease,border-color .3s ease}.concise-issue-box:hover{border:2px dashed #4b9fd5}.concise-issue-box:focus{outline:none}.concise-issue-box.selected{z-index:2;border:2px solid #4b9fd5;cursor:default}.concise-issue-box-message{overflow:hidden;text-overflow:ellipsis;font-weight:700}.concise-issue-box-message:focus{outline:none}.concise-issue-box.selected .concise-issue-box-message{cursor:pointer}.concise-issue-box-attributes{margin-top:8px;line-height:16px;font-size:12px;display:flex;align-items:flex-start;flex-wrap:wrap;justify-content:flex-start}.concise-issue-box:not(.selected) .location-index{background-color:#ccc}.concise-issue-locations{display:inline-block;margin-bottom:-4px;margin-left:8px}.concise-issue-box-attributes>.location-index{margin-bottom:4px;margin-right:4px}.concise-issue-box-attributes>.concise-issue-expand{background-color:transparent;border:1px solid #d18582;height:16px;color:#d18582;font-weight:700;font-size:16px;line-height:8px;padding-bottom:6px}.concise-issue-box-attributes>.concise-issue-expand:hover{background-color:#d18582;color:#fff}.concise-issue-locations-navigator-location{position:relative;z-index:3;display:inline-flex;align-items:flex-start;max-width:100%;border:none}.concise-issue-locations-navigator-file{position:relative}.concise-issue-locations-navigator-file+.concise-issue-locations-navigator-file{margin-top:12px}.concise-issue-locations-navigator-file:not(:last-child):before{position:absolute;display:block;width:0;top:13px;bottom:-16px;left:4px;border-left:1px dotted #d18582;content:\\\"\\\"}.concise-issue-location-file{height:16px;padding-bottom:4px;font-size:12px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.concise-issue-location-file-circle,.concise-issue-location-file-circle-multiple,.concise-issue-location-file-circle-multiple:after,.concise-issue-location-file-circle-multiple:before{position:relative;top:1px;display:inline-block;width:9px;height:9px;border:1px solid #d18582;border-radius:100%;box-sizing:border-box;background-color:#f2dede}.concise-issue-location-file-circle-multiple{top:-2px}.concise-issue-location-file-circle-multiple:before{position:absolute;z-index:7;top:2px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-circle-multiple:after{position:absolute;z-index:8;top:5px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-locations{padding-left:16px}.concise-issue-location-file-more{border-color:rgba(209,133,130,.2);color:#d18582!important;font-style:italic;font-weight:400}.concise-issue-location-file-more:focus,.concise-issue-location-file-more:hover{border-color:rgba(209,133,130,.6)}.component-source-container{border:1px solid #cdcdcd}.component-source-container+.component-source-container{margin-top:8px}.component-source-container-header{background-color:#efefef;padding:8px}.issues-my-issues-filter{margin-bottom:24px;text-align:center}.issues-page-actions{display:inline-block;min-width:80px;text-align:right}.issues .issue-list{min-width:640px;width:800px}.issues .issue{border:2px solid transparent;cursor:pointer}.issues .issue:focus-within,.issues .issue:hover{border:2px dashed #4b9fd5;transition:all .3s ease;outline:0}.issues .issue a:focus,.issues .issue button:focus{box-shadow:none;outline:1px dotted #4b9fd5}@media (max-width:1320px){.issues .issue-list{width:calc(60vw - 40px)}}.issue-location{display:inline-block;vertical-align:top;line-height:18px;height:18px;box-sizing:border-box;background-color:#f2dede;transition:background-color .3s ease}.issues-workspace-list-component{padding:10px 10px 6px}.issues-workspace-list-item+.issues-workspace-list-item{margin-top:5px}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:10px}.issues-workspace-list-item:first-child .issues-workspace-list-component{padding-top:0}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:0}.issues-predefined-periods{display:flex}.issues-predefined-periods .search-navigator-facet{width:auto;margin-right:4px}.bulk-change-radio-button{margin:0 -4px;padding:0 4px}.bulk-change-radio-button:hover{background-color:#f3f3f3}.navigation-keyboard-shortcuts>span{background-color:hsla(0,0%,78.4%,.5);border-radius:16px;display:inline-block;font-size:12px;height:16px;padding:4px 8px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { State } from './components/App';\nimport { allLocationsEmpty } from './utils';\n\nexport function enableLocationsNavigator(state: State) {\n  const { openIssue, selectedLocationIndex } = state;\n  if (openIssue && (openIssue.secondaryLocations.length > 0 || openIssue.flows.length > 0)) {\n    const selectedFlowIndex =\n      state.selectedFlowIndex || (openIssue.flows.length > 0 ? 0 : undefined);\n\n    if (!allLocationsEmpty(openIssue, selectedFlowIndex)) {\n      return {\n        locationsNavigator: true,\n        selectedFlowIndex,\n        // Also reset index = -1 to 0, we don't want to start on the issue when enabling the location navigator\n        selectedLocationIndex:\n          !selectedLocationIndex || selectedLocationIndex < 0 ? 0 : selectedLocationIndex\n      };\n    }\n  }\n  return null;\n}\n\nexport function disableLocationsNavigator() {\n  return { locationsNavigator: false };\n}\n\nexport function selectLocation(nextIndex: number) {\n  return (state: Pick<State, 'selectedLocationIndex' | 'openIssue'>) => {\n    const { selectedLocationIndex: index, openIssue } = state;\n    if (openIssue) {\n      if (index === nextIndex) {\n        // disable locations when selecting (clicking) the same location\n        return {\n          locationsNavigator: false,\n          selectedLocationIndex: undefined\n        };\n      } else {\n        return { locationsNavigator: true, selectedLocationIndex: nextIndex };\n      }\n    }\n    return null;\n  };\n}\n\nexport function selectNextLocation(\n  state: Pick<State, 'selectedFlowIndex' | 'selectedLocationIndex' | 'openIssue'>\n) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    const locations =\n      selectedFlowIndex !== undefined\n        ? openIssue.flows[selectedFlowIndex]\n        : openIssue.secondaryLocations;\n    const lastLocationIdx = locations.length - 1;\n    if (index === lastLocationIdx) {\n      // -1 to jump back to the issue itself\n      return { selectedLocationIndex: -1 };\n    }\n    return {\n      selectedLocationIndex: index !== undefined && index < lastLocationIdx ? index + 1 : index\n    };\n  }\n  return null;\n}\n\nexport function selectPreviousLocation(state: State) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    if (index === -1) {\n      const locations =\n        selectedFlowIndex !== undefined\n          ? openIssue.flows[selectedFlowIndex]\n          : openIssue.secondaryLocations;\n      const lastLocationIdx = locations.length - 1;\n      return { selectedLocationIndex: lastLocationIdx };\n    }\n    return { selectedLocationIndex: index !== undefined && index > 0 ? index - 1 : index };\n  }\n  return null;\n}\n\nexport function selectFlow(nextIndex?: number) {\n  return () => {\n    return { locationsNavigator: true, selectedFlowIndex: nextIndex, selectedLocationIndex: 0 };\n  };\n}\n\nexport function selectNextFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (\n    openIssue &&\n    selectedFlowIndex !== undefined &&\n    openIssue.flows.length > selectedFlowIndex + 1\n  ) {\n    return { selectedFlowIndex: selectedFlowIndex + 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n\nexport function selectPreviousFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (openIssue && selectedFlowIndex !== undefined && selectedFlowIndex > 0) {\n    return { selectedFlowIndex: selectedFlowIndex - 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface Props {\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'> | undefined;\n}\n\nexport default function LocationNavigationKeyboardShortcuts({ issue }: Props) {\n  if (!issue || (!issue.secondaryLocations.length && !issue.flows.length)) {\n    return null;\n  }\n  const hasSeveralFlows = issue.flows.length > 1;\n  return (\n    <div className=\"navigation-keyboard-shortcuts big-spacer-top text-center\">\n      <span>\n        alt +   {hasSeveralFlows && <></>}\n        {translate('issues.to_navigate_issue_locations')}\n      </span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport LocationIndex from '../../../components/common/LocationIndex';\n\ninterface Props {\n  count: number;\n  onClick?: () => void;\n  selected: boolean;\n}\n\nexport default function ConciseIssueLocationBadge(props: Props) {\n  return (\n    <Tooltip\n      mouseEnterDelay={0.5}\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(props.count, 'INT')\n      )}>\n      <LocationIndex onClick={props.onClick} selected={props.selected}>\n        {'+'}\n        {props.count}\n      </LocationIndex>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConciseIssueLocationBadge from './ConciseIssueLocationBadge';\n\ninterface Props {\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>;\n  onFlowSelect: (index: number) => void;\n  selectedFlowIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\nconst LIMIT = 8;\n\nexport default class ConciseIssueLocations extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  handleExpandClick = () => {\n    this.setState({ collapsed: false });\n  };\n\n  renderExpandButton() {\n    return (\n      <Button\n        className=\"concise-issue-expand location-index link-no-underline\"\n        onClick={this.handleExpandClick}>\n        ...\n      </Button>\n    );\n  }\n\n  render() {\n    const { secondaryLocations, flows } = this.props.issue;\n\n    const badges: JSX.Element[] = [];\n\n    if (secondaryLocations.length > 0) {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={secondaryLocations.length}\n          key=\"-1\"\n          selected={!this.props.selectedFlowIndex}\n        />\n      );\n    }\n\n    flows.forEach((flow, index) => {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={flow.length}\n          key={index}\n          onClick={() => this.props.onFlowSelect(index)}\n          selected={index === this.props.selectedFlowIndex}\n        />\n      );\n    });\n\n    if (!this.state.collapsed || badges.length <= LIMIT) {\n      return badges;\n    }\n\n    return (\n      <>\n        {badges.slice(0, LIMIT - 1)}\n        {this.renderExpandButton()}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport LocationMessage from '../../../components/common/LocationMessage';\n\ninterface Props {\n  index: number;\n  message: string | undefined;\n  onClick: (index: number) => void;\n  scroll: (element: Element) => void;\n  selected: boolean;\n}\n\nexport default class ConciseIssueLocationsNavigatorLocation extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.index);\n  };\n\n  render() {\n    const { index, message, selected } = this.props;\n\n    return (\n      <div className=\"little-spacer-top\" ref={node => (this.node = node)}>\n        <a\n          className=\"concise-issue-locations-navigator-location\"\n          href=\"#\"\n          onClick={this.handleClick}>\n          <LocationIndex selected={selected}>{index + 1}</LocationIndex>\n          <LocationMessage selected={selected}>{message}</LocationMessage>\n        </a>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\n\ninterface Props {\n  issue: Pick<T.Issue, 'key' | 'type'>;\n  locations: T.FlowLocation[];\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedLocationIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\ninterface LocationGroup {\n  component: string | undefined;\n  componentName: string | undefined;\n  firstLocationIndex: number;\n  locations: T.FlowLocation[];\n}\n\nconst MAX_PATH_LENGTH = 15;\n\nexport default class CrossFileLocationsNavigator extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.issue.key !== this.props.issue.key) {\n      this.setState({ collapsed: true });\n    }\n\n    // expand locations list as soon as a location in the middle of the list is selected\n    const { locations: nextLocations } = nextProps;\n    if (\n      nextProps.selectedLocationIndex &&\n      nextProps.selectedLocationIndex > 0 &&\n      nextLocations !== undefined &&\n      nextProps.selectedLocationIndex < nextLocations.length - 1\n    ) {\n      this.setState({ collapsed: false });\n    }\n  }\n\n  handleMoreLocationsClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ collapsed: false });\n  };\n\n  groupByFile = (locations: T.FlowLocation[]) => {\n    const groups: LocationGroup[] = [];\n\n    let currentLocations: T.FlowLocation[] = [];\n    let currentComponent: string | undefined;\n    let currentComponentName: string | undefined;\n    let currentFirstLocationIndex = 0;\n\n    for (let index = 0; index < locations.length; index++) {\n      const location = locations[index];\n      if (location.component === currentComponent) {\n        currentLocations.push(location);\n      } else {\n        if (currentLocations.length > 0) {\n          groups.push({\n            component: currentComponent,\n            componentName: currentComponentName,\n            firstLocationIndex: currentFirstLocationIndex,\n            locations: currentLocations\n          });\n        }\n        currentLocations = [location];\n        currentComponent = location.component;\n        currentComponentName = location.componentName;\n        currentFirstLocationIndex = index;\n      }\n    }\n\n    if (currentLocations.length > 0) {\n      groups.push({\n        component: currentComponent,\n        componentName: currentComponentName,\n        firstLocationIndex: currentFirstLocationIndex,\n        locations: currentLocations\n      });\n    }\n\n    return groups;\n  };\n\n  renderLocation = (index: number, message: string | undefined) => {\n    return (\n      <ConciseIssueLocationsNavigatorLocation\n        index={index}\n        key={index}\n        message={message}\n        onClick={this.props.onLocationSelect}\n        scroll={this.props.scroll}\n        selected={index === this.props.selectedLocationIndex}\n      />\n    );\n  };\n\n  renderGroup = (\n    group: LocationGroup,\n    groupIndex: number,\n    { onlyFirst = false, onlyLast = false } = {}\n  ) => {\n    const { firstLocationIndex } = group;\n    const lastLocationIndex = group.locations.length - 1;\n    return (\n      <div className=\"concise-issue-locations-navigator-file\" key={groupIndex}>\n        <div className=\"concise-issue-location-file\">\n          <i className=\"concise-issue-location-file-circle little-spacer-right\" />\n          {collapsePath(group.componentName || '', MAX_PATH_LENGTH)}\n        </div>\n        {group.locations.length > 0 && (\n          <div className=\"concise-issue-location-file-locations\">\n            {onlyFirst && this.renderLocation(firstLocationIndex, group.locations[0].msg)}\n\n            {onlyLast &&\n              this.renderLocation(\n                firstLocationIndex + lastLocationIndex,\n                group.locations[lastLocationIndex].msg\n              )}\n\n            {!onlyFirst &&\n              !onlyLast &&\n              group.locations.map((location, index) =>\n                this.renderLocation(firstLocationIndex + index, location.msg)\n              )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { locations } = this.props;\n    const groups = this.groupByFile(locations);\n\n    if (locations.length > 2 && groups.length > 1 && this.state.collapsed) {\n      const firstGroup = groups[0];\n      const lastGroup = groups[groups.length - 1];\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {this.renderGroup(firstGroup, 0, { onlyFirst: true })}\n          <div className=\"concise-issue-locations-navigator-file\">\n            <div className=\"concise-issue-location-file\">\n              <i className=\"concise-issue-location-file-circle-multiple little-spacer-right\" />\n              <a\n                className=\"concise-issue-location-file-more\"\n                href=\"#\"\n                onClick={this.handleMoreLocationsClick}>\n                {translateWithParameters('issues.x_more_locations', locations.length - 2)}\n              </a>\n            </div>\n          </div>\n          {this.renderGroup(lastGroup, groups.length - 1, { onlyLast: true })}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {groups.map((group, groupIndex) => this.renderGroup(group, groupIndex))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport * as React from 'react';\nimport { getLocations } from '../utils';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport CrossFileLocationsNavigator from './CrossFileLocationsNavigator';\n\ninterface Props {\n  issue: Pick<T.Issue, 'component' | 'key' | 'flows' | 'secondaryLocations' | 'type'>;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueLocationsNavigator extends React.PureComponent<Props> {\n  render() {\n    const locations = getLocations(this.props.issue, this.props.selectedFlowIndex);\n\n    if (!locations || locations.length === 0 || locations.every(location => !location.msg)) {\n      return null;\n    }\n\n    const locationComponents = [\n      this.props.issue.component,\n      ...locations.map(location => location.component)\n    ];\n    const isCrossFile = uniq(locationComponents).length > 1;\n\n    if (isCrossFile) {\n      return (\n        <CrossFileLocationsNavigator\n          issue={this.props.issue}\n          locations={locations}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selectedLocationIndex={this.props.selectedLocationIndex}\n        />\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {locations.map((location, index) => (\n            <ConciseIssueLocationsNavigatorLocation\n              index={index}\n              key={index}\n              message={location.msg}\n              onClick={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selected={index === this.props.selectedLocationIndex}\n            />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport LocationNavigationKeyboardShortcuts from '../components/LocationNavigationKeyboardShortcuts';\nimport ConciseIssueLocations from './ConciseIssueLocations';\nimport ConciseIssueLocationsNavigator from './ConciseIssueLocationsNavigator';\n\ninterface Props {\n  issue: T.Issue;\n  onClick: (issueKey: string) => void;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element, bottomOffset?: number) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueBox extends React.PureComponent<Props> {\n  messageElement?: HTMLElement | null;\n  rootElement?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.issue.key);\n  };\n\n  handleScroll = () => {\n    const { selectedFlowIndex } = this.props;\n    const { flows, secondaryLocations } = this.props.issue;\n\n    const locations = flows.length > 0 ? flows[selectedFlowIndex || 0] : secondaryLocations;\n\n    if (!locations || locations.length < 15) {\n      // if there are no locations, or there are just few\n      // then ensuse that the whole box is visible\n      if (this.rootElement) {\n        this.props.scroll(this.rootElement);\n      }\n    } else if (this.messageElement) {\n      // otherwise scroll until the the message element is located on top\n      this.props.scroll(this.messageElement, window.innerHeight - 250);\n    }\n  };\n\n  render() {\n    const { issue, selected } = this.props;\n\n    const clickAttributesMain = selected\n      ? {}\n      : { onClick: this.handleClick, role: 'listitem', tabIndex: 0 };\n\n    const clickAttributesTitle = selected\n      ? { onClick: this.handleClick, role: 'listitem', tabIndex: 0 }\n      : {};\n\n    return (\n      <div\n        className={classNames('concise-issue-box', 'clearfix', { selected })}\n        ref={node => (this.rootElement = node)}\n        {...clickAttributesMain}>\n        <div\n          className=\"concise-issue-box-message\"\n          {...clickAttributesTitle}\n          ref={node => (this.messageElement = node)}>\n          {issue.message}\n        </div>\n        <div className=\"concise-issue-box-attributes\">\n          <TypeHelper className=\"display-block little-spacer-right\" type={issue.type} />\n          <ConciseIssueLocations\n            issue={issue}\n            onFlowSelect={this.props.onFlowSelect}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n          />\n        </div>\n        {selected && (\n          <>\n            <ConciseIssueLocationsNavigator\n              issue={issue}\n              onLocationSelect={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selectedFlowIndex={this.props.selectedFlowIndex}\n              selectedLocationIndex={this.props.selectedLocationIndex}\n            />\n            <LocationNavigationKeyboardShortcuts issue={issue} />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  path: string;\n}\n\nexport default function ConciseIssueComponent({ path }: Props) {\n  return (\n    <div className=\"concise-issue-component text-ellipsis note\" title={path}>\n      {path}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueBox from './ConciseIssueBox';\nimport ConciseIssueComponent from './ConciseIssueComponent';\n\ninterface Props {\n  issue: T.Issue;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  onSelect: (issueKey: string) => void;\n  previousIssue: T.Issue | undefined;\n  scroll: (element: Element) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssue extends React.PureComponent<Props> {\n  render() {\n    const { issue, previousIssue, selected } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div>\n        {displayComponent && <ConciseIssueComponent path={issue.componentLongName} />}\n        <ConciseIssueBox\n          issue={issue}\n          onClick={this.props.onSelect}\n          onFlowSelect={this.props.onFlowSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selected={selected}\n          selectedFlowIndex={selected ? this.props.selectedFlowIndex : undefined}\n          selectedLocationIndex={selected ? this.props.selectedLocationIndex : undefined}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport ConciseIssue from './ConciseIssue';\n\ninterface Props {\n  issues: T.Issue[];\n  onFlowSelect: (index: number) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  selected: string | undefined;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssuesList extends React.PureComponent<Props> {\n  handleScroll = (element: Element, bottomOffset = 100) => {\n    const scrollableElement = document.querySelector('.layout-page-side');\n    if (element && scrollableElement) {\n      scrollToElement(element, { topOffset: 150, bottomOffset, parent: scrollableElement });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.issues.map((issue, index) => (\n          <ConciseIssue\n            issue={issue}\n            key={issue.key}\n            onFlowSelect={this.props.onFlowSelect}\n            onLocationSelect={this.props.onLocationSelect}\n            onSelect={this.props.onIssueSelect}\n            previousIssue={index > 0 ? this.props.issues[index - 1] : undefined}\n            scroll={this.handleScroll}\n            selected={issue.key === this.props.selected}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport PageCounter from '../../../components/common/PageCounter';\n\ninterface Props {\n  className?: string;\n  current: number | undefined;\n  total: number;\n}\n\nexport default function IssuesCounter(props: Props) {\n  return (\n    <PageCounter\n      className=\"spacer-left\"\n      current={props.current}\n      label={translate('issues.issues')}\n      total={props.total}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BackButton from 'sonar-ui-common/components/controls/BackButton';\nimport ReloadButton from 'sonar-ui-common/components/controls/ReloadButton';\nimport IssuesCounter from '../components/IssuesCounter';\n\ninterface Props {\n  displayBackButton?: boolean;\n  loading: boolean;\n  onBackClick: () => void;\n  onReload: () => void;\n  paging: T.Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default function ConciseIssuesListHeader(props: Props) {\n  const { displayBackButton = true, paging, selectedIndex } = props;\n\n  return (\n    <header className=\"layout-page-header-panel concise-issues-list-header\">\n      <div className=\"layout-page-header-panel-inner concise-issues-list-header-inner\">\n        {displayBackButton && (\n          <BackButton className=\"pull-left\" disabled={props.loading} onClick={props.onBackClick} />\n        )}\n        {props.loading ? (\n          <i className=\"spinner pull-right\" />\n        ) : (\n          <ReloadButton className=\"pull-right\" onClick={props.onReload} />\n        )}\n        {paging && <IssuesCounter current={selectedIndex} total={paging.total} />}\n      </div>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport Avatar from '../../../components/ui/Avatar';\nimport { isUserActive } from '../../../helpers/users';\nimport { Facet, Query, searchAssignees } from '../utils';\n\ninterface Props {\n  assigned: boolean;\n  assignees: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  referencedUsers: T.Dict<T.UserBase>;\n}\n\nexport default class AssigneeFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page?: number) => {\n    return searchAssignees(query, this.props.organization, page);\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { assignees } = this.props;\n    if (itemValue === '') {\n      // unassigned\n      this.props.onChange({ assigned: !this.props.assigned, assignees: [] });\n    } else if (multiple) {\n      const newValue = sortBy(\n        assignees.includes(itemValue) ? without(assignees, itemValue) : [...assignees, itemValue]\n      );\n      this.props.onChange({ assigned: true, assignees: newValue });\n    } else {\n      this.props.onChange({\n        assigned: true,\n        assignees: assignees.includes(itemValue) && assignees.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleClear = () => {\n    this.props.onChange({ assigned: true, assignees: [] });\n  };\n\n  getAssigneeName = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    } else {\n      const user = this.props.referencedUsers[assignee];\n      if (!user) {\n        return assignee;\n      }\n      return isUserActive(user) ? user.name : translateWithParameters('user.x_deleted', user.login);\n    }\n  };\n\n  loadSearchResultCount = (assignees: T.UserBase[]) => {\n    return this.props.loadSearchResultCount('assignees', {\n      assigned: undefined,\n      assignees: assignees.map(assignee => assignee.login)\n    });\n  };\n\n  getSortedItems = () => {\n    const { stats = {} } = this.props;\n    return sortBy(\n      Object.keys(stats),\n      // put \"not assigned\" first\n      key => (key === '' ? 0 : 1),\n      // the sort by number\n      key => -stats[key]\n    );\n  };\n\n  renderFacetItem = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    }\n\n    const user = this.props.referencedUsers[assignee];\n\n    if (!user) {\n      return assignee;\n    }\n\n    const userName = user.name || user.login;\n\n    return (\n      <>\n        <Avatar className=\"little-spacer-right\" hash={user.avatar} name={userName} size={16} />\n        {isUserActive(user) ? userName : translateWithParameters('user.x_deleted', userName)}\n      </>\n    );\n  };\n\n  renderSearchResult = (result: T.UserBase, query: string) => {\n    const displayName = isUserActive(result)\n      ? result.name\n      : translateWithParameters('user.x_deleted', result.login);\n    return (\n      <>\n        <Avatar\n          className=\"little-spacer-right\"\n          hash={result.avatar}\n          name={result.name || result.login}\n          size={16}\n        />\n        {highlightTerm(displayName, query)}\n      </>\n    );\n  };\n\n  render() {\n    const values = [...this.props.assignees];\n    if (!this.props.assigned) {\n      values.push('');\n    }\n\n    return (\n      <ListStyleFacet<T.UserBase>\n        facetHeader={translate('issues.facet.assignees')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getAssigneeName}\n        getSearchResultKey={user => user.login}\n        getSearchResultText={user => user.name || user.login}\n        // put \"not assigned\" item first\n        getSortedItems={this.getSortedItems}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onClear={this.handleClear}\n        onItemClick={this.handleItemClick}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"assignees\"\n        query={omit(this.props.query, 'assigned', 'assignees')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_users')}\n        stats={this.props.stats}\n        values={values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { searchIssueAuthors } from '../../../api/issues';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  authors: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class AuthorFacet extends React.PureComponent<Props> {\n  identity = (author: string) => {\n    return author;\n  };\n\n  handleSearch = (query: string, _page: number) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueAuthors({\n      organization: this.props.organization,\n      project,\n      ps: SEARCH_SIZE, // maximum\n      q: query\n    }).then(authors => ({ maxResults: authors.length === SEARCH_SIZE, results: authors }));\n  };\n\n  loadSearchResultCount = (authors: string[]) => {\n    return this.props.loadSearchResultCount('authors', { authors });\n  };\n\n  renderSearchResult = (author: string, term: string) => {\n    return highlightTerm(author, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.authors')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.identity}\n        getSearchResultKey={this.identity}\n        getSearchResultText={this.identity}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"authors\"\n        query={omit(this.props.query, 'authors')}\n        renderFacetItem={this.identity}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_authors')}\n        stats={this.props.stats}\n        values={this.props.authors}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as isSameDay from 'date-fns/is_same_day';\nimport { max } from 'lodash';\nimport * as React from 'react';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport BarChart from 'sonar-ui-common/components/charts/BarChart';\nimport { longFormatterOption } from 'sonar-ui-common/components/intl/DateFormatter';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  createdAfter: Date | undefined;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  sinceLeakPeriod: boolean;\n  stats: T.Dict<number> | undefined;\n}\n\nclass CreationDateFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  property = 'createdAt';\n\n  static defaultProps = {\n    open: true\n  };\n\n  hasValue = () =>\n    this.props.createdAfter !== undefined ||\n    this.props.createdAt.length > 0 ||\n    this.props.createdBefore !== undefined ||\n    this.props.createdInLast.length > 0 ||\n    this.props.sinceLeakPeriod;\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.resetTo({});\n  };\n\n  resetTo = (changes: Partial<Query>) => {\n    this.props.onChange({\n      createdAfter: undefined,\n      createdAt: undefined,\n      createdBefore: undefined,\n      createdInLast: undefined,\n      sinceLeakPeriod: undefined,\n      ...changes\n    });\n  };\n\n  handleBarClick = ({\n    createdAfter,\n    createdBefore\n  }: {\n    createdAfter: Date;\n    createdBefore?: Date;\n  }) => {\n    this.resetTo({ createdAfter, createdBefore });\n  };\n\n  handlePeriodChange = ({ from, to }: { from?: Date; to?: Date }) => {\n    this.resetTo({ createdAfter: from, createdBefore: to });\n  };\n\n  handlePeriodClick = (period: string) => this.resetTo({ createdInLast: period });\n\n  handleLeakPeriodClick = () => this.resetTo({ sinceLeakPeriod: true });\n\n  getValues() {\n    const { createdAfter, createdAt, createdBefore, createdInLast, sinceLeakPeriod } = this.props;\n    const { formatDate } = this.props.intl;\n    const values = [];\n    if (createdAfter) {\n      values.push(formatDate(createdAfter, longFormatterOption));\n    }\n    if (createdAt) {\n      values.push(formatDate(createdAt, longFormatterOption));\n    }\n    if (createdBefore) {\n      values.push(formatDate(createdBefore, longFormatterOption));\n    }\n    if (createdInLast === '1w') {\n      values.push(translate('issues.facet.createdAt.last_week'));\n    }\n    if (createdInLast === '1m') {\n      values.push(translate('issues.facet.createdAt.last_month'));\n    }\n    if (createdInLast === '1y') {\n      values.push(translate('issues.facet.createdAt.last_year'));\n    }\n    if (sinceLeakPeriod) {\n      values.push(translate('issues.new_code'));\n    }\n    return values;\n  }\n\n  renderBarChart() {\n    const { createdBefore, stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const periods = Object.keys(stats);\n\n    if (periods.length < 2 || periods.every(period => !stats[period])) {\n      return null;\n    }\n\n    const { formatDate } = this.props.intl;\n    const data = periods.map((start, index) => {\n      const startDate = parseDate(start);\n      let endDate;\n      if (index < periods.length - 1) {\n        endDate = parseDate(periods[index + 1]);\n        endDate.setDate(endDate.getDate() - 1);\n      } else {\n        endDate = createdBefore ? parseDate(createdBefore) : undefined;\n      }\n\n      const tooltipEndDate = endDate || new Date();\n      const tooltip = (\n        // eslint-disable-next-line react/jsx-fragments\n        <React.Fragment>\n          {formatMeasure(stats[start], 'SHORT_INT')}\n          <br />\n          {formatDate(startDate, longFormatterOption)}\n          {!isSameDay(tooltipEndDate, startDate) &&\n            ` - ${formatDate(tooltipEndDate, longFormatterOption)}`}\n        </React.Fragment>\n      );\n\n      return {\n        createdAfter: startDate,\n        createdBefore: endDate,\n        tooltip,\n        x: index,\n        y: stats[start]\n      };\n    });\n\n    const barsWidth = Math.floor(250 / data.length);\n    const width = barsWidth * data.length - 1 + 10;\n\n    const maxValue = max(data.map(d => d.y));\n    const xValues = data.map(d => (d.y === maxValue ? formatMeasure(maxValue, 'SHORT_INT') : ''));\n\n    return (\n      <BarChart\n        barsWidth={barsWidth - 1}\n        data={data}\n        height={75}\n        onBarClick={this.handleBarClick}\n        padding={[25, 0, 5, 10]}\n        width={width}\n        xValues={xValues}\n      />\n    );\n  }\n\n  renderExactDate() {\n    return (\n      <div className=\"search-navigator-facet-container\">\n        <DateTimeFormatter date={this.props.createdAt} />\n        <br />\n        <span className=\"note\">\n          <DateFromNow date={this.props.createdAt} />\n        </span>\n      </div>\n    );\n  }\n\n  renderPeriodSelectors() {\n    const { createdAfter, createdBefore } = this.props;\n    return (\n      <div className=\"search-navigator-date-facet-selection\">\n        <DateRangeInput\n          onChange={this.handlePeriodChange}\n          value={{ from: createdAfter, to: createdBefore }}\n        />\n      </div>\n    );\n  }\n\n  renderPredefinedPeriods() {\n    const { component, createdInLast, sinceLeakPeriod } = this.props;\n    return (\n      <div className=\"spacer-top issues-predefined-periods\">\n        <FacetItem\n          active={!this.hasValue()}\n          name={translate('issues.facet.createdAt.all')}\n          onClick={this.handlePeriodClick}\n          tooltip={translate('issues.facet.createdAt.all')}\n          value=\"\"\n        />\n        {component ? (\n          <FacetItem\n            active={sinceLeakPeriod}\n            name={translate('issues.new_code')}\n            onClick={this.handleLeakPeriodClick}\n            tooltip={translate('issues.new_code_period')}\n            value=\"\"\n          />\n        ) : (\n          <>\n            <FacetItem\n              active={createdInLast === '1w'}\n              name={translate('issues.facet.createdAt.last_week')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_week')}\n              value=\"1w\"\n            />\n            <FacetItem\n              active={createdInLast === '1m'}\n              name={translate('issues.facet.createdAt.last_month')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_month')}\n              value=\"1m\"\n            />\n            <FacetItem\n              active={createdInLast === '1y'}\n              name={translate('issues.facet.createdAt.last_year')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_year')}\n              value=\"1y\"\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n\n  renderInner() {\n    const { createdAt } = this.props;\n    return createdAt ? (\n      this.renderExactDate()\n    ) : (\n      <div>\n        {this.renderBarChart()}\n        {this.renderPeriodSelectors()}\n        {this.renderPredefinedPeriods()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderInner()}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(CreationDateFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { getDirectories, TreeComponentWithPath } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, Query } from '../utils';\n\ninterface Props {\n  componentKey: string;\n  directories: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: Facet | undefined;\n}\n\nexport default class DirectoryFacet extends React.PureComponent<Props> {\n  getFacetItemText = (path: string) => {\n    return path;\n  };\n\n  getSearchResultKey = (directory: TreeComponentWithPath) => {\n    return directory.path;\n  };\n\n  getSearchResultText = (directory: TreeComponentWithPath) => {\n    return directory.name;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    return getDirectories({\n      component: this.props.componentKey,\n      q: query,\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.filter(dir => dir.path !== undefined)\n    }));\n  };\n\n  loadSearchResultCount = (directories: TreeComponentWithPath[]) => {\n    return this.props.loadSearchResultCount('directories', {\n      directories: directories.map(directory => directory.path)\n    });\n  };\n\n  renderDirectory = (directory: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"DIR\" />\n      {directory}\n    </>\n  );\n\n  renderFacetItem = (path: string) => {\n    return this.renderDirectory(collapsePath(path, 15));\n  };\n\n  renderSearchResult = (directory: TreeComponentWithPath, term: string) => {\n    return this.renderDirectory(highlightTerm(collapsePath(directory.path, 15), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponentWithPath>\n        facetHeader={translate('issues.facet.directories')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"directories\"\n        query={omit(this.props.query, 'directories')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_directories')}\n        stats={this.props.stats}\n        values={this.props.directories}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getFiles, TreeComponentWithPath } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, Query, ReferencedComponent } from '../utils';\n\ninterface Props {\n  componentKey: string;\n  fetching: boolean;\n  fileUuids: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedComponents: T.Dict<ReferencedComponent>;\n  stats: Facet | undefined;\n}\n\nexport default class FileFacet extends React.PureComponent<Props> {\n  getFilePath = (fileUuid: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[fileUuid]\n      ? collapsePath(referencedComponents[fileUuid].path || '', 15)\n      : fileUuid;\n  };\n\n  getReferencedComponent = (key: string) => {\n    const { referencedComponents } = this.props;\n    const fileUuid = Object.keys(referencedComponents).find(uuid => {\n      return referencedComponents[uuid].key === key;\n    });\n    return fileUuid ? referencedComponents[fileUuid] : undefined;\n  };\n\n  getFacetItemText = (fileUuid: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[fileUuid] ? referencedComponents[fileUuid].path || '' : fileUuid;\n  };\n\n  getSearchResultKey = (file: TreeComponentWithPath) => {\n    const component = this.getReferencedComponent(file.key);\n    return component ? component.uuid : file.key;\n  };\n\n  getSearchResultText = (file: TreeComponentWithPath) => {\n    return file.path;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    return getFiles({\n      component: this.props.componentKey,\n      q: query,\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.filter(file => file.path !== undefined)\n    }));\n  };\n\n  loadSearchResultCount = (files: TreeComponentWithPath[]) => {\n    return this.props.loadSearchResultCount('files', {\n      files: files\n        .map(file => {\n          const component = this.getReferencedComponent(file.key);\n          return component && component.uuid;\n        })\n        .filter(isDefined)\n    });\n  };\n\n  renderFile = (file: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"FIL\" />\n      {file}\n    </>\n  );\n\n  renderFacetItem = (fileUuid: string) => {\n    const name = this.getFilePath(fileUuid);\n    return this.renderFile(name);\n  };\n\n  renderSearchResult = (file: TreeComponentWithPath, term: string) => {\n    return this.renderFile(highlightTerm(collapsePath(file.path, 15), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponentWithPath>\n        facetHeader={translate('issues.facet.files')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"files\"\n        query={omit(this.props.query, 'files')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_files')}\n        stats={this.props.stats}\n        values={this.props.fileUuids}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport { Facet, Query, ReferencedLanguage } from '../utils';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface Props {\n  fetching: boolean;\n  installedLanguages: InstalledLanguage[];\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  stats: T.Dict<number> | undefined;\n}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (language: string) => {\n    const { referencedLanguages } = this.props;\n    return referencedLanguages[language] ? referencedLanguages[language].name : language;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  loadSearchResultCount = (languages: InstalledLanguage[]) => {\n    return this.props.loadSearchResultCount('languages', {\n      languages: languages.map(language => language.key)\n    });\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        facetHeader={translate('issues.facet.languages')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        query={omit(this.props.query, 'languages')}\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.languages}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { getTree, searchProjects } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport Organization from '../../../components/shared/Organization';\nimport { Facet, Query, ReferencedComponent } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: { key: string } | undefined;\n  projects: string[];\n  query: Query;\n  referencedComponents: T.Dict<ReferencedComponent>;\n  stats: T.Dict<number> | undefined;\n}\n\ninterface SearchedProject {\n  key: string;\n  name: string;\n  organization: string;\n}\n\nexport default class ProjectFacet extends React.PureComponent<Props> {\n  handleSearch = (\n    query: string,\n    page = 1\n  ): Promise<{ results: SearchedProject[]; paging: T.Paging }> => {\n    const { component, organization } = this.props;\n    if (component && ['VW', 'SVW', 'APP'].includes(component.qualifier)) {\n      return getTree({\n        component: component.key,\n        p: page,\n        ps: 30,\n        q: query,\n        qualifiers: 'TRK'\n      }).then(({ components, paging }) => ({\n        paging,\n        results: components.map(component => ({\n          key: component.refKey || component.key,\n          name: component.name,\n          organization: component.organization\n        }))\n      }));\n    }\n\n    return searchProjects({\n      p: page,\n      ps: 30,\n      filter: query ? `query = \"${query}\"` : '',\n      organization: organization && organization.key\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.map(component => ({\n        key: component.key,\n        name: component.name,\n        organization: component.organization\n      }))\n    }));\n  };\n\n  getProjectName = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? referencedComponents[project].name : project;\n  };\n\n  loadSearchResultCount = (projects: SearchedProject[]) => {\n    return this.props.loadSearchResultCount('projects', {\n      projects: projects.map(project => project.key)\n    });\n  };\n\n  renderFacetItem = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? (\n      this.renderProject(referencedComponents[project])\n    ) : (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n        {project}\n      </span>\n    );\n  };\n\n  renderProject = (project: Pick<SearchedProject, 'name' | 'organization'>) => (\n    <span>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n      {!this.props.organization && (\n        <Organization link={false} organizationKey={project.organization} />\n      )}\n      {project.name}\n    </span>\n  );\n\n  renderSearchResult = (project: Pick<SearchedProject, 'name' | 'organization'>, term: string) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n      {!this.props.organization && (\n        <Organization link={false} organizationKey={project.organization} />\n      )}\n      {highlightTerm(project.name, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<SearchedProject>\n        facetHeader={translate('issues.facet.projects')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getProjectName}\n        getSearchResultKey={project => project.key}\n        getSearchResultText={project => project.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"projects\"\n        query={omit(this.props.query, 'projects')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_projects')}\n        stats={this.props.stats}\n        values={this.props.projects}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  resolved: boolean;\n  resolutions: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nconst RESOLUTIONS = ['', 'FALSE-POSITIVE', 'FIXED', 'REMOVED', 'WONTFIX'];\n\nexport default class ResolutionFacet extends React.PureComponent<Props> {\n  property = 'resolutions';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { resolutions } = this.props;\n    if (itemValue === '') {\n      // unresolved\n      this.props.onChange({ resolved: !this.props.resolved, resolutions: [] });\n    } else if (multiple) {\n      const newValue = orderBy(\n        resolutions.includes(itemValue)\n          ? without(resolutions, itemValue)\n          : [...resolutions, itemValue]\n      );\n      this.props.onChange({ resolved: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        resolved: true,\n        [this.property]:\n          resolutions.includes(itemValue) && resolutions.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ resolved: false, resolutions: [] });\n  };\n\n  isFacetItemActive(resolution: string) {\n    return resolution === '' ? !this.props.resolved : this.props.resolutions.includes(resolution);\n  }\n\n  getFacetItemName(resolution: string) {\n    return resolution === '' ? translate('unresolved') : translate('issue.resolution', resolution);\n  }\n\n  getStat(resolution: string) {\n    const { stats } = this.props;\n    return stats ? stats[resolution] : undefined;\n  }\n\n  renderItem = (resolution: string) => {\n    const active = this.isFacetItemActive(resolution);\n    const stat = this.getStat(resolution);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={resolution}\n        name={this.getFacetItemName(resolution)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.getFacetItemName(resolution)}\n        value={resolution}\n      />\n    );\n  };\n\n  render() {\n    const { resolutions, stats = {} } = this.props;\n    const values = resolutions.map(resolution => this.getFacetItemName(resolution));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{RESOLUTIONS.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint\n              options={Object.keys(stats).length}\n              values={resolutions.length}\n            />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchRules } from '../../../api/rules';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, Query, ReferencedRule } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  referencedRules: T.Dict<ReferencedRule>;\n  rules: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nexport default class RuleFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page = 1) => {\n    const { languages, organization } = this.props;\n    return searchRules({\n      f: 'name,langName',\n      languages: languages.length ? languages.join() : undefined,\n      organization,\n      q: query,\n      p: page,\n      ps: 30,\n      s: 'name',\n      include_external: true\n    }).then(response => ({\n      paging: { pageIndex: response.p, pageSize: response.ps, total: response.total },\n      results: response.rules\n    }));\n  };\n\n  loadSearchResultCount = (rules: T.Rule[]) => {\n    return this.props.loadSearchResultCount('rules', { rules: rules.map(rule => rule.key) });\n  };\n\n  getRuleName = (ruleKey: string) => {\n    const rule = this.props.referencedRules[ruleKey];\n    return rule ? this.formatRuleName(rule.name, rule.langName) : ruleKey;\n  };\n\n  formatRuleName = (name: string, langName: string | undefined) => {\n    // external rules don't have a language associated\n    // see https://jira.sonarsource.com/browse/MMF-1407\n    return langName ? `(${langName}) ${name}` : name;\n  };\n\n  renderSearchResult = (rule: T.Rule) => {\n    return this.formatRuleName(rule.name, rule.langName);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<T.Rule>\n        facetHeader={translate('issues.facet.rules')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getRuleName}\n        getSearchResultKey={rule => rule.key}\n        getSearchResultText={rule => rule.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"rules\"\n        query={omit(this.props.query, 'rules')}\n        renderFacetItem={this.getRuleName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_rules')}\n        stats={this.props.stats}\n        values={this.props.rules}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  severities: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nconst SEVERITIES = ['BLOCKER', 'MINOR', 'CRITICAL', 'INFO', 'MAJOR'];\n\nexport default class SeverityFacet extends React.PureComponent<Props> {\n  property = 'severities';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { severities } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        severities.includes(itemValue) ? without(severities, itemValue) : [...severities, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: severities.includes(itemValue) && severities.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(severity: string) {\n    const { stats } = this.props;\n    return stats ? stats[severity] : undefined;\n  }\n\n  renderItem = (severity: string) => {\n    const active = this.props.severities.includes(severity);\n    const stat = this.getStat(severity);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={severity}\n        name={<SeverityHelper severity={severity} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('severity', severity)}\n        value={severity}\n      />\n    );\n  };\n\n  render() {\n    const { severities, stats = {} } = this.props;\n    const values = severities.map(severity => translate('severity', severity));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{SEVERITIES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={severities.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport StatusHelper from '../../../components/shared/StatusHelper';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: T.Dict<number> | undefined;\n  statuses: string[];\n}\n\nconst STATUSES = ['OPEN', 'CONFIRMED', 'REOPENED', 'RESOLVED', 'CLOSED'];\n\nexport default class StatusFacet extends React.PureComponent<Props> {\n  property = 'statuses';\n\n  static defaultProps = { open: true };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { statuses } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        statuses.includes(itemValue) ? without(statuses, itemValue) : [...statuses, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: statuses.includes(itemValue) && statuses.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(status: string) {\n    const { stats } = this.props;\n    return stats ? stats[status] : undefined;\n  }\n\n  renderItem = (status: string) => {\n    const active = this.props.statuses.includes(status);\n    const stat = this.getStat(status);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={status}\n        name={<StatusHelper resolution={undefined} status={status} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('issue.status', status)}\n        value={status}\n      />\n    );\n  };\n\n  render() {\n    const { statuses, stats = {} } = this.props;\n    const values = statuses.map(status => translate('issue.status', status));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList title={translate('issues')}>\n              {STATUSES.map(this.renderItem)}\n            </FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={statuses.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { searchIssueTags } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  tags: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueTags({\n      organization: this.props.organization,\n      project,\n      ps: SEARCH_SIZE,\n      q: query\n    }).then(tags => ({ maxResults: tags.length === SEARCH_SIZE, results: tags }));\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  loadSearchResultCount = (tags: string[]) => {\n    return this.props.loadSearchResultCount('tags', { tags });\n  };\n\n  renderTag = (tag: string) => {\n    return (\n      <>\n        <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n        {tag}\n      </>\n    );\n  };\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.tags')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        query={omit(this.props.query, 'tags')}\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.tags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { ISSUE_TYPES } from '../../../helpers/constants';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: T.Dict<number> | undefined;\n  types: string[];\n}\n\nexport default class TypeFacet extends React.PureComponent<Props> {\n  property = 'types';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { types } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        types.includes(itemValue) ? without(types, itemValue) : [...types, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: types.includes(itemValue) && types.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(type: string) {\n    const { stats } = this.props;\n    return stats ? stats[type] : undefined;\n  }\n\n  isFacetItemActive(type: string) {\n    return this.props.types.includes(type);\n  }\n\n  renderItem = (type: string) => {\n    const active = this.isFacetItemActive(type);\n    const stat = this.getStat(type);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        key={type}\n        name={\n          <span className=\"display-flex-center\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />{' '}\n            {translate('issue.type', type)}\n          </span>\n        }\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        value={type}\n      />\n    );\n  };\n\n  render() {\n    const { types, stats = {} } = this.props;\n    const values = types.map(type => translate('issue.type', type));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>\n              {ISSUE_TYPES.filter(t => t !== 'SECURITY_HOTSPOT').map(this.renderItem)}\n            </FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={types.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Facet, Query, ReferencedComponent, ReferencedLanguage, ReferencedRule } from '../utils';\nimport AssigneeFacet from './AssigneeFacet';\nimport AuthorFacet from './AuthorFacet';\nimport CreationDateFacet from './CreationDateFacet';\nimport DirectoryFacet from './DirectoryFacet';\nimport FileFacet from './FileFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProjectFacet from './ProjectFacet';\nimport ResolutionFacet from './ResolutionFacet';\nimport RuleFacet from './RuleFacet';\nimport SeverityFacet from './SeverityFacet';\nimport StandardFacet from './StandardFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TypeFacet from './TypeFacet';\n\nexport interface Props {\n  component: T.Component | undefined;\n  facets: T.Dict<Facet | undefined>;\n  hideAuthorFacet?: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  loadingFacets: T.Dict<boolean>;\n  myIssues: boolean;\n  onFacetToggle: (property: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: T.Dict<boolean>;\n  organization: { key: string } | undefined;\n  query: Query;\n  referencedComponentsById: T.Dict<ReferencedComponent>;\n  referencedComponentsByKey: T.Dict<ReferencedComponent>;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  referencedRules: T.Dict<ReferencedRule>;\n  referencedUsers: T.Dict<T.UserBase>;\n}\n\nexport default class Sidebar extends React.PureComponent<Props> {\n  renderComponentFacets() {\n    const { component, facets, loadingFacets, openFacets, query } = this.props;\n    if (!component) {\n      return null;\n    }\n    const commonProps = {\n      componentKey: component.key,\n      loadSearchResultCount: this.props.loadSearchResultCount,\n      onChange: this.props.onFilterChange,\n      onToggle: this.props.onFacetToggle,\n      query\n    };\n    return (\n      <>\n        {component.qualifier !== 'DIR' && (\n          <DirectoryFacet\n            directories={query.directories}\n            fetching={loadingFacets.directories === true}\n            open={!!openFacets.directories}\n            stats={facets.directories}\n            {...commonProps}\n          />\n        )}\n        <FileFacet\n          fetching={loadingFacets.files === true}\n          fileUuids={query.files}\n          open={!!openFacets.files}\n          referencedComponents={this.props.referencedComponentsById}\n          stats={facets.files}\n          {...commonProps}\n        />\n      </>\n    );\n  }\n\n  render() {\n    const { component, facets, hideAuthorFacet, openFacets, query } = this.props;\n\n    const displayProjectsFacet =\n      !component || !['TRK', 'BRC', 'DIR', 'DEV_PRJ'].includes(component.qualifier);\n    const displayAuthorFacet = !hideAuthorFacet && (!component || component.qualifier !== 'DEV');\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    return (\n      <>\n        <TypeFacet\n          fetching={this.props.loadingFacets.types === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.types}\n          stats={facets.types}\n          types={query.types}\n        />\n        <SeverityFacet\n          fetching={this.props.loadingFacets.severities === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.severities}\n          severities={query.severities}\n          stats={facets.severities}\n        />\n        <ResolutionFacet\n          fetching={this.props.loadingFacets.resolutions === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.resolutions}\n          resolutions={query.resolutions}\n          resolved={query.resolved}\n          stats={facets.resolutions}\n        />\n        <StatusFacet\n          fetching={this.props.loadingFacets.statuses === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.statuses}\n          stats={facets.statuses}\n          statuses={query.statuses}\n        />\n        <StandardFacet\n          cwe={query.cwe}\n          cweOpen={!!openFacets.cwe}\n          cweStats={facets.cwe}\n          fetchingCwe={this.props.loadingFacets.cwe === true}\n          fetchingOwaspTop10={this.props.loadingFacets.owaspTop10 === true}\n          fetchingSansTop25={this.props.loadingFacets.sansTop25 === true}\n          fetchingSonarSourceSecurity={this.props.loadingFacets.sonarsourceSecurity === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.standards}\n          owaspTop10={query.owaspTop10}\n          owaspTop10Open={!!openFacets.owaspTop10}\n          owaspTop10Stats={facets.owaspTop10}\n          query={query}\n          sansTop25={query.sansTop25}\n          sansTop25Open={!!openFacets.sansTop25}\n          sansTop25Stats={facets.sansTop25}\n          sonarsourceSecurity={query.sonarsourceSecurity}\n          sonarsourceSecurityOpen={!!openFacets.sonarsourceSecurity}\n          sonarsourceSecurityStats={facets.sonarsourceSecurity}\n        />\n        <CreationDateFacet\n          component={component}\n          createdAfter={query.createdAfter}\n          createdAt={query.createdAt}\n          createdBefore={query.createdBefore}\n          createdInLast={query.createdInLast}\n          fetching={this.props.loadingFacets.createdAt === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.createdAt}\n          sinceLeakPeriod={query.sinceLeakPeriod}\n          stats={facets.createdAt}\n        />\n        <LanguageFacet\n          fetching={this.props.loadingFacets.languages === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.languages}\n          query={query}\n          referencedLanguages={this.props.referencedLanguages}\n          stats={facets.languages}\n        />\n        <RuleFacet\n          fetching={this.props.loadingFacets.rules === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.rules}\n          organization={organizationKey}\n          query={query}\n          referencedRules={this.props.referencedRules}\n          rules={query.rules}\n          stats={facets.rules}\n        />\n        <TagFacet\n          component={component}\n          fetching={this.props.loadingFacets.tags === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.tags}\n          organization={organizationKey}\n          query={query}\n          stats={facets.tags}\n          tags={query.tags}\n        />\n        {displayProjectsFacet && (\n          <ProjectFacet\n            component={component}\n            fetching={this.props.loadingFacets.projects === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.projects}\n            organization={this.props.organization}\n            projects={query.projects}\n            query={query}\n            referencedComponents={this.props.referencedComponentsByKey}\n            stats={facets.projects}\n          />\n        )}\n        {this.renderComponentFacets()}\n        {!this.props.myIssues && (\n          <AssigneeFacet\n            assigned={query.assigned}\n            assignees={query.assignees}\n            fetching={this.props.loadingFacets.assignees === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.assignees}\n            organization={organizationKey}\n            query={query}\n            referencedUsers={this.props.referencedUsers}\n            stats={facets.assignees}\n          />\n        )}\n        {displayAuthorFacet && (\n          <AuthorFacet\n            authors={query.authors}\n            component={component}\n            fetching={this.props.loadingFacets.authors === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.authors}\n            organization={organizationKey}\n            query={query}\n            stats={facets.authors}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { pickBy, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport SearchSelect from 'sonar-ui-common/components/controls/SearchSelect';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { bulkChangeIssues, searchIssueTags } from '../../../api/issues';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Avatar from '../../../components/ui/Avatar';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport { searchAssignees } from '../utils';\n\ninterface AssigneeOption {\n  avatar?: string;\n  email?: string;\n  label: string;\n  value: string;\n}\n\ninterface TagOption {\n  label: string;\n  value: string;\n}\n\ninterface Props {\n  component: T.Component | undefined;\n  currentUser: T.CurrentUser;\n  fetchIssues: (x: {}) => Promise<{ issues: T.Issue[]; paging: T.Paging }>;\n  onClose: () => void;\n  onDone: () => void;\n  organization: { key: string } | undefined;\n}\n\ninterface FormFields {\n  addTags?: Array<{ label: string; value: string }>;\n  assignee?: AssigneeOption;\n  comment?: string;\n  notifications?: boolean;\n  organization?: string;\n  removeTags?: Array<{ label: string; value: string }>;\n  severity?: string;\n  transition?: string;\n  type?: string;\n}\n\ninterface State extends FormFields {\n  initialTags: Array<{ label: string; value: string }>;\n  issues: T.Issue[];\n  // used for initial loading of issues\n  loading: boolean;\n  paging?: T.Paging;\n  // used when submitting a form\n  submitting: boolean;\n}\n\ntype AssigneeSelectType = new () => SearchSelect<AssigneeOption>;\nconst AssigneeSelect = SearchSelect as AssigneeSelectType;\n\ntype TagSelectType = new () => SearchSelect<TagOption>;\nconst TagSelect = SearchSelect as TagSelectType;\n\nexport const MAX_PAGE_SIZE = 500;\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    let organization = props.component && props.component.organization;\n    if (props.organization && !organization) {\n      organization = props.organization.key;\n    }\n    this.state = { initialTags: [], issues: [], loading: true, submitting: false, organization };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    Promise.all([\n      this.loadIssues(),\n      searchIssueTags({ organization: this.state.organization })\n    ]).then(\n      ([{ issues, paging }, tags]) => {\n        if (this.mounted) {\n          if (issues.length > MAX_PAGE_SIZE) {\n            issues = issues.slice(0, MAX_PAGE_SIZE);\n          }\n\n          this.setState({\n            initialTags: tags.map(tag => ({ label: tag, value: tag })),\n            issues,\n            loading: false,\n            paging\n          });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadIssues = () => {\n    return this.props.fetchIssues({ additionalFields: 'actions,transitions', ps: MAX_PAGE_SIZE });\n  };\n\n  getDefaultAssignee = () => {\n    const { currentUser } = this.props;\n    const { issues } = this.state;\n    const options = [];\n\n    if (isLoggedIn(currentUser)) {\n      const canBeAssignedToMe =\n        issues.filter(issue => issue.assignee !== currentUser.login).length > 0;\n      if (canBeAssignedToMe) {\n        options.push({\n          avatar: currentUser.avatar,\n          label: currentUser.name,\n          value: currentUser.login\n        });\n      }\n    }\n\n    const canBeUnassigned = issues.filter(issue => issue.assignee).length > 0;\n    if (canBeUnassigned) {\n      options.push({ label: translate('unassigned'), value: '' });\n    }\n\n    return options;\n  };\n\n  handleAssigneeSearch = (query: string) => {\n    return searchAssignees(query, this.state.organization).then(({ results }) =>\n      results.map(r => {\n        const userInfo = r.name || r.login;\n\n        return {\n          avatar: r.avatar,\n          label: isUserActive(r) ? userInfo : translateWithParameters('user.x_deleted', userInfo),\n          value: r.login\n        };\n      })\n    );\n  };\n\n  handleAssigneeSelect = (assignee: AssigneeOption) => {\n    this.setState({ assignee });\n  };\n\n  handleTagsSearch = (query: string) => {\n    return searchIssueTags({ organization: this.state.organization, q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleTagsSelect = (field: 'addTags' | 'removeTags') => (\n    options: Array<{ label: string; value: string }>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: options });\n  };\n\n  handleFieldCheck = (field: keyof FormFields) => (checked: boolean) => {\n    if (!checked) {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    } else if (field === 'notifications') {\n      this.setState<keyof FormFields>({ [field]: true });\n    }\n  };\n\n  handleRadioTransitionChange = (transition: string) => {\n    this.setState({ transition });\n  };\n\n  handleCommentChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) => {\n    this.setState({ comment: event.currentTarget.value });\n  };\n\n  handleSelectFieldChange = (field: 'severity' | 'type') => (data: { value: string } | null) => {\n    if (data) {\n      this.setState<keyof FormFields>({ [field]: data.value });\n    } else {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    }\n  };\n\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const query = pickBy(\n      {\n        add_tags: this.state.addTags && this.state.addTags.map(t => t.value).join(),\n        assign: this.state.assignee ? this.state.assignee.value : null,\n        comment: this.state.comment,\n        do_transition: this.state.transition,\n        remove_tags: this.state.removeTags && this.state.removeTags.map(t => t.value).join(),\n        sendNotifications: this.state.notifications,\n        set_severity: this.state.severity,\n        set_type: this.state.type\n      },\n      x => x !== undefined\n    );\n\n    const issueKeys = this.state.issues.map(issue => issue.key);\n\n    this.setState({ submitting: true });\n    bulkChangeIssues(issueKeys, query).then(\n      () => {\n        this.setState({ submitting: false });\n        this.props.onDone();\n      },\n      error => {\n        this.setState({ submitting: false });\n        throwGlobalError(error);\n      }\n    );\n  };\n\n  getAvailableTransitions(issues: T.Issue[]) {\n    const transitions: T.Dict<number> = {};\n    issues.forEach(issue => {\n      if (issue.transitions) {\n        issue.transitions.forEach(t => {\n          if (transitions[t] !== undefined) {\n            transitions[t]++;\n          } else {\n            transitions[t] = 1;\n          }\n        });\n      }\n    });\n    return sortBy(Object.keys(transitions)).map(transition => ({\n      transition,\n      count: transitions[transition]\n    }));\n  }\n\n  renderLoading = () => (\n    <div>\n      <div className=\"modal-head\">\n        <h2>{translate('bulk_change')}</h2>\n      </div>\n      <div className=\"modal-body\">\n        <div className=\"text-center\">\n          <i className=\"spinner spacer\" />\n        </div>\n      </div>\n      <div className=\"modal-foot\">\n        <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n      </div>\n    </div>\n  );\n\n  renderAffected = (affected: number) => (\n    <div className=\"pull-right note\">\n      ({translateWithParameters('issue_bulk_change.x_issues', affected)})\n    </div>\n  );\n\n  renderField = (\n    field: 'addTags' | 'assignee' | 'removeTags' | 'severity' | 'type',\n    label: string,\n    affected: number | undefined,\n    input: React.ReactNode\n  ) => (\n    <div className=\"modal-field\" id={`issues-bulk-change-${field}`}>\n      <label htmlFor={field}>{translate(label)}</label>\n      {input}\n      {affected !== undefined && this.renderAffected(affected)}\n    </div>\n  );\n\n  renderAssigneeOption = (option: AssigneeOption) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar className=\"spacer-right\" hash={option.avatar} name={option.label} size={16} />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderAssigneeField = () => {\n    const affected = this.state.issues.filter(hasAction('assign')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <AssigneeSelect\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.getDefaultAssignee()}\n        onSearch={this.handleAssigneeSearch}\n        onSelect={this.handleAssigneeSelect}\n        renderOption={this.renderAssigneeOption}\n        resetOnBlur={false}\n        value={this.state.assignee}\n      />\n    );\n\n    return this.renderField('assignee', 'issue.assign.formlink', affected, input);\n  };\n\n  renderTypeField = () => {\n    const affected = this.state.issues.filter(hasAction('set_type')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const types: T.IssueType[] = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n    const options = types.map(type => ({ label: translate('issue.type', type), value: type }));\n\n    const optionRenderer = (option: { label: string; value: string }) => (\n      <>\n        <IssueTypeIcon query={option.value} />\n        <span className=\"little-spacer-left\">{option.label}</span>\n      </>\n    );\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('type')}\n        optionRenderer={optionRenderer}\n        options={options}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={optionRenderer}\n      />\n    );\n\n    return this.renderField('type', 'issue.set_type', affected, input);\n  };\n\n  renderSeverityField = () => {\n    const affected = this.state.issues.filter(hasAction('set_severity')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const severities = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    const options = severities.map(severity => ({\n      label: translate('severity', severity),\n      value: severity\n    }));\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('severity')}\n        optionRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n        options={options}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n      />\n    );\n\n    return this.renderField('severity', 'issue.set_severity', affected, input);\n  };\n\n  renderTagOption = (option: TagOption) => {\n    return <span>{option.label}</span>;\n  };\n\n  renderTagsField = (field: 'addTags' | 'removeTags', label: string, allowCreate: boolean) => {\n    const { initialTags } = this.state;\n    const affected = this.state.issues.filter(hasAction('set_tags')).length;\n\n    if (initialTags === undefined || affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <TagSelect\n        canCreate={allowCreate}\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.state.initialTags}\n        minimumQueryLength={0}\n        multi={true}\n        onMultiSelect={this.handleTagsSelect(field)}\n        onSearch={this.handleTagsSearch}\n        promptTextCreator={promptCreateTag}\n        renderOption={this.renderTagOption}\n        resetOnBlur={false}\n        value={this.state[field]}\n      />\n    );\n\n    return this.renderField(field, label, affected, input);\n  };\n\n  renderTransitionsField = () => {\n    const transitions = this.getAvailableTransitions(this.state.issues);\n\n    if (transitions.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label>{translate('issue.transition')}</label>\n        {transitions.map(transition => (\n          <span\n            className=\"bulk-change-radio-button display-flex-center display-flex-space-between\"\n            key={transition.transition}>\n            <Radio\n              checked={this.state.transition === transition.transition}\n              onCheck={this.handleRadioTransitionChange}\n              value={transition.transition}>\n              {translate('issue.transition', transition.transition)}\n            </Radio>\n            {this.renderAffected(transition.count)}\n          </span>\n        ))}\n      </div>\n    );\n  };\n\n  renderCommentField = () => {\n    const affected = this.state.issues.filter(hasAction('comment')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label htmlFor=\"comment\">\n          <span className=\"text-middle\">{translate('issue.comment.formlink')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('issue_bulk_change.comment.help')}\n          />\n        </label>\n        <textarea\n          id=\"comment\"\n          onChange={this.handleCommentChange}\n          rows={4}\n          value={this.state.comment || ''}\n        />\n        <MarkdownTips className=\"modal-field-descriptor text-right\" />\n      </div>\n    );\n  };\n\n  renderNotificationsField = () => (\n    <Checkbox\n      checked={this.state.notifications !== undefined}\n      className=\"display-inline-block spacer-top\"\n      id=\"send-notifications\"\n      onCheck={this.handleFieldCheck('notifications')}\n      right={true}>\n      <strong className=\"little-spacer-right\">{translate('issue.send_notifications')}</strong>\n    </Checkbox>\n  );\n\n  renderForm = () => {\n    const { issues, paging, submitting } = this.state;\n\n    const limitReached = paging && paging.total > MAX_PAGE_SIZE;\n\n    return (\n      <form id=\"bulk-change-form\" onSubmit={this.handleSubmit}>\n        <div className=\"modal-head\">\n          <h2>{translateWithParameters('issue_bulk_change.form.title', issues.length)}</h2>\n        </div>\n\n        <div className=\"modal-body modal-container\">\n          {limitReached && (\n            <Alert variant=\"warning\">\n              <FormattedMessage\n                defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                id=\"issue_bulk_change.max_issues_reached\"\n                values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n              />\n            </Alert>\n          )}\n\n          {this.renderAssigneeField()}\n          {this.renderTypeField()}\n          {this.renderSeverityField()}\n          {this.renderTagsField('addTags', 'issue.add_tags', true)}\n          {this.renderTagsField('removeTags', 'issue.remove_tags', false)}\n          {this.renderTransitionsField()}\n          {this.renderCommentField()}\n          {issues.length > 0 && this.renderNotificationsField()}\n          {issues.length === 0 && (\n            <Alert variant=\"warning\">{translate('issue_bulk_change.no_match')}</Alert>\n          )}\n        </div>\n\n        <div className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          <SubmitButton disabled={submitting || issues.length === 0} id=\"bulk-change-submit\">\n            {translate('apply')}\n          </SubmitButton>\n          <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n        </div>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <Modal contentLabel=\"modal\" onRequestClose={this.props.onClose} size=\"small\">\n        {this.state.loading ? this.renderLoading() : this.renderForm()}\n      </Modal>\n    );\n  }\n}\n\nfunction hasAction(action: string) {\n  return (issue: T.Issue) => issue.actions && issue.actions.includes(action);\n}\n\nfunction promptCreateTag(label: string) {\n  return `+ ${label}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { collapsePath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport Organization from '../../../components/shared/Organization';\nimport { getSelectedLocation } from '../utils';\n\ninterface Props {\n  component?: T.Component;\n  issue: Pick<\n    T.Issue,\n    | 'component'\n    | 'componentLongName'\n    | 'flows'\n    | 'organization'\n    | 'project'\n    | 'projectName'\n    | 'secondaryLocations'\n    | 'subProject'\n    | 'subProjectName'\n  >;\n  link?: boolean;\n  organization: { key: string } | undefined;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nexport default function ComponentBreadcrumbs({\n  component,\n  issue,\n  organization,\n  selectedFlowIndex,\n  selectedLocationIndex\n}: Props) {\n  const displayOrganization =\n    !organization && (!component || ['VW', 'SVW'].includes(component.qualifier));\n  const displayProject = !component || !['TRK', 'BRC', 'DIR'].includes(component.qualifier);\n  const displaySubProject = !component || !['BRC', 'DIR'].includes(component.qualifier);\n\n  const selectedLocation = getSelectedLocation(issue, selectedFlowIndex, selectedLocationIndex);\n  const componentName = selectedLocation ? selectedLocation.componentName : issue.componentLongName;\n\n  return (\n    <div className=\"component-name text-ellipsis\">\n      {displayOrganization && <Organization link={false} organizationKey={issue.organization} />}\n\n      {displayProject && (\n        <span title={issue.projectName}>\n          {limitComponentName(issue.projectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      {displaySubProject && issue.subProject !== undefined && issue.subProjectName !== undefined && (\n        <span title={issue.subProjectName}>\n          {limitComponentName(issue.subProjectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      <span title={componentName}>{collapsePath(componentName || '')}</span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Issue from '../../../components/issue/Issue';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Query } from '../utils';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: boolean;\n  component: T.Component | undefined;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck: ((issueKey: string) => void) | undefined;\n  onClick: (issueKey: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: string | undefined;\n  organization: { key: string } | undefined;\n  previousIssue: T.Issue | undefined;\n  selected: boolean;\n}\n\nexport default class ListItem extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    const { onFilterChange } = this.props;\n\n    const issuesReset = { issues: [] };\n\n    if (property.startsWith('tag###')) {\n      const tag = property.substr(6);\n      onFilterChange({ ...issuesReset, tags: [tag] });\n    } else {\n      switch (property) {\n        case 'type':\n          onFilterChange({ ...issuesReset, types: [issue.type] });\n          break;\n        case 'severity':\n          onFilterChange({ ...issuesReset, severities: [issue.severity] });\n          break;\n        case 'status':\n          onFilterChange({ ...issuesReset, statuses: [issue.status] });\n          break;\n        case 'resolution':\n          if (issue.resolution) {\n            onFilterChange({ ...issuesReset, resolved: true, resolutions: [issue.resolution] });\n          } else {\n            onFilterChange({ ...issuesReset, resolved: false, resolutions: [] });\n          }\n          break;\n        case 'assignee':\n          if (issue.assignee) {\n            onFilterChange({ ...issuesReset, assigned: true, assignees: [issue.assignee] });\n          } else {\n            onFilterChange({ ...issuesReset, assigned: false, assignees: [] });\n          }\n          break;\n        case 'rule':\n          onFilterChange({ ...issuesReset, rules: [issue.rule] });\n          break;\n        case 'project':\n          onFilterChange({ ...issuesReset, projects: [issue.projectKey] });\n          break;\n        case 'module':\n          if (issue.subProjectUuid) {\n            onFilterChange({ ...issuesReset, modules: [issue.subProjectUuid] });\n          }\n          break;\n        case 'file':\n          onFilterChange({ ...issuesReset, files: [issue.componentUuid] });\n      }\n    }\n  };\n\n  render() {\n    const { branchLike, component, issue, previousIssue } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div className=\"issues-workspace-list-item\">\n        {displayComponent && (\n          <div className=\"issues-workspace-list-component note\">\n            <ComponentBreadcrumbs\n              component={component}\n              issue={this.props.issue}\n              organization={this.props.organization}\n            />\n          </div>\n        )}\n        <Issue\n          branchLike={branchLike}\n          checked={this.props.checked}\n          issue={issue}\n          onChange={this.props.onChange}\n          onCheck={this.props.onCheck}\n          onClick={this.props.onClick}\n          onFilter={this.handleFilter}\n          onPopupToggle={this.props.onPopupToggle}\n          openPopup={this.props.openPopup}\n          selected={this.props.selected}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Query, scrollToIssue } from '../utils';\nimport ListItem from './ListItem';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: string[];\n  component: T.Component | undefined;\n  issues: T.Issue[];\n  onFilterChange: (changes: Partial<Query>) => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueCheck: ((issueKey: string) => void) | undefined;\n  onIssueClick: (issueKey: string) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: { issue: string; name: string } | undefined;\n  organization: { key: string } | undefined;\n  selectedIssue: T.Issue | undefined;\n}\n\ninterface State {\n  prerender: boolean;\n}\n\nexport default class IssuesList extends React.PureComponent<Props, State> {\n  state: State = {\n    prerender: true\n  };\n\n  componentDidMount() {\n    // ! \\\\ This prerender state variable is to enable the page to be displayed\n    //      immediately, displaying a loader before attempting to render the\n    //      list of issues. See https://jira.sonarsource.com/browse/SONAR-11681\n    setTimeout(() => {\n      this.setState({ prerender: false });\n      if (this.props.selectedIssue) {\n        scrollToIssue(this.props.selectedIssue.key, false);\n      }\n    }, 42);\n  }\n\n  render() {\n    const { branchLike, checked, component, issues, openPopup, selectedIssue } = this.props;\n    const { prerender } = this.state;\n\n    if (prerender) {\n      return (\n        <div>\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        {issues.map((issue, index) => (\n          <ListItem\n            branchLike={branchLike}\n            checked={checked.includes(issue.key)}\n            component={component}\n            issue={issue}\n            key={issue.key}\n            onChange={this.props.onIssueChange}\n            onCheck={this.props.onIssueCheck}\n            onClick={this.props.onIssueClick}\n            onFilterChange={this.props.onFilterChange}\n            onPopupToggle={this.props.onPopupToggle}\n            openPopup={openPopup && openPopup.issue === issue.key ? openPopup.name : undefined}\n            organization={this.props.organization}\n            previousIssue={index > 0 ? issues[index - 1] : undefined}\n            selected={selectedIssue != null && selectedIssue.key === issue.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\n\nconst CrossComponentSourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './CrossComponentSourceViewerWrapper'),\n  'CrossComponentSourceViewer'\n);\n\nexport default CrossComponentSourceViewer;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { BranchLike } from '../../../types/branch-like';\nimport CrossComponentSourceViewer from '../crossComponentSourceViewer/CrossComponentSourceViewer';\nimport { getLocations, getSelectedLocation } from '../utils';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  issues: T.Issue[];\n  loadIssues: (component: string, from: number, to: number) => Promise<T.Issue[]>;\n  locationsNavigator: boolean;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  openIssue: T.Issue;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class IssuesSourceViewer extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidUpdate(prevProps: Props) {\n    const { openIssue, selectedLocationIndex } = this.props;\n\n    // Scroll back to the issue when the selected location is set to -1\n    const shouldScrollBackToIssue =\n      selectedLocationIndex === -1 && selectedLocationIndex !== prevProps.selectedLocationIndex;\n    if (\n      prevProps.openIssue.component === openIssue.component &&\n      (prevProps.openIssue !== openIssue || shouldScrollBackToIssue)\n    ) {\n      this.scrollToIssue();\n    }\n  }\n\n  scrollToIssue = (smooth = true) => {\n    if (this.node) {\n      const element = this.node.querySelector(`[data-issue=\"${this.props.openIssue.key}\"]`);\n      if (element) {\n        this.handleScroll(element, undefined, smooth);\n      }\n    }\n  };\n\n  handleScroll = (element: Element, offset = window.innerHeight / 2, smooth = true) => {\n    scrollToElement(element, { topOffset: offset - 100, bottomOffset: offset, smooth });\n  };\n\n  handleLoaded = () => {\n    this.scrollToIssue(false);\n  };\n\n  render() {\n    const { openIssue, selectedFlowIndex, selectedLocationIndex } = this.props;\n\n    const locations = getLocations(openIssue, selectedFlowIndex).map((loc, index) => {\n      loc.index = index;\n      return loc;\n    });\n    const selectedLocation = getSelectedLocation(\n      openIssue,\n      selectedFlowIndex,\n      selectedLocationIndex\n    );\n\n    const highlightedLocationMessage =\n      this.props.locationsNavigator && selectedLocationIndex !== undefined\n        ? selectedLocation && { index: selectedLocationIndex, text: selectedLocation.msg }\n        : undefined;\n\n    if (locations.length > 0) {\n      return (\n        <div ref={node => (this.node = node)}>\n          <CrossComponentSourceViewer\n            branchLike={this.props.branchLike}\n            highlightedLocationMessage={highlightedLocationMessage}\n            issue={openIssue}\n            issues={this.props.issues}\n            locations={locations}\n            onIssueChange={this.props.onIssueChange}\n            onLoaded={this.handleLoaded}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.handleScroll}\n            selectedFlowIndex={selectedFlowIndex}\n          />\n        </div>\n      );\n    } else {\n      // if location is selected, show (and load) code around it\n      // otherwise show code around the open issue\n      const aroundLine = selectedLocation\n        ? selectedLocation.textRange.startLine\n        : openIssue.textRange && openIssue.textRange.endLine;\n\n      const component = selectedLocation ? selectedLocation.component : openIssue.component;\n      const allMessagesEmpty =\n        locations !== undefined && locations.every(location => !location.msg);\n\n      const highlightedLocations = locations.filter(location => location.component === component);\n\n      // do not load issues when open another file for a location\n      const loadIssues =\n        component === openIssue.component ? this.props.loadIssues : () => Promise.resolve([]);\n      const selectedIssue = component === openIssue.component ? openIssue.key : undefined;\n\n      return (\n        <div ref={node => (this.node = node)}>\n          <SourceViewer\n            aroundLine={aroundLine}\n            branchLike={this.props.branchLike}\n            component={component}\n            displayAllIssues={true}\n            displayIssueLocationsCount={true}\n            displayIssueLocationsLink={false}\n            displayLocationMarkers={!allMessagesEmpty}\n            highlightedLocationMessage={highlightedLocationMessage}\n            highlightedLocations={highlightedLocations}\n            loadIssues={loadIssues}\n            onIssueChange={this.props.onIssueChange}\n            onIssueSelect={this.props.onIssueSelect}\n            onLoaded={this.handleLoaded}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.handleScroll}\n            selectedIssue={selectedIssue}\n            slimHeader={true}\n          />\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  myIssues: boolean;\n  onMyIssuesChange: (myIssues: boolean) => void;\n}\n\nexport default class MyIssuesFilter extends React.PureComponent<Props> {\n  handleClick = (myIssues: boolean) => () => {\n    this.props.onMyIssuesChange(myIssues);\n  };\n\n  render() {\n    const { myIssues } = this.props;\n\n    return (\n      <div className=\"issues-my-issues-filter\">\n        <div className=\"button-group\">\n          <Button\n            className={myIssues ? 'button-active' : undefined}\n            onClick={this.handleClick(true)}>\n            {translate('issues.my_issues')}\n          </Button>\n          <Button\n            className={myIssues ? undefined : 'button-active'}\n            onClick={this.handleClick(false)}>\n            {translate('all')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoMyIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_my_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\nexport default function TotalEffort({ effort }: { effort: number }) {\n  return (\n    <div className=\"display-inline-block bordered-left spacer-left\">\n      <div className=\"spacer-left\">\n        <FormattedMessage\n          defaultMessage={translate('issue.x_effort')}\n          id=\"issue.x_effort\"\n          values={{ 0: <strong>{formatMeasure(effort, 'WORK_DUR')}</strong> }}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ReloadButton from 'sonar-ui-common/components/controls/ReloadButton';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport HomePageSelect from '../../../components/controls/HomePageSelect';\nimport { isSonarCloud } from '../../../helpers/system';\nimport IssuesCounter from './IssuesCounter';\nimport TotalEffort from './TotalEffort';\n\ninterface Props {\n  canSetHome: boolean;\n  effortTotal: number | undefined;\n  onReload: () => void;\n  paging: T.Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default class PageActions extends React.PureComponent<Props> {\n  renderShortcuts() {\n    return (\n      <span className=\"note big-spacer-right\">\n        <span className=\"big-spacer-right\">\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          {translate('issues.to_select_issues')}\n        </span>\n\n        <span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          <span className=\"shortcut-button little-spacer-right\"></span>\n          {translate('issues.to_navigate')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    const { effortTotal, paging, selectedIndex } = this.props;\n\n    return (\n      <div className=\"pull-right\">\n        {this.renderShortcuts()}\n\n        <div className=\"issues-page-actions\">\n          <ReloadButton onClick={this.props.onReload} />\n          {paging != null && (\n            <IssuesCounter className=\"spacer-left\" current={selectedIndex} total={paging.total} />\n          )}\n          {effortTotal !== undefined && <TotalEffort effort={effortTotal} />}\n        </div>\n\n        {this.props.canSetHome && (\n          <HomePageSelect\n            className=\"huge-spacer-left\"\n            currentPage={isSonarCloud() ? { type: 'MY_ISSUES' } : { type: 'ISSUES' }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy, omit, without } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport handleRequiredAuthentication from 'sonar-ui-common/helpers/handleRequiredAuthentication';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from 'sonar-ui-common/helpers/pages';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport EmptySearch from '../../../components/common/EmptySearch';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { Location, Router } from '../../../components/hoc/withRouter';\nimport '../../../components/search-navigator.css';\nimport {\n  fillBranchLike,\n  getBranchLikeQuery,\n  isPullRequest,\n  isSameBranchLike\n} from '../../../helpers/branch-like';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { BranchLike } from '../../../types/branch-like';\nimport * as actions from '../actions';\nimport ConciseIssuesList from '../conciseIssuesList/ConciseIssuesList';\nimport ConciseIssuesListHeader from '../conciseIssuesList/ConciseIssuesListHeader';\nimport Sidebar from '../sidebar/Sidebar';\nimport '../styles.css';\nimport {\n  areMyIssuesSelected,\n  areQueriesEqual,\n  Facet,\n  getOpen,\n  mapFacet,\n  parseFacets,\n  parseQuery,\n  Query,\n  RawFacet,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedRule,\n  saveMyIssues,\n  scrollToIssue,\n  serializeQuery,\n  shouldOpenSonarSourceSecurityFacet,\n  shouldOpenStandardsChildFacet,\n  shouldOpenStandardsFacet,\n  STANDARDS\n} from '../utils';\nimport BulkChangeModal, { MAX_PAGE_SIZE } from './BulkChangeModal';\nimport IssuesList from './IssuesList';\nimport IssuesSourceViewer from './IssuesSourceViewer';\nimport MyIssuesFilter from './MyIssuesFilter';\nimport NoIssues from './NoIssues';\nimport NoMyIssues from './NoMyIssues';\nimport PageActions from './PageActions';\n\ninterface FetchIssuesPromise {\n  components: ReferencedComponent[];\n  effortTotal: number;\n  facets: RawFacet[];\n  issues: T.Issue[];\n  languages: ReferencedLanguage[];\n  paging: T.Paging;\n  rules: ReferencedRule[];\n  users: T.UserBase[];\n}\n\ninterface Props {\n  branchLike?: BranchLike;\n  component?: T.Component;\n  currentUser: T.CurrentUser;\n  fetchBranchStatus: (branchLike: BranchLike, projectKey: string) => Promise<void>;\n  fetchIssues: (query: T.RawQuery, requestOrganizations?: boolean) => Promise<FetchIssuesPromise>;\n  hideAuthorFacet?: boolean;\n  location: Location;\n  multiOrganizations?: boolean;\n  myIssues?: boolean;\n  onBranchesChange?: () => void;\n  organization?: { key: string };\n  router: Pick<Router, 'push' | 'replace'>;\n  userOrganizations: T.Organization[];\n}\n\nexport interface State {\n  bulkChangeModal: boolean;\n  cannotShowOpenIssue?: boolean;\n  checkAll?: boolean;\n  checked: string[];\n  effortTotal?: number;\n  facets: T.Dict<Facet>;\n  issues: T.Issue[];\n  loading: boolean;\n  loadingFacets: T.Dict<boolean>;\n  loadingMore: boolean;\n  locationsNavigator: boolean;\n  myIssues: boolean;\n  openFacets: T.Dict<boolean>;\n  openIssue?: T.Issue;\n  openPopup?: { issue: string; name: string };\n  paging?: T.Paging;\n  query: Query;\n  referencedComponentsById: T.Dict<ReferencedComponent>;\n  referencedComponentsByKey: T.Dict<ReferencedComponent>;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  referencedRules: T.Dict<ReferencedRule>;\n  referencedUsers: T.Dict<T.UserBase>;\n  selected?: string;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nconst DEFAULT_QUERY = { resolved: 'false' };\nconst MAX_INITAL_FETCH = 1000;\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const query = parseQuery(props.location.query);\n    this.state = {\n      bulkChangeModal: false,\n      checked: [],\n      facets: {},\n      issues: [],\n      loading: true,\n      loadingFacets: {},\n      loadingMore: false,\n      locationsNavigator: false,\n      myIssues: props.myIssues || areMyIssuesSelected(props.location.query),\n      openFacets: {\n        owaspTop10: shouldOpenStandardsChildFacet({}, query, 'owaspTop10'),\n        sansTop25: shouldOpenStandardsChildFacet({}, query, 'sansTop25'),\n        severities: true,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet({}, query),\n        standards: shouldOpenStandardsFacet({}, query),\n        types: true\n      },\n      query,\n      referencedComponentsById: {},\n      referencedComponentsByKey: {},\n      referencedLanguages: {},\n      referencedRules: {},\n      referencedUsers: {},\n      selected: getOpen(props.location.query)\n    };\n    this.refreshBranchStatus = debounce(this.refreshBranchStatus, 1000);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (this.state.myIssues && !this.props.currentUser.isLoggedIn) {\n      handleRequiredAuthentication();\n      return;\n    }\n\n    addWhitePageClass();\n    addSideBarClass();\n    this.attachShortcuts();\n    this.fetchFirstIssues();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const { issues, selected } = this.state;\n    const openIssue = this.getOpenIssue(nextProps, issues);\n\n    if (openIssue && openIssue.key !== selected) {\n      this.setState({\n        locationsNavigator: false,\n        selected: openIssue.key,\n        selectedFlowIndex: undefined,\n        selectedLocationIndex: undefined\n      });\n    }\n\n    if (!openIssue) {\n      this.setState({ selectedFlowIndex: undefined, selectedLocationIndex: undefined });\n    }\n\n    this.setState({\n      myIssues: nextProps.myIssues || areMyIssuesSelected(nextProps.location.query),\n      openIssue,\n      query: parseQuery(nextProps.location.query)\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { query } = this.props.location;\n    const { query: prevQuery } = prevProps.location;\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      !areQueriesEqual(prevQuery, query) ||\n      areMyIssuesSelected(prevQuery) !== areMyIssuesSelected(query)\n    ) {\n      this.fetchFirstIssues();\n      this.setState({ checkAll: false });\n    } else if (\n      !this.state.openIssue &&\n      (prevState.selected !== this.state.selected || prevState.openIssue)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedIssue();\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n  }\n\n  attachShortcuts() {\n    key.setScope('issues');\n    key('up', 'issues', () => {\n      this.selectPreviousIssue();\n      return false;\n    });\n    key('down', 'issues', () => {\n      this.selectNextIssue();\n      return false;\n    });\n    key('right', 'issues', () => {\n      this.openSelectedIssue();\n      return false;\n    });\n    key('left', 'issues', () => {\n      if (this.state.query.issues.length !== 1) {\n        this.closeIssue();\n      }\n      return false;\n    });\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  detachShortcuts() {\n    key.deleteScope('issues');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      event.preventDefault();\n      this.setState(actions.enableLocationsNavigator);\n    } else if (event.keyCode === 40 && event.altKey) {\n      // alt + down\n      event.preventDefault();\n      this.selectNextLocation();\n    } else if (event.keyCode === 38 && event.altKey) {\n      // alt + up\n      event.preventDefault();\n      this.selectPreviousLocation();\n    } else if (event.keyCode === 37 && event.altKey) {\n      // alt + left\n      event.preventDefault();\n      this.selectPreviousFlow();\n    } else if (event.keyCode === 39 && event.altKey) {\n      // alt + right\n      event.preventDefault();\n      this.selectNextFlow();\n    }\n  };\n\n  handleKeyUp = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      this.setState(actions.disableLocationsNavigator);\n    }\n  };\n\n  getSelectedIndex() {\n    const { issues = [], selected } = this.state;\n    const index = issues.findIndex(issue => issue.key === selected);\n    return index !== -1 ? index : undefined;\n  }\n\n  getOpenIssue = (props: Props, issues: T.Issue[]) => {\n    const open = getOpen(props.location.query);\n    return open ? issues.find(issue => issue.key === open) : undefined;\n  };\n\n  selectNextIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex < issues.length - 1) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex + 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex + 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  selectPreviousIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex - 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex - 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  openIssue = (issueKey: string) => {\n    const path = {\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined,\n        open: issueKey\n      }\n    };\n    if (this.state.openIssue) {\n      if (path.query.open && path.query.open === this.state.openIssue.key) {\n        this.setState(\n          {\n            locationsNavigator: false,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          },\n          this.scrollToSelectedIssue\n        );\n      } else {\n        this.props.router.replace(path);\n      }\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  closeIssue = () => {\n    if (this.state.query) {\n      this.props.router.push({\n        pathname: this.props.location.pathname,\n        query: {\n          ...serializeQuery(this.state.query),\n          ...getBranchLikeQuery(this.props.branchLike),\n          id: this.props.component && this.props.component.key,\n          myIssues: this.state.myIssues ? 'true' : undefined,\n          open: undefined\n        }\n      });\n    }\n  };\n\n  openSelectedIssue = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openIssue(selected);\n    }\n  };\n\n  scrollToSelectedIssue = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      scrollToIssue(selected, smooth);\n    }\n  };\n\n  fetchIssues = (\n    additional: T.RawQuery,\n    requestFacets = false,\n    requestOrganizations = true\n  ): Promise<FetchIssuesPromise> => {\n    const { component } = this.props;\n    const { myIssues, openFacets, query } = this.state;\n\n    const facets = requestFacets\n      ? Object.keys(openFacets)\n          .filter(facet => openFacets[facet])\n          .filter(facet => facet !== STANDARDS)\n          .map(mapFacet)\n          .join(',')\n      : undefined;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      s: 'FILE_LINE',\n      ...serializeQuery(query),\n      ps: '100',\n      organization: organizationKey,\n      facets,\n      ...additional\n    };\n\n    // only sorting by CREATION_DATE is allowed, so let's sort DESC\n    if (query.sort) {\n      Object.assign(parameters, { asc: 'false' });\n    }\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(\n      parameters,\n      Boolean(requestOrganizations && this.props.multiOrganizations)\n    );\n  };\n\n  fetchFirstIssues() {\n    const prevQuery = this.props.location.query;\n    const openIssueKey = getOpen(this.props.location.query);\n    let fetchPromise;\n\n    this.setState({ checked: [], loading: true });\n    if (openIssueKey !== undefined) {\n      fetchPromise = this.fetchIssuesUntil(1, (pageIssues: T.Issue[], paging: T.Paging) => {\n        if (\n          paging.total <= paging.pageIndex * paging.pageSize ||\n          paging.pageIndex * paging.pageSize >= MAX_INITAL_FETCH\n        ) {\n          return true;\n        }\n        return pageIssues.some(issue => issue.key === openIssueKey);\n      });\n    } else {\n      fetchPromise = this.fetchIssues({}, true);\n    }\n\n    return fetchPromise.then(\n      ({ effortTotal, facets, issues, paging, ...other }) => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          const openIssue = this.getOpenIssue(this.props, issues);\n          let selected: string | undefined = undefined;\n          if (issues.length > 0) {\n            selected = openIssue ? openIssue.key : issues[0].key;\n          }\n          this.setState(state => ({\n            cannotShowOpenIssue: Boolean(openIssueKey && !openIssue),\n            effortTotal,\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loading: false,\n            issues,\n            openIssue,\n            paging,\n            referencedComponentsById: keyBy(other.components, 'uuid'),\n            referencedComponentsByKey: keyBy(other.components, 'key'),\n            referencedLanguages: keyBy(other.languages, 'key'),\n            referencedRules: keyBy(other.rules, 'key'),\n            referencedUsers: keyBy(other.users, 'login'),\n            selected,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          }));\n        }\n        return issues;\n      },\n      () => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  }\n\n  fetchIssuesPage = (p: number) => {\n    return this.fetchIssues({ p });\n  };\n\n  fetchIssuesUntil = (\n    p: number,\n    done: (pageIssues: T.Issue[], paging: T.Paging) => boolean\n  ): Promise<FetchIssuesPromise> => {\n    const recursiveFetch = (p: number, prevIssues: T.Issue[]): Promise<FetchIssuesPromise> => {\n      return this.fetchIssuesPage(p).then(({ issues: pageIssues, paging, ...other }) => {\n        const issues = [...prevIssues, ...pageIssues];\n        return done(pageIssues, paging)\n          ? { issues, paging, ...other }\n          : recursiveFetch(p + 1, issues);\n      });\n    };\n\n    return recursiveFetch(p, []);\n  };\n\n  fetchMoreIssues = () => {\n    const { paging } = this.state;\n\n    if (!paging) {\n      return Promise.reject();\n    }\n\n    const p = paging.pageIndex + 1;\n\n    this.setState({ checkAll: false, loadingMore: true });\n    return this.fetchIssuesPage(p).then(\n      response => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loadingMore: false,\n            issues: [...state.issues, ...response.issues],\n            paging: response.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingMore: false });\n        }\n      }\n    );\n  };\n\n  fetchIssuesForComponent = (_component: string, _from: number, to: number) => {\n    const { issues, openIssue, paging } = this.state;\n\n    if (!openIssue || !paging) {\n      return Promise.reject(undefined);\n    }\n\n    const isSameComponent = (issue: T.Issue) => issue.component === openIssue.component;\n\n    const done = (pageIssues: T.Issue[], paging: T.Paging) => {\n      const lastIssue = pageIssues[pageIssues.length - 1];\n      if (paging.total <= paging.pageIndex * paging.pageSize) {\n        return true;\n      }\n      if (lastIssue.component !== openIssue.component) {\n        return true;\n      }\n      return lastIssue.textRange !== undefined && lastIssue.textRange.endLine > to;\n    };\n\n    if (done(issues, paging)) {\n      return Promise.resolve(issues.filter(isSameComponent));\n    }\n\n    this.setState({ loading: true });\n    return this.fetchIssuesUntil(paging.pageIndex + 1, done).then(\n      response => {\n        const nextIssues = [...issues, ...response.issues];\n        if (this.mounted) {\n          this.setState({\n            issues: nextIssues,\n            loading: false,\n            paging: response.paging\n          });\n        }\n        return nextIssues.filter(isSameComponent);\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  };\n\n  fetchFacet = (facet: string) => {\n    const requestOrganizations = facet === 'projects';\n    return this.fetchIssues({ ps: 1, facets: mapFacet(facet) }, false, requestOrganizations).then(\n      ({ facets, ...other }) => {\n        if (this.mounted) {\n          this.setState(state => ({\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loadingFacets: omit(state.loadingFacets, facet),\n            referencedComponentsById: {\n              ...state.referencedComponentsById,\n              ...keyBy(other.components, 'uuid')\n            },\n            referencedComponentsByKey: {\n              ...state.referencedComponentsByKey,\n              ...keyBy(other.components, 'key')\n            },\n            referencedLanguages: {\n              ...state.referencedLanguages,\n              ...keyBy(other.languages, 'key')\n            },\n            referencedRules: { ...state.referencedRules, ...keyBy(other.rules, 'key') },\n            referencedUsers: { ...state.referencedUsers, ...keyBy(other.users, 'login') }\n          }));\n        }\n      },\n      () => {}\n    );\n  };\n\n  isFiltered = () => {\n    const serialized = serializeQuery(this.state.query);\n    return !areQueriesEqual(serialized, DEFAULT_QUERY);\n  };\n\n  getCheckedIssues = () => {\n    const issues = this.state.checked\n      .map(checked => this.state.issues.find(issue => issue.key === checked))\n      .filter((issue): issue is T.Issue => issue !== undefined);\n    const paging = { pageIndex: 1, pageSize: issues.length, total: issues.length };\n    return Promise.resolve({ issues, paging });\n  };\n\n  getButtonLabel = (checked: string[], checkAll?: boolean, paging?: T.Paging) => {\n    if (checked.length > 0) {\n      let count;\n      if (checkAll && paging) {\n        count = paging.total > MAX_PAGE_SIZE ? MAX_PAGE_SIZE : paging.total;\n      } else {\n        count = Math.min(checked.length, MAX_PAGE_SIZE);\n      }\n\n      return translateWithParameters('issues.bulk_change_X_issues', count);\n    } else {\n      return translate('bulk_change');\n    }\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, ...changes }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n    this.setState(({ openFacets }) => ({\n      openFacets: {\n        ...openFacets,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet(openFacets, changes),\n        standards: shouldOpenStandardsFacet(openFacets, changes)\n      }\n    }));\n  };\n\n  handleMyIssuesChange = (myIssues: boolean) => {\n    this.closeFacet('assignees');\n    if (!this.props.component) {\n      saveMyIssues(myIssues);\n    }\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, assigned: true, assignees: [] }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  loadSearchResultCount = (property: string, changes: Partial<Query>) => {\n    const { component } = this.props;\n    const { myIssues, query } = this.state;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      facets: mapFacet(property),\n      s: 'FILE_LINE',\n      ...serializeQuery({ ...query, ...changes }),\n      ps: 1,\n      organization: organizationKey\n    };\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props\n      .fetchIssues(parameters, false)\n      .then(({ facets }) => parseFacets(facets)[property]);\n  };\n\n  closeFacet = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: false }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => {\n      const willOpenProperty = !state.openFacets[property];\n      const newState = {\n        loadingFacets: state.loadingFacets,\n        openFacets: { ...state.openFacets, [property]: willOpenProperty }\n      };\n\n      // Try to open sonarsource security \"subfacet\" by default if the standard facet is open\n      if (willOpenProperty && property === STANDARDS) {\n        newState.openFacets.sonarsourceSecurity = shouldOpenSonarSourceSecurityFacet(\n          newState.openFacets,\n          state.query\n        );\n        // Force loading of sonarsource security facet data\n        property = newState.openFacets.sonarsourceSecurity ? 'sonarsourceSecurity' : property;\n      }\n\n      // No need to load facets data for standard facet\n      if (property !== STANDARDS && !state.facets[property]) {\n        newState.loadingFacets[property] = true;\n        this.fetchFacet(property);\n      }\n\n      return newState;\n    });\n  };\n\n  handleReset = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...DEFAULT_QUERY,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handlePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const { openPopup } = state;\n      const samePopup = openPopup && openPopup.name === popupName && openPopup.issue === issue;\n\n      if (open !== false && !samePopup) {\n        return { ...state, openPopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { ...state, openPopup: undefined };\n      }\n\n      return state;\n    });\n  };\n\n  handleIssueCheck = (issue: string) => {\n    this.setState(state => ({\n      checkAll: false,\n      checked: state.checked.includes(issue)\n        ? without(state.checked, issue)\n        : [...state.checked, issue]\n    }));\n  };\n\n  handleIssueChange = (issue: T.Issue) => {\n    this.refreshBranchStatus();\n    this.setState(state => ({\n      issues: state.issues.map(candidate => (candidate.key === issue.key ? issue : candidate))\n    }));\n  };\n\n  handleOpenBulkChange = () => {\n    key.setScope('issues-bulk-change');\n    this.setState({ bulkChangeModal: true });\n  };\n\n  handleCloseBulkChange = () => {\n    key.setScope('issues');\n    this.setState({ bulkChangeModal: false });\n  };\n\n  handleBulkChangeDone = () => {\n    this.setState({ checkAll: false });\n    this.refreshBranchStatus();\n    this.fetchFirstIssues();\n    this.handleCloseBulkChange();\n  };\n\n  handleReload = () => {\n    this.fetchFirstIssues();\n    this.refreshBranchStatus();\n    const { branchLike, onBranchesChange } = this.props;\n    if (onBranchesChange && isPullRequest(branchLike)) {\n      onBranchesChange();\n    }\n  };\n\n  handleReloadAndOpenFirst = () => {\n    this.fetchFirstIssues().then(\n      (issues: T.Issue[]) => {\n        if (issues.length > 0) {\n          this.openIssue(issues[0].key);\n        }\n      },\n      () => {}\n    );\n  };\n\n  selectLocation = (index: number) => {\n    this.setState(actions.selectLocation(index));\n  };\n\n  selectNextLocation = () => {\n    this.setState(actions.selectNextLocation);\n  };\n\n  selectPreviousLocation = () => {\n    this.setState(actions.selectPreviousLocation);\n  };\n\n  handleCheckAll = (checked: boolean) => {\n    if (checked) {\n      this.setState(state => ({\n        checkAll: true,\n        checked: state.issues.map(issue => issue.key)\n      }));\n    } else {\n      this.setState({ checkAll: false, checked: [] });\n    }\n  };\n\n  selectFlow = (index?: number) => {\n    this.setState(actions.selectFlow(index));\n  };\n\n  selectNextFlow = () => {\n    this.setState(actions.selectNextFlow);\n  };\n\n  selectPreviousFlow = () => {\n    this.setState(actions.selectPreviousFlow);\n  };\n\n  refreshBranchStatus = () => {\n    const { branchLike, component } = this.props;\n    if (branchLike && component && isPullRequest(branchLike)) {\n      this.props.fetchBranchStatus(branchLike, component.key);\n    }\n  };\n\n  renderBulkChange(openIssue: T.Issue | undefined) {\n    const { component, currentUser } = this.props;\n    const { checkAll, bulkChangeModal, checked, issues, paging } = this.state;\n\n    const isAllChecked = checked.length > 0 && issues.length === checked.length;\n    const thirdState = checked.length > 0 && !isAllChecked;\n    const isChecked = isAllChecked || thirdState;\n\n    if (!currentUser.isLoggedIn || openIssue) {\n      return null;\n    }\n\n    return (\n      <div className=\"pull-left\">\n        <Checkbox\n          checked={isChecked}\n          className=\"spacer-right text-middle\"\n          disabled={issues.length === 0}\n          id=\"issues-selection\"\n          onCheck={this.handleCheckAll}\n          thirdState={thirdState}\n          title={translate('issues.select_all_issues')}\n        />\n        <Button\n          disabled={checked.length === 0}\n          id=\"issues-bulk-change\"\n          onClick={this.handleOpenBulkChange}>\n          {this.getButtonLabel(checked, checkAll, paging)}\n        </Button>\n\n        {bulkChangeModal && (\n          <BulkChangeModal\n            component={component}\n            currentUser={currentUser}\n            fetchIssues={checkAll ? this.fetchIssues : this.getCheckedIssues}\n            onClose={this.handleCloseBulkChange}\n            onDone={this.handleBulkChangeDone}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderFacets() {\n    const { component, currentUser, userOrganizations } = this.props;\n    const { query } = this.state;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const userOrganization =\n      !isSonarCloud() ||\n      userOrganizations.find(o => {\n        return o.key === organizationKey;\n      });\n    const hideAuthorFacet =\n      this.props.hideAuthorFacet || (isSonarCloud() && this.props.myIssues) || !userOrganization;\n\n    return (\n      <div className=\"layout-page-filters\">\n        {currentUser.isLoggedIn && !isSonarCloud() && (\n          <MyIssuesFilter\n            myIssues={this.state.myIssues}\n            onMyIssuesChange={this.handleMyIssuesChange}\n          />\n        )}\n        <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n        <Sidebar\n          component={component}\n          facets={this.state.facets}\n          hideAuthorFacet={hideAuthorFacet}\n          loadSearchResultCount={this.loadSearchResultCount}\n          loadingFacets={this.state.loadingFacets}\n          myIssues={this.state.myIssues}\n          onFacetToggle={this.handleFacetToggle}\n          onFilterChange={this.handleFilterChange}\n          openFacets={this.state.openFacets}\n          organization={this.props.organization}\n          query={query}\n          referencedComponentsById={this.state.referencedComponentsById}\n          referencedComponentsByKey={this.state.referencedComponentsByKey}\n          referencedLanguages={this.state.referencedLanguages}\n          referencedRules={this.state.referencedRules}\n          referencedUsers={this.state.referencedUsers}\n        />\n      </div>\n    );\n  }\n\n  renderConciseIssuesList() {\n    const { issues, loadingMore, paging, query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        <ConciseIssuesListHeader\n          displayBackButton={query.issues.length !== 1}\n          loading={this.state.loading}\n          onBackClick={this.closeIssue}\n          onReload={this.handleReloadAndOpenFirst}\n          paging={paging}\n          selectedIndex={this.getSelectedIndex()}\n        />\n        <ConciseIssuesList\n          issues={issues}\n          onFlowSelect={this.selectFlow}\n          onIssueSelect={this.openIssue}\n          onLocationSelect={this.selectLocation}\n          selected={this.state.selected}\n          selectedFlowIndex={this.state.selectedFlowIndex}\n          selectedLocationIndex={this.state.selectedLocationIndex}\n        />\n        {paging && paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderSide(openIssue: T.Issue | undefined) {\n    return (\n      <ScreenPositionHelper className=\"layout-page-side-outer\">\n        {({ top }) => (\n          <div className=\"layout-page-side\" style={{ top }}>\n            <div className=\"layout-page-side-inner\">\n              <A11ySkipTarget\n                anchor=\"issues_sidebar\"\n                label={\n                  openIssue ? translate('issues.skip_to_list') : translate('issues.skip_to_filters')\n                }\n                weight={10}\n              />\n              {openIssue ? this.renderConciseIssuesList() : this.renderFacets()}\n            </div>\n          </div>\n        )}\n      </ScreenPositionHelper>\n    );\n  }\n\n  renderList() {\n    const { branchLike, component, currentUser, organization } = this.props;\n    const { issues, loading, loadingMore, openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const selectedIssue = selectedIndex !== undefined ? issues[selectedIndex] : undefined;\n\n    if (!paging || openIssue) {\n      return null;\n    }\n\n    let noIssuesMessage = null;\n    if (paging.total === 0 && !loading) {\n      if (this.isFiltered()) {\n        noIssuesMessage = <EmptySearch />;\n      } else if (this.state.myIssues) {\n        noIssuesMessage = <NoMyIssues />;\n      } else {\n        noIssuesMessage = <NoIssues />;\n      }\n    }\n\n    return (\n      <div>\n        {paging.total > 0 && (\n          <IssuesList\n            branchLike={branchLike}\n            checked={this.state.checked}\n            component={component}\n            issues={issues}\n            onFilterChange={this.handleFilterChange}\n            onIssueChange={this.handleIssueChange}\n            onIssueCheck={currentUser.isLoggedIn ? this.handleIssueCheck : undefined}\n            onIssueClick={this.openIssue}\n            onPopupToggle={this.handlePopupToggle}\n            openPopup={this.state.openPopup}\n            organization={organization}\n            selectedIssue={selectedIssue}\n          />\n        )}\n\n        {paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n\n        {noIssuesMessage}\n      </div>\n    );\n  }\n\n  renderHeader({\n    openIssue,\n    paging,\n    selectedIndex\n  }: {\n    openIssue: T.Issue | undefined;\n    paging: T.Paging | undefined;\n    selectedIndex: number | undefined;\n  }) {\n    return openIssue ? (\n      <A11ySkipTarget anchor=\"issues_main\" />\n    ) : (\n      <div className=\"layout-page-header-panel layout-page-main-header issues-main-header\">\n        <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n          <div className=\"layout-page-main-inner\">\n            <A11ySkipTarget anchor=\"issues_main\" />\n\n            {this.renderBulkChange(openIssue)}\n            <PageActions\n              canSetHome={Boolean(\n                !this.props.organization &&\n                  !this.props.component &&\n                  (!isSonarCloud() || this.props.myIssues)\n              )}\n              effortTotal={this.state.effortTotal}\n              onReload={this.handleReload}\n              paging={paging}\n              selectedIndex={selectedIndex}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPage() {\n    const { cannotShowOpenIssue, checkAll, issues, loading, openIssue, paging } = this.state;\n    return (\n      <div className=\"layout-page-main-inner\">\n        {openIssue ? (\n          <IssuesSourceViewer\n            branchLike={fillBranchLike(openIssue.branch, openIssue.pullRequest)}\n            issues={issues}\n            loadIssues={this.fetchIssuesForComponent}\n            locationsNavigator={this.state.locationsNavigator}\n            onIssueChange={this.handleIssueChange}\n            onIssueSelect={this.openIssue}\n            onLocationSelect={this.selectLocation}\n            openIssue={openIssue}\n            selectedFlowIndex={this.state.selectedFlowIndex}\n            selectedLocationIndex={this.state.selectedLocationIndex}\n          />\n        ) : (\n          <DeferredSpinner loading={loading}>\n            {checkAll && paging && paging.total > MAX_PAGE_SIZE && (\n              <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                <FormattedMessage\n                  defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                  id=\"issue_bulk_change.max_issues_reached\"\n                  values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n                />\n              </Alert>\n            )}\n            {cannotShowOpenIssue && (\n              <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                {translateWithParameters(\n                  'issues.cannot_open_issue_max_initial_X_fetched',\n                  MAX_INITAL_FETCH\n                )}\n              </Alert>\n            )}\n            {this.renderList()}\n          </DeferredSpinner>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    return (\n      <div className=\"layout-page issues\" id=\"issues-page\">\n        <Suggestions suggestions=\"issues\" />\n        <Helmet defer={false} title={openIssue ? openIssue.message : translate('issues.page')} />\n\n        {this.renderSide(openIssue)}\n\n        <div className=\"layout-page-main\">\n          {this.renderHeader({ openIssue, paging, selectedIndex })}\n\n          {this.renderPage()}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar qualifierIcons = {\n    app: ApplicationIcon,\n    brc: SubProjectIcon,\n    dev: DeveloperIcon,\n    dir: DirectoryIcon,\n    fil: FileIcon,\n    svw: SubPortfolioIcon,\n    trk: ProjectIcon,\n    uts: UnitTestIcon,\n    vw: PortfolioIcon,\n    cla: UnitTestIcon,\n    dev_prj: ProjectIcon,\n    lib: LibraryIcon,\n    pac: DirectoryIcon,\n};\nfunction QualifierIcon(props) {\n    if (!props.qualifier) {\n        return null;\n    }\n    var qualifier = props.qualifier.toLowerCase();\n    var FoundIcon = qualifierIcons[qualifier];\n    return FoundIcon ? React.createElement(FoundIcon, { className: props.className, fill: props.fill }) : null;\n}\nexports.default = QualifierIcon;\nfunction ApplicationIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DeveloperIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DirectoryIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\", style: { fill: fill || theme.colors.orange } }));\n    }));\n}\nfunction FileIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction LibraryIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction PortfolioIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction ProjectIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubPortfolioIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubProjectIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction UnitTestIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\n//# sourceMappingURL=QualifierIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nvar buttons_1 = require(\"./buttons\");\nfunction ListFooter(props) {\n    var className = props.className, count = props.count, loading = props.loading, needReload = props.needReload, total = props.total, _a = props.ready, ready = _a === void 0 ? true : _a;\n    var hasMore = total && total > count;\n    var button;\n    if (needReload && props.reload) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", \"data-test\": \"reload\", disabled: loading, onClick: props.reload }, l10n_1.translate('reload')));\n    }\n    else if (hasMore && props.loadMore) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", disabled: loading, \"data-test\": \"show-more\", onClick: props.loadMore }, l10n_1.translate('show_more')));\n    }\n    return (React.createElement(\"footer\", { className: classNames('spacer-top note text-center', { 'new-loading': !ready }, className) },\n        l10n_1.translateWithParameters('x_of_y_shown', measures_1.formatMeasure(count, 'INT', null), measures_1.formatMeasure(total, 'INT', null)),\n        button,\n        loading && React.createElement(DeferredSpinner_1.default, { className: \"text-bottom spacer-left position-absolute\" })));\n}\nexports.default = ListFooter;\n//# sourceMappingURL=ListFooter.js.map","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nfunction DateFromNow(_a) {\n    var children = _a.children, date = _a.date;\n    return React.createElement(react_intl_1.FormattedRelative, { value: dates_1.parseDate(date) }, children);\n}\nexports.default = DateFromNow;\n//# sourceMappingURL=DateFromNow.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added\n * @returns {Date} the new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * var result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nfunction addMonths (dirtyDate, dirtyAmount) {\n  var date = parse(dirtyDate)\n  var amount = Number(dirtyAmount)\n  var desiredMonth = date.getMonth() + amount\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(date.getFullYear(), desiredMonth, 1)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(desiredMonth, Math.min(daysInMonth, date.getDate()))\n  return date\n}\n\nmodule.exports = addMonths\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the number of days in a month\n *\n * @example\n * // How many days are in February 2000?\n * var result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nfunction getDaysInMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  var monthIndex = date.getMonth()\n  var lastDayOfMonth = new Date(0)\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0)\n  lastDayOfMonth.setHours(0, 0, 0, 0)\n  return lastDayOfMonth.getDate()\n}\n\nmodule.exports = getDaysInMonth\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ChevronDownIcon_1 = require(\"./ChevronDownIcon\");\nvar ChevronRightIcon_1 = require(\"./ChevronRightIcon\");\nfunction OpenCloseIcon(_a) {\n    var open = _a.open, iconProps = __rest(_a, [\"open\"]);\n    return open ? React.createElement(ChevronDownIcon_1.default, __assign({}, iconProps)) : React.createElement(ChevronRightIcon_1.default, __assign({}, iconProps));\n}\nexports.default = OpenCloseIcon;\n//# sourceMappingURL=OpenCloseIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CLASS_SIDEBAR_PAGE = 'sidebar-page';\nvar CLASS_WHITE_PAGE = 'white-page';\nvar CLASS_NO_FOOTER_PAGE = 'no-footer-page';\nfunction addSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\nexports.addSideBarClass = addSideBarClass;\nfunction addWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\nexports.addWhitePageClass = addWhitePageClass;\nfunction addNoFooterPageClass() {\n    console.warn('DEPRECATED: addNoFooterPageClass() was deprecated.');\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, true);\n}\nexports.addNoFooterPageClass = addNoFooterPageClass;\nfunction removeSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\nexports.removeSideBarClass = removeSideBarClass;\nfunction removeWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\nexports.removeWhitePageClass = removeWhitePageClass;\nfunction removeNoFooterPageClass() {\n    console.warn('DEPRECATED: removeNoFooterPageClass() was deprecated.');\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, false);\n}\nexports.removeNoFooterPageClass = removeNoFooterPageClass;\nfunction toggleBodyClass(className, force) {\n    document.body.classList.toggle(className, force);\n    if (document.documentElement) {\n        document.documentElement.classList.toggle(className, force);\n    }\n}\n//# sourceMappingURL=pages.js.map","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} month - the month of the new date\n * @returns {Date} the new date with the month setted\n *\n * @example\n * // Set February to 1 September 2014:\n * var result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nfunction setMonth (dirtyDate, dirtyMonth) {\n  var date = parse(dirtyDate)\n  var month = Number(dirtyMonth)\n  var year = date.getFullYear()\n  var day = date.getDate()\n\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(year, month, 15)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(month, Math.min(day, daysInMonth))\n  return date\n}\n\nmodule.exports = setMonth\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport OpenCloseIcon from 'sonar-ui-common/components/icons/OpenCloseIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  fetching?: boolean;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper display-flex-center\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {this.props.fetching && (\n          <span className=\"little-spacer-right\">\n            <DeferredSpinner />\n          </span>\n        )}\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getMarkdownHelpUrl } from '../../helpers/urls';\n\ninterface Props {\n  className?: string;\n}\n\nexport default class MarkdownTips extends React.PureComponent<Props> {\n  handleClick(evt: React.SyntheticEvent<HTMLAnchorElement>) {\n    evt.preventDefault();\n    window.open(getMarkdownHelpUrl(), 'Markdown', 'height=300,width=600,scrollbars=1,resizable=1');\n  }\n\n  render() {\n    return (\n      <div className={classNames('markdown-tips', this.props.className)}>\n        <a className=\"little-spacer-right\" href=\"#\" onClick={this.handleClick}>\n          {translate('markdown.helplink')}\n        </a>\n        {':'}\n        <span className=\"spacer-left\">*{translate('bold')}*</span>\n        <span className=\"spacer-left\">\n          ``\n          {translate('code')}\n          ``\n        </span>\n        <span className=\"spacer-left\">* {translate('bulleted_point')}</span>\n      </div>\n    );\n  }\n}\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} year - the year of the new date\n * @returns {Date} the new date with the year setted\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * var result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nfunction setYear (dirtyDate, dirtyYear) {\n  var date = parse(dirtyDate)\n  var year = Number(dirtyYear)\n  date.setFullYear(year)\n  return date\n}\n\nmodule.exports = setYear\n","var addMonths = require('../add_months/index.js')\n\n/**\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted\n * @returns {Date} the new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * var result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction subMonths (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMonths(dirtyDate, -amount)\n}\n\nmodule.exports = subMonths\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronLeftIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M4.404 8.28l4.604 4.602a.382.382 0 0 0 .279.118c.108 0 .2-.04.279-.118l1.03-1.03a.382.382 0 0 0 .117-.278.382.382 0 0 0-.117-.28L7.3 8l3.295-3.294a.382.382 0 0 0 .117-.28.382.382 0 0 0-.117-.279l-1.03-1.03A.382.382 0 0 0 9.286 3a.382.382 0 0 0-.278.118L4.404 7.72A.382.382 0 0 0 4.287 8c0 .108.04.201.117.28z\", style: { fill: fill } })));\n}\nexports.default = ChevronLeftIcon;\n//# sourceMappingURL=ChevronLeftIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess && allShown && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n            {translate('show_less')}\n          </a>\n        )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { queriesEqual } from 'sonar-ui-common/helpers/query';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<T.Dict<number>>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: T.Dict<string | string[]>) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: T.RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: T.Dict<number> | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: T.Dict<number>;\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else {\n      this.props.onChange({ [this.props.property]: [] });\n    }\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(\n          Object.keys(stats),\n          key => -stats[key],\n          key => this.props.getFacetItemText(key)\n        );\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\"></div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults && this.state.showFullList && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    if (!this.props.stats || !Object.keys(this.props.stats).length) {\n      return null;\n    }\n\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    const disabled = !active && stat === 0;\n    return (\n      <FacetItem\n        active={active}\n        disabled={disabled}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        {this.props.open && !disabled && (\n          <>\n            {this.renderSearch()}\n            {showList ? this.renderList() : this.renderSearchResults()}\n            <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nfunction highlightTerm(str, term) {\n    var pos = str.toLowerCase().indexOf(term.toLowerCase());\n    return pos !== -1 ? (React.createElement(React.Fragment, null,\n        pos > 0 && str.substring(0, pos),\n        React.createElement(\"mark\", null, str.substr(pos, term.length)),\n        pos + term.length < str.length && str.substring(pos + term.length))) : (str);\n}\nexports.highlightTerm = highlightTerm;\n//# sourceMappingURL=search.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport { range } from 'lodash';\nimport * as React from 'react';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { ButtonIcon, ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport CalendarIcon from 'sonar-ui-common/components/icons/CalendarIcon';\nimport ChevronLeftIcon from 'sonar-ui-common/components/icons/ChevronLeftIcon';\nimport ChevronRightIcon from 'sonar-ui-common/components/icons/ChevronRightIcon';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport {\n  getShortMonthName,\n  getShortWeekDayName,\n  getWeekDayName\n} from 'sonar-ui-common/helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoadComponent(() => import('react-day-picker'), 'DayPicker');\n\ninterface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { lastHovered } = this.state;\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <InputWrapper\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            innerRef={node => (this.input = node)}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            type=\"text\"\n            value={value}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ClearButton\n              className=\"button-tiny date-input-control-reset\"\n              iconProps={{ size: 12 }}\n              onClick={this.handleResetClick}\n            />\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n\ntype InputWrapperProps = T.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value'> &\n  InjectedIntlProps & {\n    innerRef: React.Ref<HTMLInputElement>;\n    value: Date | undefined;\n  };\n\nconst InputWrapper = injectIntl(({ innerRef, intl, value, ...other }: InputWrapperProps) => {\n  const formattedValue =\n    value && intl.formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n  return <input {...other} ref={innerRef} value={formattedValue || ''} />;\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction CalendarIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M2 14h2.25v-2.25H2V14zm2.75 0h2.5v-2.25h-2.5V14zM2 11.25h2.25v-2.5H2v2.5zm2.75 0h2.5v-2.5h-2.5v2.5zM2 8.25h2.25V6H2v2.25zM7.75 14h2.5v-2.25h-2.5V14zm-3-5.75h2.5V6h-2.5v2.25zm6 5.75H13v-2.25h-2.25V14zm-3-2.75h2.5v-2.5h-2.5v2.5zM5 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 4.75 2h-.5a.24.24 0 0 0-.176.074A.24.24 0 0 0 4 2.25V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 5 4.5zm5.75 6.75H13v-2.5h-2.25v2.5zm-3-3h2.5V6h-2.5v2.25zm3 0H13V6h-2.25v2.25zM11 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 10.75 2h-.5a.24.24 0 0 0-.176.074.24.24 0 0 0-.074.176V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 11 4.5zm3-.5v10c0 .27-.099.505-.297.703A.961.961 0 0 1 13 15H2a.961.961 0 0 1-.703-.297A.961.961 0 0 1 1 14V4c0-.27.099-.505.297-.703A.961.961 0 0 1 2 3h1v-.75c0-.344.122-.638.367-.883S3.907 1 4.25 1h.5c.344 0 .638.122.883.367S6 1.907 6 2.25V3h3v-.75c0-.344.122-.638.367-.883S9.907 1 10.25 1h.5c.344 0 .638.122.883.367s.367.54.367.883V3h1c.27 0 .505.099.703.297A.961.961 0 0 1 14 4z\", style: { fill: fill } })));\n}\nexports.default = CalendarIcon;\n//# sourceMappingURL=CalendarIcon.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport HomeIcon from 'sonar-ui-common/components/icons/HomeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: T.HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: T.HomePage;\n}\n\nexport const DEFAULT_HOMEPAGE: T.HomePage = { type: 'PROJECTS' };\n\nexport class HomePageSelect extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  handleReset = () => {\n    this.props.setHomePage(DEFAULT_HOMEPAGE);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const isChecked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const isDefault = isChecked && isSameHomePage(currentPage, DEFAULT_HOMEPAGE);\n    const tooltip = isChecked\n      ? translate(isDefault ? 'homepage.current.is_default' : 'homepage.current')\n      : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {isDefault ? (\n          <span\n            aria-label={tooltip}\n            className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={isChecked} />\n          </span>\n        ) : (\n          <ButtonLink\n            aria-label={tooltip}\n            className={classNames('link-no-underline', 'set-homepage-link', this.props.className)}\n            onClick={isChecked ? this.handleReset : this.handleClick}>\n            <HomeIcon filled={isChecked} />\n          </ButtonLink>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePageSelect);\n\nfunction isSameHomePage(a: T.HomePage, b: T.HomePage) {\n  return (\n    a.type === b.type &&\n    (a as any).branch === (b as any).branch &&\n    (a as any).component === (b as any).component &&\n    (a as any).organization === (b as any).organization\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from 'sonar-ui-common/components/icons/StatusIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar theme_1 = require(\"../theme\");\nvar Icon_1 = require(\"./Icon\");\nfunction HomeIcon(_a) {\n    var className = _a.className, fill = _a.fill, _b = _a.filled, filled = _b === void 0 ? false : _b, iconProps = __rest(_a, [\"className\", \"fill\", \"filled\"]);\n    return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(Icon_1.default, __assign({ className: classNames(className, 'icon-outline', { 'is-filled': filled }), style: { color: fill || theme.colors.orange } }, iconProps),\n        React.createElement(\"g\", { transform: \"matrix(0.870918,0,0,0.870918,0.978227,0.978227)\" },\n            React.createElement(\"path\", { d: \"M15.9,7.8L8.2,0.1C8.1,0 7.9,0 7.8,0.1L0.1,7.8C0,7.9 0,8.1 0.1,8.2C0.2,8.3 0.2,8.3 0.3,8.3L2.2,8.3L2.2,15.8C2.2,15.9 2.2,15.9 2.3,16C2.3,16 2.4,16.1 2.5,16.1L6.2,16.1C6.3,16.1 6.5,16 6.5,15.8L6.5,10.5L9.7,10.5L9.7,15.8C9.7,15.9 9.8,16.1 10,16.1L13.7,16.1C13.8,16.1 14,16 14,15.8L14,8.2L15.9,8.2C16,8.2 16,8.2 16.1,8.1C16,8 16.1,7.9 15.9,7.8Z\" })))); }));\n}\nexports.default = HomeIcon;\n//# sourceMappingURL=HomeIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\n\nconst SourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './SourceViewerBase'),\n  'SourceViewer'\n);\nexport default SourceViewer;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getStandards(): Promise<T.Standards> {\n  return import('./standards.json').then(x => x.default);\n}\n\nexport function renderCWECategory(standards: T.Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderOwaspTop10Category(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nexport function renderSonarSourceSecurityCategory(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sonarsourceSecurity[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'SONAR', withPrefix);\n  } else if (category === 'others') {\n    return record.title;\n  } else {\n    return addPrefix(record.title, 'SONAR', withPrefix);\n  }\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","var startOfDay = require('../start_of_day/index.js')\n\n/**\n * @category Day Helpers\n * @summary Are the given dates in the same day?\n *\n * @description\n * Are the given dates in the same day?\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * var result = isSameDay(\n *   new Date(2014, 8, 4, 6, 0),\n *   new Date(2014, 8, 4, 18, 0)\n * )\n * //=> true\n */\nfunction isSameDay (dirtyDateLeft, dirtyDateRight) {\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft)\n  var dateRightStartOfDay = startOfDay(dirtyDateRight)\n\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime()\n}\n\nmodule.exports = isSameDay\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DateInput from './DateInput';\n\ntype DateRange = { from?: Date; to?: Date };\n\ninterface Props {\n  className?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  onChange: (date: DateRange) => void;\n  value?: DateRange;\n}\n\nexport default class DateRangeInput extends React.PureComponent<Props> {\n  toDateInput?: DateInput | null;\n\n  get from() {\n    return this.props.value && this.props.value.from;\n  }\n\n  get to() {\n    return this.props.value && this.props.value.to;\n  }\n\n  handleFromChange = (from: Date | undefined) => {\n    this.props.onChange({ from, to: this.to });\n\n    // use `setTimeout` to work around the immediate closing of the `toDateInput`\n    setTimeout(() => {\n      if (from && !this.to && this.toDateInput) {\n        this.toDateInput.focus();\n      }\n    }, 0);\n  };\n\n  handleToChange = (to: Date | undefined) => {\n    this.props.onChange({ from: this.from, to });\n  };\n\n  render() {\n    return (\n      <div className={classNames('display-inline-flex-center', this.props.className)}>\n        <DateInput\n          currentMonth={this.to}\n          data-test=\"from\"\n          highlightTo={this.to}\n          maxDate={this.to}\n          onChange={this.handleFromChange}\n          placeholder={translate('start_date')}\n          value={this.from}\n        />\n        <span className=\"note little-spacer-left little-spacer-right\">{translate('to_')}</span>\n        <DateInput\n          currentMonth={this.from}\n          data-test=\"to\"\n          highlightFrom={this.from}\n          minDate={this.from}\n          onChange={this.handleToChange}\n          placeholder={translate('end_date')}\n          ref={element => (this.toDateInput = element)}\n          value={this.to}\n        />\n      </div>\n    );\n  }\n}\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar Select_1 = require(\"./Select\");\nvar SearchSelect = (function (_super) {\n    __extends(SearchSelect, _super);\n    function SearchSelect(props) {\n        var _this = _super.call(this, props) || this;\n        _this.mounted = false;\n        _this.handleSearch = function (query) {\n            var currentQuery = query;\n            _this.props.onSearch(currentQuery).then(function (options) {\n                if (_this.mounted) {\n                    _this.setState(function (state) { return ({\n                        loading: false,\n                        options: state.query === currentQuery ? options : state.options,\n                    }); });\n                }\n            }, function () {\n                if (_this.mounted) {\n                    _this.setState({ loading: false });\n                }\n            });\n        };\n        _this.handleChange = function (option) {\n            if (Array.isArray(option)) {\n                if (_this.props.onMultiSelect) {\n                    _this.props.onMultiSelect(option);\n                }\n            }\n            else if (_this.props.onSelect) {\n                _this.props.onSelect(option);\n            }\n        };\n        _this.handleInputChange = function (query) {\n            if (query.length >= _this.minimumQueryLength) {\n                _this.setState({ loading: true, query: query });\n                _this.handleSearch(query);\n            }\n            else {\n                var options = (query.length === 0 && _this.props.defaultOptions) || [];\n                _this.setState({ options: options, query: query });\n            }\n        };\n        _this.handleFilterOption = function () { return true; };\n        _this.state = { loading: false, options: props.defaultOptions || [], query: '' };\n        _this.handleSearch = lodash_1.debounce(_this.handleSearch, 250);\n        return _this;\n    }\n    SearchSelect.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SearchSelect.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Object.defineProperty(SearchSelect.prototype, \"autofocus\", {\n        get: function () {\n            return this.props.autofocus !== undefined ? this.props.autofocus : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"minimumQueryLength\", {\n        get: function () {\n            return this.props.minimumQueryLength !== undefined ? this.props.minimumQueryLength : 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"resetOnBlur\", {\n        get: function () {\n            return this.props.resetOnBlur !== undefined ? this.props.resetOnBlur : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SearchSelect.prototype.render = function () {\n        var Component = this.props.canCreate ? Select_1.Creatable : Select_1.default;\n        return (React.createElement(Component, { autoFocus: this.autofocus, className: this.props.className, clearable: this.props.clearable, escapeClearsValue: false, filterOption: this.handleFilterOption, isLoading: this.state.loading, multi: this.props.multi, noResultsText: this.state.query.length < this.minimumQueryLength\n                ? l10n_1.translateWithParameters('select2.tooShort', this.minimumQueryLength)\n                : l10n_1.translate('select2.noMatches'), onBlurResetsInput: this.resetOnBlur, onChange: this.handleChange, onInputChange: this.handleInputChange, optionRenderer: this.props.renderOption, options: this.state.options, placeholder: l10n_1.translate('search_verb'), promptTextCreator: this.props.promptTextCreator, searchable: true, value: this.props.value, valueRenderer: this.props.renderOption }));\n    };\n    return SearchSelect;\n}(React.PureComponent));\nexports.default = SearchSelect;\n//# sourceMappingURL=SearchSelect.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  diff: T.IssueChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (['from_long_branch', 'from_branch'].includes(diff.key)) {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    // Applies to both legacy short lived branch and pull request\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_non_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'line') {\n    return <p>{translateWithParameters('issue.changelog.line_removed_X', diff.oldValue || '')}</p>;\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar theme_1 = require(\"../theme\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar ReloadButton = (function (_super) {\n    __extends(ReloadButton, _super);\n    function ReloadButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            _this.props.onClick();\n        };\n        return _this;\n    }\n    ReloadButton.prototype.render = function () {\n        var _a = this.props.tooltip, tooltip = _a === void 0 ? l10n_1.translate('reload') : _a;\n        return (React.createElement(Tooltip_1.default, { overlay: tooltip },\n            React.createElement(\"a\", { className: classNames('link-no-underline', this.props.className), href: \"#\", onClick: this.handleClick }, React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(\"svg\", { height: \"24\", viewBox: \"0 0 18 24\", width: \"18\" },\n                React.createElement(\"path\", { d: \"M16.6454 8.1084c-.3-.5-.9-.7-1.4-.4-.5.3-.7.9-.4 1.4.9 1.6 1.1 3.4.6 5.1-.5 1.7-1.7 3.2-3.2 4-3.3 1.8-7.4.6-9.1-2.7-1.8-3.1-.8-6.9 2.1-8.8v3.3h2v-7h-7v2h3.9c-3.7 2.5-5 7.5-2.8 11.4 1.6 3 4.6 4.6 7.7 4.6 1.4 0 2.8-.3 4.2-1.1 2-1.1 3.5-3 4.2-5.2.6-2.2.3-4.6-.8-6.6z\", fill: theme.colors.secondFontColor }))); }))));\n    };\n    return ReloadButton;\n}(React.PureComponent));\nexports.default = ReloadButton;\n//# sourceMappingURL=ReloadButton.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:\\\"\\\"}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#777;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none;word-break:break-all}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:\\\"\\\";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar statusIcons = {\n    open: OpenStatusIcon,\n    confirmed: ConfirmedStatusIcon,\n    reopened: ReopenedStatusIcon,\n    resolved: ResolvedStatusIcon,\n    closed: ClosedStatusIcon,\n    to_review: OpenStatusIcon,\n    in_review: ConfirmedStatusIcon,\n    reviewed: ResolvedStatusIcon,\n};\nfunction StatusIcon(_a) {\n    var status = _a.status, iconProps = __rest(_a, [\"status\"]);\n    var Icon = statusIcons[status.toLowerCase()];\n    return Icon ? React.createElement(Icon, __assign({}, iconProps)) : null;\n}\nexports.default = StatusIcon;\nfunction OpenStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.blue } }));\n    }));\n}\nfunction ConfirmedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M10 8c0 .552-.195 1.023-.586 1.414-.39.39-.862.586-1.414.586a1.926 1.926 0 0 1-1.414-.586A1.928 1.928 0 0 1 6 8c0-.552.195-1.023.586-1.414C6.976 6.196 7.448 6 8 6c.552 0 1.023.195 1.414.586.39.39.586.862.586 1.414zM8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.blue } }));\n    }));\n}\nfunction ReopenedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 12.25v-8.5c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.blue } }));\n    }));\n}\nfunction ResolvedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.baseFontColor } }));\n    }));\n}\nfunction ClosedStatusIcon(iconProps) {\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\", style: { fill: theme.colors.baseFontColor } }));\n    }));\n}\n//# sourceMappingURL=StatusIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { IssueResponse } from '../../api/issues';\nimport { parseIssueFromResponse } from '../../helpers/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    () => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  className?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: string;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames(\n            { active: this.props.active === this.props.item },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport * as React from 'react';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchMembers } from '../../../api/organizations';\nimport { searchUsers } from '../../../api/users';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { withCurrentUser } from '../../hoc/withCurrentUser';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  issue: Pick<T.Issue, 'projectOrganization'>;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: T.UserActive[];\n}\n\nconst LIST_SIZE = 10;\n\nexport class SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: T.UserActive[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchMembers = (query: string) => {\n    searchMembers({\n      organization: this.props.issue.projectOrganization,\n      q: query,\n      ps: LIST_SIZE\n    }).then(this.handleSearchResult, () => {});\n  };\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = ({ users }: { users: T.UserBase[] }) => {\n    const activeUsers = users.filter(isUserActive);\n    this.setState({\n      users: activeUsers,\n      currentUser: activeUsers.length > 0 ? activeUsers[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      if (isSonarCloud()) {\n        this.searchMembers(query);\n      } else {\n        this.searchUsers(query);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span className=\"text-middle\" style={{ marginLeft: user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withCurrentUser(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<\n    T.Issue,\n    'assignee' | 'assigneeActive' | 'assigneeAvatar' | 'assigneeName' | 'projectOrganization'\n  >;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (assigneeName) {\n      return (\n        <>\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={issue.assigneeName || issue.assignee}\n              size={16}\n            />\n          </span>\n          <span className=\"issue-meta-label\">\n            {issue.assigneeActive === false\n              ? translateWithParameters('user.x_deleted', assigneeName)\n              : assigneeName}\n          </span>\n        </>\n      );\n    }\n\n    return <span className=\"issue-meta-label\">{translate('unassigned')}</span>;\n  }\n\n  render() {\n    if (this.props.canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canAssign}\n            overlay={<SetAssigneePopup issue={this.props.issue} onSelect={this.props.onAssign} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return this.renderAssignee();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MarkdownTips from '../../common/MarkdownTips';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n  autoTriggered?: boolean;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment, autoTriggered } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {autoTriggered ? translate('skip') : translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <MarkdownTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { addIssueComment } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  commentAutoTriggered?: boolean;\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string, autoTriggered?: boolean) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          closeOnClickOutside={false}\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              autoTriggered={this.props.commentAutoTriggered}\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <ButtonLink className=\"issue-action js-issue-comment\" onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem className=\"display-flex-center\" item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { IssueResponse, setIssueSeverity } from '../../../api/issues';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { searchIssueTags } from '../../../api/issues';\nimport TagsSelector from '../../tags/TagsSelector';\n\ninterface Props {\n  organization: string;\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueTags } from '../../../api/issues';\nimport TagsList from '../../tags/TagsList';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'projectOrganization' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={\n              <SetIssueTagsPopup\n                organization={issue.projectOrganization}\n                selectedTags={tags}\n                setTags={this.setTags}\n              />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-edit-tags\"\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <TagsList\n          allowUpdate={this.props.canSetTags}\n          className=\"note\"\n          tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\nexport interface Props {\n  fromHotspot: boolean;\n  onSelect: (transition: string) => void;\n  transitions: string[];\n  type: T.IssueType;\n}\n\nexport default function SetTransitionPopup({ fromHotspot, onSelect, transitions, type }: Props) {\n  const isManualVulnerability = fromHotspot && type === 'VULNERABILITY';\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          const [name, description] = translateTransition(transition, isManualVulnerability);\n          return (\n            <SelectListItem item={transition} key={transition} title={description}>\n              {name}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n\nfunction translateTransition(transition: string, isManualVulnerability: boolean) {\n  return isManualVulnerability && hasMessage('vulnerability.transition', transition)\n    ? [\n        translate('vulnerability.transition', transition),\n        translate('vulnerability.transition', transition, 'description')\n      ]\n    : [\n        translate('issue.transition', transition),\n        translate('issue.transition', transition, 'description')\n      ];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { setIssueTransition } from '../../../api/issues';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'fromHotspot' | 'key' | 'resolution' | 'status' | 'transitions' | 'type'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup\n                fromHotspot={issue.fromHotspot}\n                onSelect={this.setTransition}\n                transitions={issue.transitions}\n                type={issue.type}\n              />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <StatusHelper\n          className=\"issue-meta-label\"\n          resolution={issue.resolution}\n          status={issue.status}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem className=\"display-flex-center\" item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse, setIssueType } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport SetTypePopup from '../popups/SetTypePopup';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon\n                className=\"little-spacer-right\"\n                fill={colors.baseFontColor}\n                query={issue.type}\n              />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <span>\n          <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n          {translate('issue.type', issue.type)}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentAutoTriggered: boolean;\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentAutoTriggered: false,\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder = '', autoTriggered = false) => {\n    this.setState({\n      commentPlaceholder: placeholder,\n      commentAutoTriggered: autoTriggered\n    });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'), true);\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          <li className=\"issue-meta\">\n            <IssueAssign\n              canAssign={canAssign}\n              isOpen={this.props.currentPopup === 'assign' && canAssign}\n              issue={issue}\n              onAssign={this.props.onAssign}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && issue.effort && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\">\n                {translateWithParameters('issue.x_effort', issue.effort)}\n              </span>\n            </li>\n          )}\n          {canComment && (\n            <IssueCommentAction\n              commentAutoTriggered={this.state.commentAutoTriggered}\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </ul>\n        <ul className=\"list-inline\">\n          <li className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sanitize } from 'dompurify';\nimport * as React from 'react';\nimport { DeleteButton, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    const author = comment.authorName || comment.author;\n    const displayName =\n      comment.authorActive === false && author\n        ? translateWithParameters('user.x_deleted', author)\n        : author;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={displayName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={author}\n            size={16}\n          />\n          {displayName}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          dangerouslySetInnerHTML={{ __html: sanitize(comment.htmlText) }}\n        />\n        <div className=\"issue-comment-age\">\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                closeOnClickOutside={false}\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getIssueChangelog } from '../../../api/issues';\nimport Avatar from '../../ui/Avatar';\nimport IssueChangelogDiff from '../components/IssueChangelogDiff';\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelog: T.IssueChangelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { changelog: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      ({ changelog }) => {\n        if (this.mounted) {\n          this.setState({ changelog });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelog.map((item, idx) => {\n                const userName = item.userName || item.user;\n\n                return (\n                  <tr key={idx}>\n                    <td className=\"thin text-left text-top nowrap\">\n                      <DateTimeFormatter date={item.creationDate} />\n                    </td>\n                    <td className=\"text-left text-top\">\n                      {userName && (\n                        <p>\n                          <Avatar\n                            className=\"little-spacer-right\"\n                            hash={item.avatar}\n                            name={userName}\n                            size={16}\n                          />\n                          {item.isUserActive\n                            ? userName\n                            : translateWithParameters('user.x_deleted', userName)}\n                        </p>\n                      )}\n                      {item.diffs.map(diff => (\n                        <IssueChangelogDiff diff={diff} key={diff.key} />\n                      ))}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport ChangelogPopup from '../popups/ChangelogPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <Tooltip\n            mouseEnterDelay={0.5}\n            overlay={<DateTimeFormatter date={this.props.creationDate} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-show-changelog\"\n              onClick={this.handleClick}>\n              <span className=\"issue-meta-label\">\n                <DateFromNow date={this.props.creationDate} />\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Tooltip>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\nexport interface IssueMessageProps {\n  engine?: string;\n  engineName?: string;\n  manualVulnerability: boolean;\n  message: string;\n  onOpenRule: WorkspaceContextShape['openRule'];\n  organization: string;\n  ruleKey: string;\n}\n\nexport default function IssueMessage(props: IssueMessageProps) {\n  const { engine, engineName, manualVulnerability, message, organization, ruleKey } = props;\n  const ruleEngine = engineName ? engineName : engine;\n\n  return (\n    <div className=\"issue-message\">\n      <span className=\"spacer-right\">{message}</span>\n      <ButtonLink\n        aria-label={translate('issue.why_this_issue.long')}\n        className=\"issue-see-rule spacer-right\"\n        onClick={() => props.onOpenRule({ key: ruleKey, organization })}>\n        {translate('issue.why_this_issue')}\n      </ButtonLink>\n\n      {ruleEngine && (\n        <Tooltip overlay={translateWithParameters('issue.from_external_rule_engine', ruleEngine)}>\n          <div className=\"badge spacer-right text-top\">{ruleEngine}</div>\n        </Tooltip>\n      )}\n      {manualVulnerability && (\n        <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n          <div className=\"badge spacer-right text-top\">\n            {translate('issue.manual_vulnerability')}\n          </div>\n        </Tooltip>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { fileFromPath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    const assignee = issue.assigneeName || issue.assignee;\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem className=\"display-flex-center\" item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper className=\"display-flex-center\" severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper\n              className=\"display-flex-center\"\n              resolution={undefined}\n              status={issue.status}\n            />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {assignee ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={assignee}\n                  size={16}\n                />\n                {issue.assigneeActive === false\n                  ? translateWithParameters('user.x_deleted', assignee)\n                  : assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport FilterIcon from 'sonar-ui-common/components/icons/FilterIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <ButtonLink\n            aria-label={translate('issue.filter_similar_issues')}\n            className=\"issue-action issue-action-with-options js-issue-filter\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport LocationIndex from '../../common/LocationIndex';\nimport { WorkspaceContext } from '../../workspace/context';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\n\nexport interface IssueTitleBarProps {\n  branchLike?: BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: IssueTitleBarProps) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ externalRulesRepoNames, openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            engineName={\n              issue.externalRuleEngine &&\n              externalRulesRepoNames &&\n              externalRulesRepoNames[issue.externalRuleEngine]\n            }\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            onOpenRule={openRule}\n            organization={issue.organization}\n            ruleKey={issue.rule}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </li>\n          {issue.textRange != null && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </li>\n          )}\n          {displayLocations && (\n            <li className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </li>\n          {hasSimilarIssuesFilter && (\n            <li className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport IssueTitleBar from './components/IssueTitleBar';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = () => {\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      hotspot: issue.type === 'SECURITY_HOTSPOT',\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div\n        className={issueClass}\n        data-issue={issue.key}\n        onClick={this.handleClick}\n        role=\"listitem\"\n        tabIndex={0}>\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments && issue.comments.length > 0 && (\n          <div className=\"issue-comments\">\n            {issue.comments.map(comment => (\n              <IssueCommentLine\n                comment={comment}\n                key={comment.key}\n                onDelete={this.deleteComment}\n                onEdit={this.editComment}\n              />\n            ))}\n          </div>\n        )}\n        {hasCheckbox && (\n          <>\n            <Checkbox\n              checked={this.props.checked || false}\n              className=\"issue-checkbox-container\"\n              onCheck={this.handleCheck}\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { setIssueAssignee } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport './Issue.css';\nimport IssueView from './IssueView';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', () => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { areThereCustomOrganizations, getOrganizationByKey, Store } from '../../store/rootReducer';\nimport OrganizationLink from '../ui/OrganizationLink';\n\ninterface OwnProps {\n  organizationKey: string;\n}\n\ninterface Props {\n  link?: boolean;\n  linkClassName?: string;\n  organization: { key: string; name: string } | null;\n  shouldBeDisplayed?: boolean;\n}\n\nfunction Organization(props: Props) {\n  const { link = true, organization, shouldBeDisplayed } = props;\n\n  if (!shouldBeDisplayed || !organization) {\n    return null;\n  }\n\n  return (\n    <span>\n      {link ? (\n        <OrganizationLink className={props.linkClassName} organization={organization}>\n          {organization.name}\n        </OrganizationLink>\n      ) : (\n        organization.name\n      )}\n      <span className=\"slash-separator\" />\n    </span>\n  );\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps) => ({\n  organization: getOrganizationByKey(state, ownProps.organizationKey),\n  shouldBeDisplayed: areThereCustomOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(Organization);\n\nexport const UnconnectedOrganization = Organization;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport {\n  getStandards,\n  renderCWECategory,\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderSonarSourceSecurityCategory\n} from '../../../helpers/security-standard';\nimport { Facet, formatFacetStat, Query, STANDARDS } from '../utils';\n\ninterface Props {\n  cwe: string[];\n  cweOpen: boolean;\n  cweStats: T.Dict<number> | undefined;\n  fetchingCwe: boolean;\n  fetchingOwaspTop10: boolean;\n  fetchingSansTop25: boolean;\n  fetchingSonarSourceSecurity: boolean;\n  loadSearchResultCount?: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  owaspTop10: string[];\n  owaspTop10Open: boolean;\n  owaspTop10Stats: T.Dict<number> | undefined;\n  query: Partial<Query>;\n  sansTop25: string[];\n  sansTop25Open: boolean;\n  sansTop25Stats: T.Dict<number> | undefined;\n  sonarsourceSecurity: string[];\n  sonarsourceSecurityOpen: boolean;\n  sonarsourceSecurityStats: T.Dict<number> | undefined;\n}\n\ninterface State {\n  standards: T.Standards;\n}\n\ntype StatsProp = 'owaspTop10Stats' | 'cweStats' | 'sansTop25Stats' | 'sonarsourceSecurityStats';\ntype ValuesProp = T.StandardType;\n\nexport default class StandardFacet extends React.PureComponent<Props, State> {\n  mounted = false;\n  property = STANDARDS;\n  state: State = {\n    standards: { owaspTop10: {}, sansTop25: {}, cwe: {}, sonarsourceSecurity: {} }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n\n    // load standards.json only if the facet is open, or there is a selected value\n    if (\n      this.props.open ||\n      this.props.owaspTop10.length > 0 ||\n      this.props.cwe.length > 0 ||\n      this.props.sansTop25.length > 0 ||\n      this.props.sonarsourceSecurity.length > 0\n    ) {\n      this.loadStandards();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open) {\n      this.loadStandards();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStandards = () => {\n    getStandards().then(\n      ({ owaspTop10, sansTop25, cwe, sonarsourceSecurity }: T.Standards) => {\n        if (this.mounted) {\n          this.setState({ standards: { owaspTop10, sansTop25, cwe, sonarsourceSecurity } });\n        }\n      },\n      () => {}\n    );\n  };\n\n  getValues = () => {\n    return [\n      ...this.props.sonarsourceSecurity.map(item =>\n        renderSonarSourceSecurityCategory(this.state.standards, item, true)\n      ),\n      ...this.props.owaspTop10.map(item =>\n        renderOwaspTop10Category(this.state.standards, item, true)\n      ),\n      ...this.props.sansTop25.map(item =>\n        renderSansTop25Category(this.state.standards, item, true)\n      ),\n      ...this.props.cwe.map(item => renderCWECategory(this.state.standards, item))\n    ];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleOwaspTop10HeaderClick = () => {\n    this.props.onToggle('owaspTop10');\n  };\n\n  handleSansTop25HeaderClick = () => {\n    this.props.onToggle('sansTop25');\n  };\n\n  handleSonarSourceSecurityHeaderClick = () => {\n    this.props.onToggle('sonarsourceSecurity');\n  };\n\n  handleClear = () => {\n    this.props.onChange({\n      [this.property]: [],\n      owaspTop10: [],\n      sansTop25: [],\n      cwe: [],\n      sonarsourceSecurity: []\n    });\n  };\n\n  handleItemClick = (prop: ValuesProp, itemValue: string, multiple: boolean) => {\n    const items = this.props[prop];\n    if (multiple) {\n      const newValue = sortBy(\n        items.includes(itemValue) ? without(items, itemValue) : [...items, itemValue]\n      );\n      this.props.onChange({ [prop]: newValue });\n    } else {\n      this.props.onChange({\n        [prop]: items.includes(itemValue) && items.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleOwaspTop10ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('owaspTop10', itemValue, multiple);\n  };\n\n  handleSansTop25ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sansTop25', itemValue, multiple);\n  };\n\n  handleSonarSourceSecurityItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sonarsourceSecurity', itemValue, multiple);\n  };\n\n  handleCWESearch = (query: string) => {\n    return Promise.resolve({\n      results: Object.keys(this.state.standards.cwe).filter(cwe =>\n        renderCWECategory(this.state.standards, cwe)\n          .toLowerCase()\n          .includes(query.toLowerCase())\n      )\n    });\n  };\n\n  loadCWESearchResultCount = (categories: string[]) => {\n    const { loadSearchResultCount } = this.props;\n    return loadSearchResultCount\n      ? loadSearchResultCount('cwe', { cwe: categories })\n      : Promise.resolve({});\n  };\n\n  renderList = (\n    statsProp: StatsProp,\n    valuesProp: ValuesProp,\n    renderName: (standards: T.Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    const stats = this.props[statsProp];\n    const values = this.props[valuesProp];\n    if (!stats) {\n      return null;\n    }\n    const categories = sortBy(Object.keys(stats), key => -stats[key]);\n    return this.renderFacetItemsList(stats, values, categories, renderName, renderName, onClick);\n  };\n\n  // eslint-disable-next-line max-params\n  renderFacetItemsList = (\n    stats: any,\n    values: string[],\n    categories: string[],\n    renderName: (standards: T.Standards, category: string) => React.ReactNode,\n    renderTooltip: (standards: T.Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    if (!categories.length) {\n      return (\n        <div className=\"search-navigator-facet-empty little-spacer-top\">\n          {translate('no_results')}\n        </div>\n      );\n    }\n\n    const getStat = (category: string) => {\n      return stats ? stats[category] : undefined;\n    };\n\n    return (\n      <FacetItemsList>\n        {categories.map(category => (\n          <FacetItem\n            active={values.includes(category)}\n            key={category}\n            name={renderName(this.state.standards, category)}\n            onClick={onClick}\n            stat={formatFacetStat(getStat(category))}\n            tooltip={renderTooltip(this.state.standards, category)}\n            value={category}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  };\n\n  renderHint = (statsProp: StatsProp, valuesProp: ValuesProp) => {\n    const stats = this.props[statsProp] || {};\n    const values = this.props[valuesProp];\n    return <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />;\n  };\n\n  renderOwaspTop10List() {\n    return this.renderList(\n      'owaspTop10Stats',\n      'owaspTop10',\n      renderOwaspTop10Category,\n      this.handleOwaspTop10ItemClick\n    );\n  }\n\n  renderOwaspTop10Hint() {\n    return this.renderHint('owaspTop10Stats', 'owaspTop10');\n  }\n\n  renderSansTop25List() {\n    return this.renderList(\n      'sansTop25Stats',\n      'sansTop25',\n      renderSansTop25Category,\n      this.handleSansTop25ItemClick\n    );\n  }\n\n  renderSansTop25Hint() {\n    return this.renderHint('sansTop25Stats', 'sansTop25');\n  }\n\n  renderSonarSourceSecurityList() {\n    return this.renderList(\n      'sonarsourceSecurityStats',\n      'sonarsourceSecurity',\n      renderSonarSourceSecurityCategory,\n      this.handleSonarSourceSecurityItemClick\n    );\n  }\n\n  renderSonarSourceSecurityHint() {\n    return this.renderHint('sonarsourceSecurityStats', 'sonarsourceSecurity');\n  }\n\n  renderSubFacets() {\n    return (\n      <>\n        <FacetBox className=\"is-inner\" property=\"sonarsourceSecurity\">\n          <FacetHeader\n            fetching={this.props.fetchingSonarSourceSecurity}\n            name={translate('issues.facet.sonarsourceSecurity')}\n            onClick={this.handleSonarSourceSecurityHeaderClick}\n            open={this.props.sonarsourceSecurityOpen}\n            values={this.props.sonarsourceSecurity.map(item =>\n              renderSonarSourceSecurityCategory(this.state.standards, item)\n            )}\n          />\n          {this.props.sonarsourceSecurityOpen && (\n            <>\n              {this.renderSonarSourceSecurityList()}\n              {this.renderSonarSourceSecurityHint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"owaspTop10\">\n          <FacetHeader\n            fetching={this.props.fetchingOwaspTop10}\n            name={translate('issues.facet.owaspTop10')}\n            onClick={this.handleOwaspTop10HeaderClick}\n            open={this.props.owaspTop10Open}\n            values={this.props.owaspTop10.map(item =>\n              renderOwaspTop10Category(this.state.standards, item)\n            )}\n          />\n          {this.props.owaspTop10Open && (\n            <>\n              {this.renderOwaspTop10List()}\n              {this.renderOwaspTop10Hint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"sansTop25\">\n          <FacetHeader\n            fetching={this.props.fetchingSansTop25}\n            name={translate('issues.facet.sansTop25')}\n            onClick={this.handleSansTop25HeaderClick}\n            open={this.props.sansTop25Open}\n            values={this.props.sansTop25.map(item =>\n              renderSansTop25Category(this.state.standards, item)\n            )}\n          />\n          {this.props.sansTop25Open && (\n            <>\n              {this.renderSansTop25List()}\n              {this.renderSansTop25Hint()}\n            </>\n          )}\n        </FacetBox>\n        <ListStyleFacet<string>\n          className=\"is-inner\"\n          facetHeader={translate('issues.facet.cwe')}\n          fetching={this.props.fetchingCwe}\n          getFacetItemText={item => renderCWECategory(this.state.standards, item)}\n          getSearchResultKey={item => item}\n          getSearchResultText={item => renderCWECategory(this.state.standards, item)}\n          loadSearchResultCount={this.loadCWESearchResultCount}\n          onChange={this.props.onChange}\n          onSearch={this.handleCWESearch}\n          onToggle={this.props.onToggle}\n          open={this.props.cweOpen}\n          property=\"cwe\"\n          query={omit(this.props.query, 'cwe')}\n          renderFacetItem={item => renderCWECategory(this.state.standards, item)}\n          renderSearchResult={(item, query) =>\n            highlightTerm(renderCWECategory(this.state.standards, item), query)\n          }\n          searchPlaceholder={translate('search.search_for_cwe')}\n          stats={this.props.cweStats}\n          values={this.props.cwe}\n        />\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderSubFacets()}\n      </FacetBox>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n"],"sourceRoot":""}