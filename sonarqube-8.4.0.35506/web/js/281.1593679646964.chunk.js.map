{"version":3,"sources":["webpack:///./src/main/js/api/branches.ts","webpack:///./src/main/js/app/components/ComponentContext.tsx","webpack:///./src/main/js/components/common/CodeSnippet.css?463c","webpack:///./src/main/js/components/common/CodeSnippet.css","webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/ProjectLinkIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/BugTrackerIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/ContinuousIntegrationIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/HouseIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/SCMIcon.js","webpack:///./src/main/js/app/utils/isValidUri.ts","webpack:///./src/main/js/api/favorites.ts","webpack:///./src/main/js/components/controls/Favorite.tsx","webpack:///./src/main/js/components/common/BranchStatus.tsx","webpack:///./src/main/js/api/web-api.ts","webpack:///./src/main/js/apps/account/notifications/NotificationsList.tsx","webpack:///./node_modules/sonar-ui-common/components/ui/SizeRating.js","webpack:///./node_modules/lodash/differenceBy.js","webpack:///./node_modules/sonar-ui-common/components/icons/BackIcon.js","webpack:///./node_modules/lodash/uniqWith.js","webpack:///./src/main/js/api/projectLinks.ts","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaLink.tsx","webpack:///./node_modules/sonar-ui-common/components/ui/SizeRating.css?e26a","webpack:///./node_modules/sonar-ui-common/components/ui/SizeRating.css","webpack:///./src/main/js/api/notifications.ts","webpack:///./src/main/js/components/hoc/withNotifications.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/BranchLikeNavigation.css?8738","webpack:///./src/main/js/app/components/nav/component/branch-like/BranchLikeNavigation.css","webpack:///../sonar-docs/src/tooltips/branches/no-branch-support.md","webpack:///../sonar-docs/src/tooltips/branches/single-branch.md","webpack:///./src/main/js/app/components/nav/component/HeaderMeta.css?82fb","webpack:///./src/main/js/app/components/nav/component/HeaderMeta.css","webpack:///./src/main/js/app/components/nav/component/Menu.css?14a8","webpack:///./src/main/js/app/components/nav/component/Menu.css","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawer.css?f7cf","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawer.css","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/styles.css?4563","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/styles.css","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformation.css?e00c","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformation.css","webpack:///./src/main/js/app/components/ComponentContainerNotFound.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavLicenseNotif.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBgTaskNotif.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/CurrentBranchLike.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/MenuItem.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/MenuItemList.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/Menu.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/BranchLikeNavigation.tsx","webpack:///./src/main/js/app/components/nav/component/branch-like/CurrentBranchLikeMergeInformation.tsx","webpack:///./src/main/js/app/components/nav/component/Breadcrumb.tsx","webpack:///./src/main/js/app/components/nav/component/Header.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavWarnings.tsx","webpack:///./src/main/js/app/components/nav/component/HeaderMeta.tsx","webpack:///./src/main/js/app/components/nav/component/Menu.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawer.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/utils.ts","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/BadgeButton.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/BadgeParams.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/badges/ProjectBadges.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/InfoDrawerPage.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/notifications/ProjectNotifications.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformationPages.ts","webpack:///./src/main/js/app/components/nav/component/projectInformation/DrawerLink.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaKey.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaLinks.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaQualityGate.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaQualityProfiles.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaSize.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaTagsSelector.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/meta/MetaTags.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformationRenderer.tsx","webpack:///./src/main/js/app/components/nav/component/projectInformation/ProjectInformation.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNav.tsx","webpack:///./src/main/js/app/components/ComponentContainer.tsx","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/helpers/markdown.js","webpack:///./node_modules/lodash/difference.js","webpack:///./node_modules/sonar-ui-common/components/icons/TagsIcon.js","webpack:///./src/main/js/components/tags/TagsList.css?d861","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/common/CodeSnippet.tsx","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./node_modules/lodash/partition.js","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/api/nav.ts","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./src/main/js/components/icons/BranchLikeIcon.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/BulletListIcon.js","webpack:///./src/main/js/helpers/projectLinks.ts","webpack:///./node_modules/valid-url/index.js","webpack:///./src/main/js/components/shared/DrilldownLink.tsx"],"names":["getBranches","project","then","r","getPullRequests","deleteBranch","data","catch","deletePullRequest","renameBranch","name","excludeBranchFromPurge","projectKey","branchName","excluded","branch","value","ComponentContext","branchLike","undefined","component","api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","PrivacyBadgeContainer","className","qualifier","visibility","overlay","__assign","this","Object","assign","t","s","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","React","BugTrackerIcon_1","ContinuousIntegrationIcon_1","DetachIcon_1","HouseIcon_1","SCMIcon_1","_a","type","iconProps","createElement","Icon_1","_b","fill","d","style","url","test","addFavorite","removeFavorite","props","mounted","toggleFavorite","newFavorite","state","favorite","setState","handleFavorite","componentDidMount","componentDidUpdate","_prevProps","prevState","componentWillUnmount","render","status","level","small","fetchWebApi","showInternal","include_internals","fetchResponseExample","domain","action","controller","isEnabled","channel","notifications","find","notification","handleCheck","checked","onAdd","onRemove","getDispatcherLabel","dispatcher","globalMessageKey","projectMessageKey","channels","checkboxId","types","map","key","id","onCheck","classNames","lodash_1","letter","_c","muted","inRange","baseDifference","baseFlatten","baseIteratee","baseRest","isArrayLikeObject","last","differenceBy","array","values","iteratee","baseUniq","comparator","getProjectLinks","deleteLink","linkId","createLink","expanded","handleClick","event","preventDefault","handleCollapse","handleSelect","currentTarget","select","iconOnly","link","linkTitle","href","onClick","rel","target","title","readOnly","getNotifications","throwGlobalError","addNotification","removeNotification","withNotifications","WrappedComponent","globalTypes","loading","perProjectTypes","fetchNotifications","response","addNotificationToState","added","areNotificationsEqual","removeNotificationFromState","removed","filter","a","b","displayName","ComponentContainerNotFound","defaultTitle","defer","to","fetchIsValidLicense","isValidLicense","currentTask","errorType","Alert","display","variant","componentQualifier","Project","errorMessage","appState","canAdmin","withAppState","renderMessage","messageKey","canSeeBackgroundTasks","configuration","showBackgroundTasks","defaultMessage","currentTaskOnSameBranch","isInProgress","isPending","ALL","FAILED","pullRequest","pullRequestTitle","message","branchesEnabled","currentBranchLike","hasManyBranches","isApplication","Application","canAdminComponent","showSettings","BranchLikeIcon","plusIcon","blue","size","DocTooltip","doc","additionalIcon","indent","setSelectedNode","onSelect","selected","active","ref","BranchStatus","listNode","selectedNode","parent","smooth","branchLikeTree","hasResults","selectedBranchLike","renderItem","node","mainBranchTree","branchTree","tree","pullRequests","pr","parentlessPullRequests","orphanPullRequests","processBranchLikes","branchLikes","branchLikesToDisplay","reduce","prev","branchLikesToDisplayTree","openHighlightedBranchLike","handleOnSelect","highlightSiblingBranchlike","indexDelta","selectBranchLikeIndex","findIndex","newIndex","handleKeyDown","keyCode","Enter","UpArrow","DownArrow","handleSearchChange","query","q","toLowerCase","filteredBranchLikes","bl","includes","onClose","router","some","showManageLink","Dropdown","noPadding","autoFocus","onChange","onKeyDown","placeholder","pathname","withRouter","isMenuOpen","setIsMenuOpen","isMenuEnabled","currentBranchLikeElement","Boolean","dropdown","onRequestClose","open","Breadcrumb","breadcrumbs","lastBreadcrumbElement","isNoMainBranch","breadcrumbElement","isFirst","isNotLast","currentUser","Favorite","isFavorite","AnalysisWarningsModal","lazyLoadComponent","modal","blur","handleCloseModal","warnings","warningsCount","isABranch","currentPage","isMain","Portfolio","SubPortfolio","getCurrentPage","displayVersion","version","analysisDate","date","HomePageSelect","SETTINGS_URLS","MenuLink","hasAnalysis","label","isProject","isDeveloper","Developper","isPortfolio","getConfiguration","getQuery","renderDashboardLink","activeClassName","renderCodeLink","renderActivityLink","renderIssuesLink","resolved","renderComponentMeasuresLink","renderSecurityHotspotsLink","renderSecurityReports","extensions","extension","startsWith","renderAdministration","isSettingsActive","window","location","adminLinks","renderAdministrationLinks","tagName","onToggleClick","renderSettingsLink","renderBranchesLink","renderBaselineLink","renderProfilesLink","renderQualityGateLink","renderCustomMeasuresLink","renderLinksLink","renderPermissionsLink","renderBackgroundTasksLink","renderUpdateKeyLink","renderWebhooksLink","renderAdminExtensions","renderDeletionLink","renderProjectInformationButton","onToggleProjectInfo","role","tabIndex","showQualityProfiles","showQualityGates","showManualMeasures","showLinks","showPermissions","showUpdateKey","renderExtension","isAdmin","baseQuery","renderExtensions","withoutSecurityExtension","children","displayed","top","onKeydown","onClickOutside","BadgeType","getBadgeSnippet","getBadgeUrl","format","metric","projectUrl","marketing","measure","qualityGate","mdImage","color","width","alt","src","badgeMetrics","getColorOptions","getFormatOptions","getMetricOptions","metrics","handleColorChange","updateOptions","handleFormatChange","handleMetricChange","renderBadgeType","htmlFor","clearable","searchable","menuStyle","maxHeight","fetchBadgeMetrics","webservices","path","ws","actions","w","param","params","possibleValues","selectedType","badgeOptions","alert_status","handleSelectBadge","handleUpdateOptions","fullBadgeOptions","CodeSnippet","isOneLine","snippet","InfoDrawerPage","onPageChange","ProjectInformationPages","projectNotifications","NotificationsList","MetaKey","componentKey","copyValue","loadLinks","links","prevProps","orderedLinks","MetaLink","MetaQualityGate","isDefault","deprecatedByKey","loadDeprecatedRules","existingProfiles","profiles","requests","profile","loadDeprecatedRulesForProfile","Promise","all","responses","forEach","count","profileKey","activation","organization","ps","qprofile","statuses","getDeprecatedRulesCount","renderProfile","languageFromStore","languages","language","languageName","inner","deleted","tooltip","headerClassName","MetaSize","measures","isApp","ncloc","projects","DrilldownLink","Number","searchResult","onSearch","Math","min","selectedTags","tags","tag","setProjectTags","onUnselect","availableTags","TagsSelector","listSize","canUpdateTags","getPopupPos","eltPos","containerPos","height","right","setTags","application","join","handleSetProjectTags","onComponentChange","card","closeOnClick","closeOnClickOutside","overlayPlacement","BottomLeft","innerRef","tagsList","stopPropagation","TagsList","allowUpdate","canConfigureNotifications","canUseBadges","description","qualityProfiles","badges","page","main","setPage","loadMeasures","metricKeys","fetchMetrics","mapDispatchToProps","ComponentNav","notifComponent","contextNavHeightRaw","globalNavHeightRaw","displayProjectInfo","setDisplayProjectInfo","RecentHistory","add","contextNavHeight","notif","addQualifier","fetchBranches","breadcrumb","resolve","branches","getCurrentBranchLike","registerBranchStatuses","fetchStatus","current","queue","tasksInProgress","newCurrentTask","getCurrentTask","pendingTasks","getPendingTasks","newTasksInProgress","task","currentTaskChanged","progressChanged","clearTimeout","watchStatusTimer","setTimeout","fetchComponent","fetchWarnings","isSameBranch","registerBranchStatus","qualityGateStatus","handleComponentChange","changes","handleBranchesChange","nav","componentWithQualifier","match","replace","requireAuthorization","needIssueSync","PageUnavailableDueToIndexation","Provider","onBranchesChange","fetchOrganization","DocMarkdownBlock","childProps","overlayProps","isTooltip","getFrontMatterPosition","lines","firstLine","lastLine","trim","parseFrontMatter","tokens","split","x","cutConditionalContent","beginning","ending","newContent","start","end","substring","console","error","Error","getFrontMatter","position","slice","separateFrontMatter","frontmatter","filterContent","regexBase","isSonarCloud","getInstance","contentWithoutStatic","RegExp","difference","MultiSelectOption","custom","disabled","element","onHover","renderLabel","onFocus","onMouseOver","onSelectChange","handleSelectChange","item","onSelectItem","onUnselectItem","onSearchQuery","validateSearchInput","handleElementHover","activeIdx","getAllElements","handleKeyboard","evt","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","unselectedElements","setElementActive","idx","allElements","container","addEventListener","componentWillReceiveProps","nextProps","totalElements","searchInput","focus","removeEventListener","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","div","defaultProps","finalSnippet","noCopy","snippetRef","Array","isArray","line","partition","createAggregator","result","validateTag","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation","DEFAULT_HOMEPAGE","setHomePage","handleReset","homepage","isChecked","isSameHomePage","filled","PROVIDED_TYPES","isProvided","orderLinks","provided","unknown","getLinkName","is_uri","is_iri","is_http_uri","is_http_iri","is_https_uri","is_https_iri","is_web_uri","is_web_iri","isUri","isHttpUri","isHttpsUri","isWebUri","splitUri","uri","splitted","authority","fragment","scheme","out","allowHttps","port","ISSUE_MEASURES","issueParamsPerMetric","blocker_violations","severities","new_blocker_violations","critical_violations","new_critical_violations","major_violations","new_major_violations","minor_violations","new_minor_violations","info_violations","new_info_violations","open_issues","reopened_issues","confirmed_issues","false_positive_issues","resolutions","code_smells","new_code_smells","bugs","new_bugs","vulnerabilities","new_vulnerabilities","isIssueMeasure","propsToIssueParams","sinceLeakPeriod","listView"],"mappings":"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","file":"js/281.1593679646964.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Branch, PullRequest } from '../types/branch-like';\n\nexport function getBranches(project: string): Promise<Branch[]> {\n  return getJSON('/api/project_branches/list', { project }).then(r => r.branches, throwGlobalError);\n}\n\nexport function getPullRequests(project: string): Promise<PullRequest[]> {\n  return getJSON('/api/project_pull_requests/list', { project }).then(\n    r => r.pullRequests,\n    throwGlobalError\n  );\n}\n\nexport function deleteBranch(data: { branch: string; project: string }) {\n  return post('/api/project_branches/delete', data).catch(throwGlobalError);\n}\n\nexport function deletePullRequest(data: { project: string; pullRequest: string }) {\n  return post('/api/project_pull_requests/delete', data).catch(throwGlobalError);\n}\n\nexport function renameBranch(project: string, name: string) {\n  return post('/api/project_branches/rename', { project, name }).catch(throwGlobalError);\n}\n\nexport function excludeBranchFromPurge(projectKey: string, branchName: string, excluded: boolean) {\n  return post('/api/project_branches/set_automatic_deletion_protection', {\n    project: projectKey,\n    branch: branchName,\n    value: excluded\n  }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../types/branch-like';\n\ninterface ComponentContextType {\n  branchLike: BranchLike | undefined;\n  component: T.Component | undefined;\n}\n\nexport const ComponentContext = React.createContext<ComponentContextType>({\n  branchLike: undefined,\n  component: undefined\n});\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./CodeSnippet.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".code-snippet{background:#e6e6e6;border-radius:3px}.code-snippet pre{padding:8px 16px;border-right:1px solid hsla(0,0%,78.4%,.5);overflow-y:hidden;overflow-x:auto}.code-snippet>button{height:36px;border:0;border-radius:0;background:transparent;padding:8px}.code-snippet>button:active,.code-snippet>button:focus,.code-snippet>button:hover{background-color:hsla(0,0%,78.4%,.5);color:#236a97}.code-snippet-oneline>button{height:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface PrivacyBadgeContainerProps {\n  className?: string;\n  qualifier: string;\n  visibility: T.Visibility;\n}\n\nexport default function PrivacyBadgeContainer({\n  className,\n  qualifier,\n  visibility\n}: PrivacyBadgeContainerProps) {\n  if (visibility !== 'private') {\n    return null;\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      <div className={classNames('badge', className)}>{translate('visibility', visibility)}</div>\n    </Tooltip>\n  );\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar BugTrackerIcon_1 = require(\"./BugTrackerIcon\");\nvar ContinuousIntegrationIcon_1 = require(\"./ContinuousIntegrationIcon\");\nvar DetachIcon_1 = require(\"./DetachIcon\");\nvar HouseIcon_1 = require(\"./HouseIcon\");\nvar SCMIcon_1 = require(\"./SCMIcon\");\nfunction ProjectLinkIcon(_a) {\n    var type = _a.type, iconProps = __rest(_a, [\"type\"]);\n    switch (type) {\n        case 'issue':\n            return React.createElement(BugTrackerIcon_1.default, __assign({}, iconProps));\n        case 'homepage':\n            return React.createElement(HouseIcon_1.default, __assign({}, iconProps));\n        case 'ci':\n            return React.createElement(ContinuousIntegrationIcon_1.default, __assign({}, iconProps));\n        case 'scm':\n            return React.createElement(SCMIcon_1.default, __assign({}, iconProps));\n        default:\n            return React.createElement(DetachIcon_1.default, __assign({}, iconProps));\n    }\n}\nexports.default = ProjectLinkIcon;\n//# sourceMappingURL=ProjectLinkIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BugTrackerIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M13.5 9.5c1.003.033 1.466 1.952 0 2h-2.618L9.685 9.107 8 14.162 6.096 8.45l-.832 3.05-2.829-.002c-.984-.097-1.369-1.951.065-1.998h1.236l2.168-7.95L8 7.838l1.315-3.945L12.118 9.5H13.5z\", style: { fill: fill } })));\n}\nexports.default = BugTrackerIcon;\n//# sourceMappingURL=BugTrackerIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ContinuousIntegrationIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M13.805 9.25c0 .016 0 .04-.008.055C13.133 12.07 10.852 14 7.969 14c-1.524 0-3-.602-4.11-1.656l-1.007 1.008a.497.497 0 0 1-.352.148.504.504 0 0 1-.5-.5V9.5c0-.273.227-.5.5-.5H6c.273 0 .5.227.5.5a.497.497 0 0 1-.148.352l-1.07 1.07a3.988 3.988 0 0 0 6.125-.828c.187-.305.28-.602.413-.914.04-.11.117-.18.235-.18h1.5c.14 0 .25.117.25.25zM14 3v3.5c0 .273-.227.5-.5.5H10a.504.504 0 0 1-.5-.5c0-.133.055-.258.148-.352l1.079-1.078A4.019 4.019 0 0 0 8 4c-1.39 0-2.68.719-3.406 1.906-.188.305-.282.602-.414.914-.04.11-.117.18-.235.18H2.391a.252.252 0 0 1-.25-.25v-.055C2.812 3.922 5.117 2 8 2c1.531 0 3.023.61 4.133 1.656l1.015-1.008A.497.497 0 0 1 13.5 2.5c.273 0 .5.227.5.5z\", style: { fill: fill } })));\n}\nexports.default = ContinuousIntegrationIcon;\n//# sourceMappingURL=ContinuousIntegrationIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction HouseIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M13.002 8.848v4.168a.56.56 0 0 1-.556.555H9.11v-3.334H6.89v3.334H3.554a.56.56 0 0 1-.556-.555V8.848c0-.018.01-.035.01-.052L8 4.68l4.993 4.116c.009.017.009.034.009.052zm1.936-.6l-.538.643a.289.289 0 0 1-.183.096h-.026a.273.273 0 0 1-.182-.061L8 3.916l-6.009 5.01a.297.297 0 0 1-.208.06.289.289 0 0 1-.183-.095l-.538-.642a.285.285 0 0 1 .035-.391L7.34 2.656a1.07 1.07 0 0 1 1.32 0l2.119 1.772V2.735c0-.157.121-.278.278-.278h1.667c.156 0 .278.121.278.278v3.542l1.901 1.58c.113.096.13.279.035.392z\", style: { fill: fill } })));\n}\nexports.default = HouseIcon;\n//# sourceMappingURL=HouseIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction SCMIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M12.557 4.545c.241.247.443.743.443 1.098v7.714c0 .355-.28.643-.625.643h-8.75A.634.634 0 0 1 3 13.357V2.643C3 2.288 3.28 2 3.625 2h5.833c.345 0 .827.208 1.068.455l2.031 2.09zM9.667 2.91v2.518h2.448a.86.86 0 0 0-.144-.275L9.934 3.058a.823.823 0 0 0-.267-.147zm2.5 10.232V6.286H9.458a.634.634 0 0 1-.625-.643V2.857h-5v10.286h8.334z\", style: { fill: fill } })));\n}\nexports.default = SCMIcon;\n//# sourceMappingURL=SCMIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isWebUri } from 'valid-url';\n\nexport default function(url: string): boolean {\n  return /^(\\/|scm:)/.test(url) || !!isWebUri(url);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\n\nexport function getFavorites(): Promise<any> {\n  return getJSON('/api/favorites/search');\n}\n\nexport function addFavorite(component: string): Promise<void> {\n  return post('/api/favorites/add', { component });\n}\n\nexport function removeFavorite(component: string): Promise<void> {\n  return post('/api/favorites/remove', { component });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FavoriteButton from 'sonar-ui-common/components/controls/FavoriteButton';\nimport { addFavorite, removeFavorite } from '../../api/favorites';\n\ninterface Props {\n  className?: string;\n  component: string;\n  favorite: boolean;\n  qualifier: string;\n  handleFavorite?: (component: string, isFavorite: boolean) => void;\n}\n\ninterface State {\n  favorite: boolean;\n}\n\nexport default class Favorite extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      favorite: props.favorite\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    if (prevState.favorite !== this.props.favorite) {\n      this.setState({ favorite: this.props.favorite });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  toggleFavorite = () => {\n    const newFavorite = !this.state.favorite;\n    const apiMethod = newFavorite ? addFavorite : removeFavorite;\n\n    return apiMethod(this.props.component).then(() => {\n      if (this.mounted) {\n        this.setState({ favorite: newFavorite }, () => {\n          if (this.props.handleFavorite) {\n            this.props.handleFavorite(this.props.component, newFavorite);\n          }\n        });\n      }\n    });\n  };\n\n  render() {\n    const { className, qualifier } = this.props;\n    const { favorite } = this.state;\n\n    return (\n      <FavoriteButton\n        className={className}\n        favorite={favorite}\n        qualifier={qualifier}\n        toggleFavorite={this.toggleFavorite}\n      />\n    );\n  }\n}\n/*  */\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport { getBranchStatusByBranchLike, Store } from '../../store/rootReducer';\nimport { BranchLike } from '../../types/branch-like';\n\ninterface Props {\n  branchLike: BranchLike;\n  component: string;\n  status?: string;\n}\n\nexport function BranchStatus({ status }: Props) {\n  if (!status) {\n    return null;\n  }\n\n  return <Level level={status} small={true} />;\n}\n\nconst mapStateToProps = (state: Store, { branchLike, component }: Props) => {\n  const { status } = getBranchStatusByBranchLike(state, component, branchLike);\n  return { status };\n};\n\nexport default connect(mapStateToProps)(BranchStatus);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\ninterface RawDomain {\n  actions: T.WebApi.Action[];\n  deprecatedSince?: string;\n  description: string;\n  internal: boolean;\n  path: string;\n  since?: string;\n}\n\nexport function fetchWebApi(showInternal = true): Promise<RawDomain[]> {\n  return getJSON('/api/webservices/list', { include_internals: showInternal })\n    .then(r => r.webServices)\n    .catch(throwGlobalError);\n}\n\nexport function fetchResponseExample(domain: string, action: string): Promise<T.WebApi.Example> {\n  return getJSON('/api/webservices/response_example', { controller: domain, action }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onAdd: (n: T.Notification) => void;\n  onRemove: (n: T.Notification) => void;\n  channels: string[];\n  checkboxId: (type: string, channel: string) => string;\n  project?: boolean;\n  types: string[];\n  notifications: T.Notification[];\n}\n\nexport default class NotificationsList extends React.PureComponent<Props> {\n  isEnabled(type: string, channel: string) {\n    return !!this.props.notifications.find(\n      notification => notification.type === type && notification.channel === channel\n    );\n  }\n\n  handleCheck(type: string, channel: string, checked: boolean) {\n    if (checked) {\n      this.props.onAdd({ type, channel });\n    } else {\n      this.props.onRemove({ type, channel });\n    }\n  }\n\n  getDispatcherLabel(dispatcher: string) {\n    const globalMessageKey = ['notification.dispatcher', dispatcher];\n    const projectMessageKey = [...globalMessageKey, 'project'];\n    const shouldUseProjectMessage = this.props.project && hasMessage(...projectMessageKey);\n    return shouldUseProjectMessage\n      ? translate(...projectMessageKey)\n      : translate(...globalMessageKey);\n  }\n\n  render() {\n    const { channels, checkboxId, types } = this.props;\n\n    return (\n      <tbody>\n        {types.map(type => (\n          <tr key={type}>\n            <td>{this.getDispatcherLabel(type)}</td>\n            {channels.map(channel => (\n              <td className=\"text-center\" key={channel}>\n                <Checkbox\n                  checked={this.isEnabled(type, channel)}\n                  id={checkboxId(type, channel)}\n                  onCheck={checked => this.handleCheck(type, channel, checked)}\n                />\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nrequire(\"./SizeRating.css\");\nfunction SizeRating(_a) {\n    var _b = _a.small, small = _b === void 0 ? false : _b, _c = _a.muted, muted = _c === void 0 ? false : _c, value = _a.value;\n    if (value == null) {\n        return React.createElement(\"div\", { className: \"size-rating size-rating-muted\" }, \"\\u00A0\");\n    }\n    var letter;\n    if (lodash_1.inRange(value, 0, 1000)) {\n        letter = 'XS';\n    }\n    else if (lodash_1.inRange(value, 1000, 10000)) {\n        letter = 'S';\n    }\n    else if (lodash_1.inRange(value, 10000, 100000)) {\n        letter = 'M';\n    }\n    else if (lodash_1.inRange(value, 100000, 500000)) {\n        letter = 'L';\n    }\n    else if (value >= 500000) {\n        letter = 'XL';\n    }\n    var className = classNames('size-rating', {\n        'size-rating-small': small,\n        'size-rating-muted': muted,\n    });\n    return (React.createElement(\"div\", { \"aria-hidden\": \"true\", className: className }, letter));\n}\nexports.default = SizeRating;\n//# sourceMappingURL=SizeRating.js.map","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseIteratee = require('./_baseIteratee'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.difference` except that it accepts `iteratee` which\n * is invoked for each element of `array` and `values` to generate the criterion\n * by which they're compared. The order and references of result values are\n * determined by the first array. The iteratee is invoked with one argument:\n * (value).\n *\n * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n * // => [1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n * // => [{ 'x': 2 }]\n */\nvar differenceBy = baseRest(function(array, values) {\n  var iteratee = last(values);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), baseIteratee(iteratee, 2))\n    : [];\n});\n\nmodule.exports = differenceBy;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BackIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M3.6 8.69l4.07 4.13.04.04a.7.7 0 01.12.7.69.69 0 01-.86.4.73.73 0 01-.26-.16L1 8l5.71-5.8.04-.03A.73.73 0 017.13 2l.1-.01c.1.01.2.04.3.09a.7.7 0 01.3.82c-.03.1-.09.19-.16.27L3.61 7.3c3.59-.03 7.18-.14 10.77.01.05 0 .06 0 .1.02a.68.68 0 01.52.61.7.7 0 01-.57.74h-.1z\", style: { fill: fill } })));\n}\nexports.default = BackIcon;\n//# sourceMappingURL=BackIcon.js.map","var baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n}\n\nmodule.exports = uniqWith;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getProjectLinks(projectKey: string): Promise<T.ProjectLink[]> {\n  return getJSON('/api/project_links/search', { projectKey }).then(r => r.links, throwGlobalError);\n}\n\nexport function deleteLink(linkId: string) {\n  return post('/api/project_links/delete', { id: linkId }).catch(throwGlobalError);\n}\n\nexport function createLink(data: {\n  name: string;\n  projectKey: string;\n  url: string;\n}): Promise<T.ProjectLink> {\n  return postJSON('/api/project_links/create', data).then(r => r.link, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport ProjectLinkIcon from 'sonar-ui-common/components/icons/ProjectLinkIcon';\nimport { getLinkName } from '../../../../../../helpers/projectLinks';\nimport isValidUri from '../../../../../utils/isValidUri';\n\ninterface Props {\n  iconOnly?: boolean;\n  link: T.ProjectLink;\n}\n\ninterface State {\n  expanded: boolean;\n}\n\nexport default class MetaLink extends React.PureComponent<Props, State> {\n  state = { expanded: false };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState(({ expanded }) => ({ expanded: !expanded }));\n  };\n\n  handleCollapse = () => {\n    this.setState({ expanded: false });\n  };\n\n  handleSelect = (event: React.MouseEvent<HTMLInputElement>) => {\n    event.currentTarget.select();\n  };\n\n  render() {\n    const { iconOnly, link } = this.props;\n    const linkTitle = getLinkName(link);\n    return (\n      <li>\n        <a\n          className=\"link-with-icon\"\n          href={link.url}\n          onClick={!isValidUri(link.url) ? this.handleClick : undefined}\n          rel=\"nofollow noreferrer noopener\"\n          target=\"_blank\"\n          title={linkTitle}>\n          <ProjectLinkIcon className=\"little-spacer-right\" type={link.type} />\n          {!iconOnly && linkTitle}\n        </a>\n        {this.state.expanded && (\n          <div className=\"little-spacer-top display-flex-center\">\n            <input\n              className=\"overview-key width-80\"\n              onClick={this.handleSelect}\n              readOnly={true}\n              type=\"text\"\n              value={link.url}\n            />\n            <ClearButton className=\"little-spacer-left\" onClick={this.handleCollapse} />\n          </div>\n        )}\n      </li>\n    );\n  }\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./SizeRating.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".size-rating{display:inline-block;vertical-align:top;width:24px;height:24px;line-height:24px;border-radius:24px;background-color:#4b9fd5;color:#fff;font-size:12px;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.size-rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:10px}.size-rating-muted{background-color:#bdbdbd}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getNotifications(): Promise<{\n  channels: string[];\n  globalTypes: string[];\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n}> {\n  return getJSON('/api/notifications/list').catch(throwGlobalError);\n}\n\nexport function addNotification(data: { channel: string; type: string; project?: string }) {\n  return post('/api/notifications/add', data).catch(throwGlobalError);\n}\n\nexport function removeNotification(data: { channel: string; type: string; project?: string }) {\n  return post('/api/notifications/remove', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniqWith } from 'lodash';\nimport * as React from 'react';\nimport { addNotification, getNotifications, removeNotification } from '../../api/notifications';\nimport { getWrappedDisplayName } from './utils';\n\ninterface State {\n  channels: string[];\n  globalTypes: string[];\n  loading: boolean;\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n}\n\nexport interface WithNotificationsProps {\n  addNotification: (added: T.Notification) => void;\n  channels: string[];\n  globalTypes: string[];\n  loading: boolean;\n  notifications: T.Notification[];\n  perProjectTypes: string[];\n  removeNotification: (removed: T.Notification) => void;\n}\n\nexport function withNotifications<P>(\n  WrappedComponent: React.ComponentType<P & WithNotificationsProps>\n) {\n  class Wrapper extends React.Component<P, State> {\n    mounted = false;\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withNotifications');\n\n    state: State = {\n      channels: [],\n      globalTypes: [],\n      loading: true,\n      notifications: [],\n      perProjectTypes: []\n    };\n\n    componentDidMount() {\n      this.mounted = true;\n      this.fetchNotifications();\n    }\n\n    componentWillUnmount() {\n      this.mounted = false;\n    }\n\n    fetchNotifications = () => {\n      getNotifications().then(\n        response => {\n          if (this.mounted) {\n            this.setState({\n              channels: response.channels,\n              globalTypes: response.globalTypes,\n              loading: false,\n              notifications: response.notifications,\n              perProjectTypes: response.perProjectTypes\n            });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ loading: false });\n          }\n        }\n      );\n    };\n\n    addNotificationToState = (added: T.Notification) => {\n      this.setState(state => {\n        const notifications = uniqWith([...state.notifications, added], this.areNotificationsEqual);\n        return { notifications };\n      });\n    };\n\n    removeNotificationFromState = (removed: T.Notification) => {\n      this.setState(state => {\n        const notifications = state.notifications.filter(\n          notification => !this.areNotificationsEqual(notification, removed)\n        );\n        return { notifications };\n      });\n    };\n\n    addNotification = (added: T.Notification) => {\n      // optimistic update\n      this.addNotificationToState(added);\n\n      // recreate `data` to omit `projectName` and `organization` from `Notification`\n      const data = { channel: added.channel, project: added.project, type: added.type };\n      addNotification(data).catch(() => {\n        this.removeNotificationFromState(added);\n      });\n    };\n\n    removeNotification = (removed: T.Notification) => {\n      // optimistic update\n      this.removeNotificationFromState(removed);\n\n      // recreate `data` to omit `projectName` and `organization` from `Notification`\n      const data = { channel: removed.channel, project: removed.project, type: removed.type };\n      removeNotification(data).catch(() => {\n        this.addNotificationToState(removed);\n      });\n    };\n\n    areNotificationsEqual = (a: T.Notification, b: T.Notification) => {\n      return a.channel === b.channel && a.type === b.type && a.project === b.project;\n    };\n\n    render() {\n      const { channels, globalTypes, loading, notifications, perProjectTypes } = this.state;\n      return (\n        <WrappedComponent\n          {...this.props}\n          addNotification={this.addNotification}\n          channels={channels}\n          globalTypes={globalTypes}\n          loading={loading}\n          notifications={notifications}\n          perProjectTypes={perProjectTypes}\n          removeNotification={this.removeNotification}\n        />\n      );\n    }\n  }\n\n  return Wrapper;\n}\n","var api = require(\"!../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./BranchLikeNavigation.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".branch-like-navigation-toggler-container .popup{min-width:430px;max-width:650px}.branch-like-navigation-menu .search-box-container{padding:8px}.branch-like-navigation-menu .search-box-container .search-box,.branch-like-navigation-menu .search-box-container .search-box-input{max-width:none!important}.branch-like-navigation-menu .item-list{padding-bottom:8px;max-height:300px;overflow-y:auto}.branch-like-navigation-menu .item{padding:4px 8px}.branch-like-navigation-menu .item.header{color:#777}.branch-like-navigation-menu .item:not(.header).active,.branch-like-navigation-menu .item:not(.header):hover{background-color:#f3f3f3;cursor:pointer}.branch-like-navigation-menu .hint-container{padding:8px;background-color:#f3f3f3;border-top:1px solid #e6e6e6}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export default \"**Get the most out of SonarQube with branches analysis**\\n\\nAnalyze each branch of your project separately with the Developer Edition.\\n\\n---\\n\\n[Learn More](https://redirect.sonarsource.com/editions/developer.html)\\n\"","export default \"**Learn how to analyze branches in {instance}**\\n\\nQuickly setup branch analysis and get separate insights for each of your branches and pull requests.\\n\\n---\\n\\n[Branches Documentation](/branches/overview/)  \\n[Pull Request Analysis](/analysis/pull-request/)\\n\"","var api = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./HeaderMeta.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".header-meta-warnings .alert{margin-bottom:0}.header-meta-warnings .alert-content{padding:6px 8px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Menu.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-tabs>li>a.menu-button{color:#236a97}.navbar-tabs>li>a.menu-button:hover{color:#4b9fd5;border-bottom-color:transparent}.navbar-tabs>li>a.disabled-link,.navbar-tabs>li>a.disabled-link:hover{color:#b4b4b4;cursor:default;border-bottom-color:transparent}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./InfoDrawer.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".navbar-inner-with-notif .info-drawer{border-top:1px solid #e6e6e6}.info-drawer-pane{background-color:#fff;right:-380px;width:380px;transition:right .3s ease-in-out;border-left:1px solid #e6e6e6;box-sizing:border-box}.info-drawer-pane.open{right:0}.info-drawer{position:fixed;bottom:0;z-index:51}.info-drawer .close-button{position:absolute;top:0;right:0;background:#fff;padding:16px;z-index:2}.info-drawer .back-button{cursor:pointer}.info-drawer .back-button:hover{color:#4b9fd5}.info-drawer-page{position:absolute;top:0;bottom:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".badges-list{display:flex;justify-content:space-around;justify-content:space-evenly;flex-wrap:nowrap}.button.badge-button{display:flex;justify-content:center;padding:8px;min-width:146px;height:116px;background-color:#f3f3f3;border:1px solid #e6e6e6;border-radius:3px;transition:all .3s ease}.button.badge-button:active,.button.badge-button:focus,.button.badge-button:hover{background-color:#f3f3f3;border-color:#4b9fd5;box-shadow:none}.button.badge-button.selected{background-color:#cae3f2;border-color:#236a97}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ProjectInformation.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".project-info-list>li{padding-left:1px;padding-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.project-info-tags{position:relative}.project-info-deleted-profile,.project-info-deprecated-rules{margin:4px -6px;padding:3px 6px!important;border:1px solid #f4b1b0;border-radius:3px;background-color:#f2dede}.project-info-deleted-profile a,.project-info-deprecated-rules a{color:#0e516f;border-color:darken(#cae3f2)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport default function ComponentContainerNotFound() {\n  return (\n    <>\n      <Helmet defaultTitle={translate('404_not_found')} defer={false} />\n      <div className=\"page-wrapper-simple\" id=\"bd\">\n        <div className=\"page-simple\" id=\"nonav\">\n          <h2 className=\"big-spacer-bottom\">{translate('dashboard.project_not_found')}</h2>\n          <p className=\"spacer-bottom\">{translate('dashboard.project_not_found.2')}</p>\n          <p>\n            <Link to=\"/\">{translate('go_back_to_homepage')}</Link>\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { isValidLicense } from '../../../../api/marketplace';\nimport { withAppState } from '../../../../components/hoc/withAppState';\nimport { ComponentQualifier } from '../../../../types/component';\n\ninterface Props {\n  appState: Pick<T.AppState, 'canAdmin'>;\n  currentTask?: T.Task;\n}\n\ninterface State {\n  isValidLicense?: boolean;\n  loading: boolean;\n}\n\nexport class ComponentNavLicenseNotif extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIsValidLicense();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchIsValidLicense = () => {\n    this.setState({ loading: true });\n    isValidLicense().then(\n      ({ isValidLicense }) => {\n        if (this.mounted) {\n          this.setState({ isValidLicense, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { currentTask } = this.props;\n    const { isValidLicense, loading } = this.state;\n\n    if (loading || !currentTask || !currentTask.errorType) {\n      return null;\n    }\n\n    if (isValidLicense && currentTask.errorType !== 'LICENSING_LOC') {\n      return (\n        <Alert display=\"banner\" variant=\"error\">\n          {translateWithParameters(\n            'component_navigation.status.last_blocked_due_to_bad_license_X',\n            translate('qualifier', currentTask.componentQualifier || ComponentQualifier.Project)\n          )}\n        </Alert>\n      );\n    }\n\n    return (\n      <Alert display=\"banner\" variant=\"error\">\n        <span className=\"little-spacer-right\">{currentTask.errorMessage}</span>\n        {this.props.appState.canAdmin ? (\n          <Link to=\"/admin/extension/license/app\">\n            {translate('license.component_navigation.button', currentTask.errorType)}.\n          </Link>\n        ) : (\n          translate('please_contact_administrator')\n        )}\n      </Alert>\n    );\n  }\n}\n\nexport default withAppState(ComponentNavLicenseNotif);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport { STATUSES } from '../../../../apps/background-tasks/constants';\nimport { getComponentBackgroundTaskUrl } from '../../../../helpers/urls';\nimport ComponentNavLicenseNotif from './ComponentNavLicenseNotif';\n\ninterface Props {\n  component: T.Component;\n  currentTask?: T.Task;\n  currentTaskOnSameBranch?: boolean;\n  isInProgress?: boolean;\n  isPending?: boolean;\n}\n\nexport default class ComponentNavBgTaskNotif extends React.PureComponent<Props> {\n  renderMessage(messageKey: string, status?: string, branch?: string) {\n    const { component, currentTask } = this.props;\n    const canSeeBackgroundTasks =\n      component.configuration && component.configuration.showBackgroundTasks;\n\n    let type;\n    if (currentTask && hasMessage('background_task.type', currentTask.type)) {\n      messageKey += '_X';\n      type = translate('background_task.type', currentTask.type);\n    }\n\n    let url;\n    if (canSeeBackgroundTasks) {\n      messageKey += '.admin';\n      url = (\n        <Link to={getComponentBackgroundTaskUrl(component.key, status)}>\n          {translate('background_tasks.page')}\n        </Link>\n      );\n    }\n\n    return (\n      <FormattedMessage\n        defaultMessage={translate(messageKey)}\n        id={messageKey}\n        values={{ branch, url, type }}\n      />\n    );\n  }\n\n  render() {\n    const { currentTask, currentTaskOnSameBranch, isInProgress, isPending } = this.props;\n    if (isInProgress) {\n      return (\n        <Alert display=\"banner\" variant=\"info\">\n          {this.renderMessage('component_navigation.status.in_progress')}\n        </Alert>\n      );\n    } else if (isPending) {\n      return (\n        <Alert display=\"banner\" variant=\"info\">\n          {this.renderMessage('component_navigation.status.pending', STATUSES.ALL)}\n        </Alert>\n      );\n    } else if (currentTask && currentTask.status === STATUSES.FAILED) {\n      if (\n        currentTask.errorType &&\n        hasMessage('license.component_navigation.button', currentTask.errorType)\n      ) {\n        return <ComponentNavLicenseNotif currentTask={currentTask} />;\n      }\n      const branch =\n        currentTask.branch ||\n        `${currentTask.pullRequest}${\n          currentTask.pullRequestTitle ? ' - ' + currentTask.pullRequestTitle : ''\n        }`;\n      let message;\n      if (currentTaskOnSameBranch === false && branch) {\n        message = this.renderMessage(\n          'component_navigation.status.failed_branch',\n          undefined,\n          branch\n        );\n      } else {\n        message = this.renderMessage('component_navigation.status.failed');\n      }\n\n      return (\n        <Alert display=\"banner\" variant=\"error\">\n          {message}\n        </Alert>\n      );\n    }\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport PlusCircleIcon from 'sonar-ui-common/components/icons/PlusCircleIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DocTooltip from '../../../../../components/docs/DocTooltip';\nimport BranchLikeIcon from '../../../../../components/icons/BranchLikeIcon';\nimport { getBranchLikeDisplayName } from '../../../../../helpers/branch-like';\nimport { getPortfolioAdminUrl } from '../../../../../helpers/urls';\nimport { BranchLike } from '../../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport { colors } from '../../../../theme';\n\nexport interface CurrentBranchLikeProps {\n  branchesEnabled: boolean;\n  component: T.Component;\n  currentBranchLike: BranchLike;\n  hasManyBranches: boolean;\n}\n\nexport function CurrentBranchLike(props: CurrentBranchLikeProps) {\n  const {\n    branchesEnabled,\n    component,\n    component: { configuration },\n    currentBranchLike,\n    hasManyBranches\n  } = props;\n\n  const displayName = getBranchLikeDisplayName(currentBranchLike);\n  const isApplication = component.qualifier === ComponentQualifier.Application;\n  const canAdminComponent = configuration && configuration.showSettings;\n\n  const additionalIcon = () => {\n    const plusIcon = <PlusCircleIcon fill={colors.blue} size={12} />;\n\n    if (branchesEnabled && hasManyBranches) {\n      return <DropdownIcon />;\n    }\n\n    if (isApplication) {\n      if (!hasManyBranches && canAdminComponent) {\n        return (\n          <HelpTooltip\n            overlay={\n              <>\n                <p>{translate('application.branches.help')}</p>\n                <hr className=\"spacer-top spacer-bottom\" />\n                <Link to={getPortfolioAdminUrl(component.key, component.qualifier)}>\n                  {translate('application.branches.link')}\n                </Link>\n              </>\n            }>\n            {plusIcon}\n          </HelpTooltip>\n        );\n      }\n    } else {\n      if (!branchesEnabled) {\n        return (\n          <DocTooltip\n            data-test=\"branches-support-disabled\"\n            doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/branches/no-branch-support.md')}>\n            {plusIcon}\n          </DocTooltip>\n        );\n      }\n\n      if (!hasManyBranches) {\n        return (\n          <DocTooltip\n            data-test=\"only-one-branch-like\"\n            doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/branches/single-branch.md')}>\n            {plusIcon}\n          </DocTooltip>\n        );\n      }\n    }\n\n    return null;\n  };\n\n  return (\n    <span className=\"display-flex-center flex-shrink text-ellipsis\">\n      <BranchLikeIcon branchLike={currentBranchLike} />\n      <span\n        className=\"spacer-left spacer-right flex-shrink text-ellipsis js-branch-like-name\"\n        title={displayName}>\n        {displayName}\n      </span>\n      {additionalIcon()}\n    </span>\n  );\n}\n\nexport default React.memo(CurrentBranchLike);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport BranchStatus from '../../../../../components/common/BranchStatus';\nimport BranchLikeIcon from '../../../../../components/icons/BranchLikeIcon';\nimport { getBranchLikeDisplayName, isMainBranch } from '../../../../../helpers/branch-like';\nimport { BranchLike } from '../../../../../types/branch-like';\n\nexport interface MenuItemProps {\n  branchLike: BranchLike;\n  component: T.Component;\n  indent?: boolean;\n  onSelect: (branchLike: BranchLike) => void;\n  selected: boolean;\n  setSelectedNode?: (node: HTMLLIElement) => void;\n}\n\nexport function MenuItem(props: MenuItemProps) {\n  const { branchLike, component, indent, setSelectedNode, onSelect, selected } = props;\n  const displayName = getBranchLikeDisplayName(branchLike);\n\n  return (\n    <li\n      className={classNames('item', {\n        active: selected\n      })}\n      onClick={() => onSelect(branchLike)}\n      ref={selected ? setSelectedNode : undefined}>\n      <div\n        className={classNames('display-flex-center display-flex-space-between', {\n          'big-spacer-left': indent\n        })}>\n        <div className=\"item-name text-ellipsis\" title={displayName}>\n          <BranchLikeIcon branchLike={branchLike} />\n          <span className=\"spacer-left\">{displayName}</span>\n          {isMainBranch(branchLike) && (\n            <span className=\"badge spacer-left\">{translate('branches.main_branch')}</span>\n          )}\n        </div>\n        <div className=\"spacer-left\">\n          <BranchStatus branchLike={branchLike} component={component.key} />\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default React.memo(MenuItem);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getBranchLikeKey, isSameBranchLike } from '../../../../../helpers/branch-like';\nimport { BranchLike, BranchLikeTree } from '../../../../../types/branch-like';\nimport MenuItem from './MenuItem';\n\nexport interface MenuItemListProps {\n  branchLikeTree: BranchLikeTree;\n  component: T.Component;\n  hasResults: boolean;\n  onSelect: (branchLike: BranchLike) => void;\n  selectedBranchLike: BranchLike | undefined;\n}\n\nexport function MenuItemList(props: MenuItemListProps) {\n  let listNode: HTMLUListElement | null = null;\n  let selectedNode: HTMLLIElement | null = null;\n\n  React.useEffect(() => {\n    if (listNode && selectedNode) {\n      scrollToElement(selectedNode, { parent: listNode, smooth: false });\n    }\n  });\n\n  const { branchLikeTree, component, hasResults, onSelect, selectedBranchLike } = props;\n\n  const renderItem = (branchLike: BranchLike, indent?: boolean) => (\n    <MenuItem\n      branchLike={branchLike}\n      component={component}\n      indent={indent}\n      key={getBranchLikeKey(branchLike)}\n      onSelect={onSelect}\n      selected={isSameBranchLike(branchLike, selectedBranchLike)}\n      setSelectedNode={node => (selectedNode = node)}\n    />\n  );\n\n  return (\n    <ul className=\"item-list\" ref={node => (listNode = node)}>\n      {!hasResults && (\n        <li className=\"item\">\n          <span className=\"note\">{translate('no_results')}</span>\n        </li>\n      )}\n\n      {/* BRANCHES & PR */}\n      {[branchLikeTree.mainBranchTree, ...branchLikeTree.branchTree].filter(isDefined).map(tree => (\n        <React.Fragment key={getBranchLikeKey(tree.branch)}>\n          {renderItem(tree.branch)}\n          {tree.pullRequests.length > 0 && (\n            <>\n              <li className=\"item header\">\n                <span className=\"big-spacer-left\">\n                  {translate('branch_like_navigation.pull_requests')}\n                </span>\n              </li>\n              {tree.pullRequests.map(pr => renderItem(pr, true))}\n            </>\n          )}\n          <hr />\n        </React.Fragment>\n      ))}\n\n      {/* PARENTLESS PR (for display during search) */}\n      {branchLikeTree.parentlessPullRequests.length > 0 && (\n        <>\n          <li className=\"item header\">{translate('branch_like_navigation.pull_requests')}</li>\n          {branchLikeTree.parentlessPullRequests.map(pr => renderItem(pr))}\n        </>\n      )}\n\n      {/* ORPHAN PR */}\n      {branchLikeTree.orphanPullRequests.length > 0 && (\n        <>\n          <li className=\"item header\">\n            {translate('branch_like_navigation.orphan_pull_requests')}\n            <HelpTooltip\n              className=\"little-spacer-left\"\n              overlay={translate('branch_like_navigation.orphan_pull_requests.tooltip')}\n            />\n          </li>\n          {branchLikeTree.orphanPullRequests.map(pr => renderItem(pr))}\n        </>\n      )}\n    </ul>\n  );\n}\n\nexport default React.memo(MenuItemList);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { KeyCodes } from 'sonar-ui-common/helpers/keycodes';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Router, withRouter } from '../../../../../components/hoc/withRouter';\nimport {\n  getBrancheLikesAsTree,\n  isBranch,\n  isPullRequest,\n  isSameBranchLike\n} from '../../../../../helpers/branch-like';\nimport { getBranchLikeUrl } from '../../../../../helpers/urls';\nimport { BranchLike, BranchLikeTree } from '../../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport MenuItemList from './MenuItemList';\n\ninterface Props {\n  branchLikes: BranchLike[];\n  canAdminComponent?: boolean;\n  component: T.Component;\n  currentBranchLike: BranchLike;\n  onClose: () => void;\n  router: Pick<Router, 'push'>;\n}\n\ninterface State {\n  branchLikesToDisplay: BranchLike[];\n  branchLikesToDisplayTree: BranchLikeTree;\n  query: string;\n  selectedBranchLike: BranchLike | undefined;\n}\n\nexport class Menu extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    let selectedBranchLike = undefined;\n\n    if (props.branchLikes.some(b => isSameBranchLike(b, props.currentBranchLike))) {\n      selectedBranchLike = props.currentBranchLike;\n    } else if (props.branchLikes.length > 0) {\n      selectedBranchLike = props.branchLikes[0];\n    }\n\n    this.state = {\n      query: '',\n      selectedBranchLike,\n      ...this.processBranchLikes(props.branchLikes)\n    };\n  }\n\n  processBranchLikes = (branchLikes: BranchLike[]) => {\n    const tree = getBrancheLikesAsTree(branchLikes);\n    return {\n      branchLikesToDisplay: [\n        ...(tree.mainBranchTree\n          ? [tree.mainBranchTree.branch, ...tree.mainBranchTree.pullRequests]\n          : []),\n        ...tree.branchTree.reduce((prev, t) => [...prev, t.branch, ...t.pullRequests], []),\n        ...tree.parentlessPullRequests,\n        ...tree.orphanPullRequests\n      ],\n      branchLikesToDisplayTree: tree\n    };\n  };\n\n  openHighlightedBranchLike = () => {\n    if (this.state.selectedBranchLike) {\n      this.handleOnSelect(this.state.selectedBranchLike);\n    }\n  };\n\n  highlightSiblingBranchlike = (indexDelta: number) => {\n    const selectBranchLikeIndex = this.state.branchLikesToDisplay.findIndex(b =>\n      isSameBranchLike(b, this.state.selectedBranchLike)\n    );\n    const newIndex = selectBranchLikeIndex + indexDelta;\n\n    if (\n      selectBranchLikeIndex !== -1 &&\n      newIndex >= 0 &&\n      newIndex < this.state.branchLikesToDisplay.length\n    ) {\n      this.setState(({ branchLikesToDisplay }) => ({\n        selectedBranchLike: branchLikesToDisplay[newIndex]\n      }));\n    }\n  };\n\n  handleKeyDown = (event: React.KeyboardEvent) => {\n    switch (event.keyCode) {\n      case KeyCodes.Enter:\n        event.preventDefault();\n        this.openHighlightedBranchLike();\n        break;\n      case KeyCodes.UpArrow:\n        event.preventDefault();\n        this.highlightSiblingBranchlike(-1);\n        break;\n      case KeyCodes.DownArrow:\n        event.preventDefault();\n        this.highlightSiblingBranchlike(+1);\n        break;\n    }\n  };\n\n  handleSearchChange = (query: string) => {\n    const q = query.toLowerCase();\n\n    const filterBranch = (branch: BranchLike) =>\n      isBranch(branch) && branch.name.toLowerCase().includes(q);\n    const filterPullRequest = (pr: BranchLike) =>\n      isPullRequest(pr) && (pr.title.toLowerCase().includes(q) || pr.key.toLowerCase().includes(q));\n\n    const filteredBranchLikes = this.props.branchLikes.filter(\n      bl => filterBranch(bl) || filterPullRequest(bl)\n    );\n\n    this.setState({\n      query: q,\n      selectedBranchLike: filteredBranchLikes.length > 0 ? filteredBranchLikes[0] : undefined,\n      ...this.processBranchLikes(filteredBranchLikes)\n    });\n  };\n\n  handleOnSelect = (branchLike: BranchLike) => {\n    this.setState({ selectedBranchLike: branchLike }, () => {\n      this.props.onClose();\n      this.props.router.push(getBranchLikeUrl(this.props.component.key, branchLike));\n    });\n  };\n\n  render() {\n    const { canAdminComponent, component, onClose } = this.props;\n    const {\n      branchLikesToDisplay,\n      branchLikesToDisplayTree,\n      query,\n      selectedBranchLike\n    } = this.state;\n\n    const showManageLink = component.qualifier === ComponentQualifier.Project && canAdminComponent;\n    const hasResults = branchLikesToDisplay.length > 0;\n\n    return (\n      <DropdownOverlay className=\"branch-like-navigation-menu\" noPadding={true}>\n        <div className=\"search-box-container\">\n          <SearchBox\n            autoFocus={true}\n            onChange={this.handleSearchChange}\n            onKeyDown={this.handleKeyDown}\n            placeholder={translate('branch_like_navigation.search_for_branch_like')}\n            value={query}\n          />\n        </div>\n\n        <div className=\"item-list-container\">\n          <MenuItemList\n            branchLikeTree={branchLikesToDisplayTree}\n            component={component}\n            hasResults={hasResults}\n            onSelect={this.handleOnSelect}\n            selectedBranchLike={selectedBranchLike}\n          />\n        </div>\n\n        {showManageLink && (\n          <div className=\"hint-container text-right\">\n            <Link\n              onClick={() => onClose()}\n              to={{ pathname: '/project/branches', query: { id: component.key } }}>\n              {translate('branch_like_navigation.manage')}\n            </Link>\n          </div>\n        )}\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withRouter(Menu);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { withAppState } from '../../../../../components/hoc/withAppState';\nimport { BranchLike } from '../../../../../types/branch-like';\nimport './BranchLikeNavigation.css';\nimport CurrentBranchLike from './CurrentBranchLike';\nimport Menu from './Menu';\n\nexport interface BranchLikeNavigationProps {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLikes: BranchLike[];\n  component: T.Component;\n  currentBranchLike: BranchLike;\n}\n\nexport function BranchLikeNavigation(props: BranchLikeNavigationProps) {\n  const {\n    appState: { branchesEnabled },\n    branchLikes,\n    component,\n    component: { configuration },\n    currentBranchLike\n  } = props;\n\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n\n  const canAdminComponent = configuration && configuration.showSettings;\n  const hasManyBranches = branchLikes.length >= 2;\n  const isMenuEnabled = branchesEnabled && hasManyBranches;\n\n  const currentBranchLikeElement = (\n    <CurrentBranchLike\n      branchesEnabled={Boolean(branchesEnabled)}\n      component={component}\n      currentBranchLike={currentBranchLike}\n      hasManyBranches={hasManyBranches}\n    />\n  );\n\n  return (\n    <span\n      className={classNames('big-spacer-left flex-0 branch-like-navigation-toggler-container', {\n        dropdown: isMenuEnabled\n      })}>\n      {isMenuEnabled ? (\n        <Toggler\n          onRequestClose={() => setIsMenuOpen(false)}\n          open={isMenuOpen}\n          overlay={\n            <Menu\n              branchLikes={branchLikes}\n              canAdminComponent={canAdminComponent}\n              component={component}\n              currentBranchLike={currentBranchLike}\n              onClose={() => setIsMenuOpen(false)}\n            />\n          }>\n          <a\n            className=\"link-base-color link-no-underline\"\n            href=\"#\"\n            onClick={() => setIsMenuOpen(!isMenuOpen)}>\n            {currentBranchLikeElement}\n          </a>\n        </Toggler>\n      ) : (\n        currentBranchLikeElement\n      )}\n    </span>\n  );\n}\n\nexport default withAppState(React.memo(BranchLikeNavigation));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isPullRequest } from '../../../../../helpers/branch-like';\nimport { BranchLike } from '../../../../../types/branch-like';\n\nexport interface CurrentBranchLikeMergeInformationProps {\n  currentBranchLike: BranchLike;\n}\n\nexport function CurrentBranchLikeMergeInformation(props: CurrentBranchLikeMergeInformationProps) {\n  const { currentBranchLike } = props;\n\n  if (!isPullRequest(currentBranchLike)) {\n    return null;\n  }\n\n  return (\n    <span className=\"big-spacer-left flex-shrink note text-ellipsis\">\n      <FormattedMessage\n        defaultMessage={translate('branch_like_navigation.for_merge_into_x_from_y')}\n        id=\"branch_like_navigation.for_merge_into_x_from_y\"\n        values={{\n          target: <strong>{currentBranchLike.target}</strong>,\n          branch: <strong>{currentBranchLike.branch}</strong>\n        }}\n      />\n    </span>\n  );\n}\n\nexport default React.memo(CurrentBranchLikeMergeInformation);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { last } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { isMainBranch } from '../../../../helpers/branch-like';\nimport { getComponentOverviewUrl } from '../../../../helpers/urls';\nimport { BranchLike } from '../../../../types/branch-like';\n\ninterface Props {\n  component: T.Component;\n  currentBranchLike: BranchLike | undefined;\n}\n\nexport function Breadcrumb(props: Props) {\n  const {\n    component: { breadcrumbs },\n    currentBranchLike\n  } = props;\n  const lastBreadcrumbElement = last(breadcrumbs);\n  const isNoMainBranch = currentBranchLike && !isMainBranch(currentBranchLike);\n\n  return (\n    <div className=\"big flex-shrink display-flex-center\">\n      {breadcrumbs.map((breadcrumbElement, i) => {\n        const isFirst = i === 0;\n        const isNotLast = i < breadcrumbs.length - 1;\n\n        return (\n          <span className=\"flex-shrink display-flex-center\" key={breadcrumbElement.key}>\n            {isFirst && lastBreadcrumbElement && (\n              <QualifierIcon className=\"spacer-right\" qualifier={lastBreadcrumbElement.qualifier} />\n            )}\n            {isNoMainBranch || isNotLast ? (\n              <Link\n                className=\"link-no-underline text-ellipsis\"\n                title={breadcrumbElement.name}\n                to={getComponentOverviewUrl(breadcrumbElement.key, breadcrumbElement.qualifier)}>\n                {breadcrumbElement.name}\n              </Link>\n            ) : (\n              <span className=\"text-ellipsis\" title={breadcrumbElement.name}>\n                {breadcrumbElement.name}\n              </span>\n            )}\n            {isNotLast && <span className=\"slash-separator\" />}\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default React.memo(Breadcrumb);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport Favorite from '../../../../components/controls/Favorite';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { getCurrentUser, Store } from '../../../../store/rootReducer';\nimport { BranchLike } from '../../../../types/branch-like';\nimport BranchLikeNavigation from './branch-like/BranchLikeNavigation';\nimport CurrentBranchLikeMergeInformation from './branch-like/CurrentBranchLikeMergeInformation';\nimport { Breadcrumb } from './Breadcrumb';\n\nexport interface HeaderProps {\n  branchLikes: BranchLike[];\n  component: T.Component;\n  currentBranchLike: BranchLike | undefined;\n  currentUser: T.CurrentUser;\n}\n\nexport function Header(props: HeaderProps) {\n  const { branchLikes, component, currentBranchLike, currentUser } = props;\n\n  return (\n    <>\n      <Helmet title={component.name} />\n      <header className=\"display-flex-center flex-shrink\">\n        <Breadcrumb component={component} currentBranchLike={currentBranchLike} />\n        {isLoggedIn(currentUser) && (\n          <Favorite\n            className=\"spacer-left\"\n            component={component.key}\n            favorite={Boolean(component.isFavorite)}\n            qualifier={component.qualifier}\n          />\n        )}\n        {currentBranchLike && (\n          <>\n            <BranchLikeNavigation\n              branchLikes={branchLikes}\n              component={component}\n              currentBranchLike={currentBranchLike}\n            />\n            <CurrentBranchLikeMergeInformation currentBranchLike={currentBranchLike} />\n          </>\n        )}\n      </header>\n    </>\n  );\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(React.memo(Header));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nconst AnalysisWarningsModal = lazyLoadComponent(\n  () => import('../../../../components/common/AnalysisWarningsModal'),\n  'AnalysisWarningsModal'\n);\n\ninterface Props {\n  warnings: string[];\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ComponentNavWarnings extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <Alert className=\"js-component-analysis-warnings flex-1\" display=\"inline\" variant=\"warning\">\n          <FormattedMessage\n            defaultMessage={translate('component_navigation.last_analysis_had_warnings')}\n            id=\"component_navigation.last_analysis_had_warnings\"\n            values={{\n              warnings: (\n                <a href=\"#\" onClick={this.handleClick}>\n                  <FormattedMessage\n                    defaultMessage={translate('component_navigation.x_warnings')}\n                    id=\"component_navigation.x_warnings\"\n                    values={{\n                      warningsCount: this.props.warnings.length\n                    }}\n                  />\n                </a>\n              )\n            }}\n          />\n        </Alert>\n        {this.state.modal && (\n          <AnalysisWarningsModal onClose={this.handleCloseModal} warnings={this.props.warnings} />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport DetachIcon from 'sonar-ui-common/components/icons/DetachIcon';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport BranchStatus from '../../../../components/common/BranchStatus';\nimport HomePageSelect from '../../../../components/controls/HomePageSelect';\nimport { isBranch, isPullRequest } from '../../../../helpers/branch-like';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { getCurrentUser, Store } from '../../../../store/rootReducer';\nimport { BranchLike } from '../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../types/component';\nimport ComponentNavWarnings from './ComponentNavWarnings';\nimport './HeaderMeta.css';\n\nexport interface HeaderMetaProps {\n  branchLike?: BranchLike;\n  currentUser: T.CurrentUser;\n  component: T.Component;\n  warnings: string[];\n}\n\nexport function HeaderMeta(props: HeaderMetaProps) {\n  const { branchLike, component, currentUser, warnings } = props;\n\n  const isABranch = isBranch(branchLike);\n  const currentPage = getCurrentPage(component, branchLike);\n  const displayVersion = component.version !== undefined && isABranch;\n\n  return (\n    <>\n      <div className=\"display-flex-center flex-0 small\">\n        {warnings.length > 0 && (\n          <span className=\"header-meta-warnings\">\n            <ComponentNavWarnings warnings={warnings} />\n          </span>\n        )}\n        {component.analysisDate && (\n          <span className=\"spacer-left nowrap note\">\n            <DateTimeFormatter date={component.analysisDate} />\n          </span>\n        )}\n        {displayVersion && (\n          <span className=\"spacer-left nowrap note\">{`${translate('version')} ${\n            component.version\n          }`}</span>\n        )}\n        {isLoggedIn(currentUser) && currentPage !== undefined && !isPullRequest(branchLike) && (\n          <HomePageSelect className=\"spacer-left\" currentPage={currentPage} />\n        )}\n      </div>\n      {isPullRequest(branchLike) && (\n        <div className=\"navbar-context-meta-secondary display-inline-flex-center\">\n          {branchLike.url !== undefined && (\n            <a\n              className=\"display-inline-flex-center big-spacer-right\"\n              href={branchLike.url}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('branches.see_the_pr')}\n              <DetachIcon className=\"little-spacer-left\" size={12} />\n            </a>\n          )}\n          <BranchStatus branchLike={branchLike} component={component.key} />\n        </div>\n      )}\n    </>\n  );\n}\n\nexport function getCurrentPage(component: T.Component, branchLike: BranchLike | undefined) {\n  let currentPage: T.HomePage | undefined;\n\n  const branch = isBranch(branchLike) && !branchLike.isMain ? branchLike.name : undefined;\n\n  switch (component.qualifier) {\n    case ComponentQualifier.Portfolio:\n    case ComponentQualifier.SubPortfolio:\n      currentPage = { type: 'PORTFOLIO', component: component.key };\n      break;\n    case ComponentQualifier.Application:\n      currentPage = {\n        type: 'APPLICATION',\n        component: component.key,\n        branch\n      };\n      break;\n    case ComponentQualifier.Project:\n      // when home page is set to the default branch of a project, its name is returned as `undefined`\n      currentPage = {\n        type: 'PROJECT',\n        component: component.key,\n        branch\n      };\n      break;\n  }\n\n  return currentPage;\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(HeaderMeta);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link, LinkProps } from 'react-router';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport BulletListIcon from 'sonar-ui-common/components/icons/BulletListIcon';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport NavBarTabs from 'sonar-ui-common/components/ui/NavBarTabs';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport { withAppState } from '../../../../components/hoc/withAppState';\nimport { getBranchLikeQuery, isPullRequest } from '../../../../helpers/branch-like';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { getPortfolioUrl, getProjectQueryUrl } from '../../../../helpers/urls';\nimport { BranchLike, BranchParameters } from '../../../../types/branch-like';\nimport { ComponentQualifier, isPortfolioLike } from '../../../../types/component';\nimport './Menu.css';\n\nconst SETTINGS_URLS = [\n  '/project/admin',\n  '/project/baseline',\n  '/project/branches',\n  '/project/settings',\n  '/project/quality_profiles',\n  '/project/quality_gate',\n  '/custom_measures',\n  '/project/links',\n  '/project_roles',\n  '/project/history',\n  'background_tasks',\n  '/project/key',\n  '/project/deletion',\n  '/project/webhooks'\n];\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLike: BranchLike | undefined;\n  branchLikes: BranchLike[] | undefined;\n  component: T.Component;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  onToggleProjectInfo: () => void;\n}\n\ntype Query = BranchParameters & { id: string };\n\nfunction MenuLink({\n  hasAnalysis,\n  label,\n  ...props\n}: LinkProps & { hasAnalysis: boolean; label: React.ReactNode }) {\n  return hasAnalysis ? (\n    <Link {...props}>{label}</Link>\n  ) : (\n    <Tooltip overlay={translate('layout.must_be_configured')}>\n      <a aria-disabled=\"true\" className=\"disabled-link\">\n        {label}\n      </a>\n    </Tooltip>\n  );\n}\n\nexport class Menu extends React.PureComponent<Props> {\n  hasAnalysis = () => {\n    const { branchLikes = [], component, isInProgress, isPending } = this.props;\n    const hasBranches = branchLikes.length > 1;\n    return hasBranches || isInProgress || isPending || component.analysisDate !== undefined;\n  };\n\n  isProject = () => {\n    return this.props.component.qualifier === ComponentQualifier.Project;\n  };\n\n  isDeveloper = () => {\n    return this.props.component.qualifier === ComponentQualifier.Developper;\n  };\n\n  isPortfolio = () => {\n    const { qualifier } = this.props.component;\n    return isPortfolioLike(qualifier);\n  };\n\n  isApplication = () => {\n    return this.props.component.qualifier === ComponentQualifier.Application;\n  };\n\n  getConfiguration = () => {\n    return this.props.component.configuration || {};\n  };\n\n  getQuery = (): Query => {\n    return { id: this.props.component.key, ...getBranchLikeQuery(this.props.branchLike) };\n  };\n\n  renderDashboardLink = ({ id, ...branchLike }: Query, isPortfolio: boolean) => {\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={isPortfolio ? getPortfolioUrl(id) : getProjectQueryUrl(id, branchLike)}>\n          {translate('overview.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderCodeLink = (\n    hasAnalysis: boolean,\n    query: Query,\n    isApplication: boolean,\n    isPortfolio: boolean\n  ) => {\n    if (this.isDeveloper()) {\n      return null;\n    }\n\n    return (\n      <li>\n        <MenuLink\n          activeClassName=\"active\"\n          hasAnalysis={hasAnalysis}\n          label={\n            isPortfolio || isApplication ? translate('view_projects.page') : translate('code.page')\n          }\n          to={{ pathname: '/code', query }}\n        />\n      </li>\n    );\n  };\n\n  renderActivityLink = (hasAnalysis: boolean, query: Query) => {\n    const { branchLike } = this.props;\n\n    if (isPullRequest(branchLike)) {\n      return null;\n    }\n\n    return (\n      <li>\n        <MenuLink\n          activeClassName=\"active\"\n          hasAnalysis={hasAnalysis}\n          label={translate('project_activity.page')}\n          to={{ pathname: '/project/activity', query }}\n        />\n      </li>\n    );\n  };\n\n  renderIssuesLink = (hasAnalysis: boolean, query: Query) => {\n    return (\n      <li>\n        <MenuLink\n          activeClassName=\"active\"\n          hasAnalysis={hasAnalysis}\n          label={translate('issues.page')}\n          to={{ pathname: '/project/issues', query: { ...query, resolved: 'false' } }}\n        />\n      </li>\n    );\n  };\n\n  renderComponentMeasuresLink = (hasAnalysis: boolean, query: Query) => {\n    return (\n      <li>\n        <MenuLink\n          activeClassName=\"active\"\n          hasAnalysis={hasAnalysis}\n          label={translate('layout.measures')}\n          to={{ pathname: '/component_measures', query }}\n        />\n      </li>\n    );\n  };\n\n  renderSecurityHotspotsLink = (hasAnalysis: boolean, query: Query, isPortfolio: boolean) => {\n    return (\n      !isPortfolio && (\n        <li>\n          <MenuLink\n            activeClassName=\"active\"\n            hasAnalysis={hasAnalysis}\n            label={translate('layout.security_hotspots')}\n            to={{ pathname: '/security_hotspots', query }}\n          />\n        </li>\n      )\n    );\n  };\n\n  renderSecurityReports = (hasAnalysis: boolean, query: Query) => {\n    const { branchLike, component } = this.props;\n    const { extensions = [] } = component;\n\n    if (isPullRequest(branchLike)) {\n      return null;\n    }\n\n    const hasSecurityReportsEnabled = extensions.some(extension =>\n      extension.key.startsWith('securityreport/')\n    );\n\n    if (!hasSecurityReportsEnabled) {\n      return null;\n    }\n\n    return (\n      <li>\n        <MenuLink\n          activeClassName=\"active\"\n          hasAnalysis={hasAnalysis}\n          label={translate('layout.security_reports')}\n          to={{\n            pathname: '/project/extension/securityreport/securityreport',\n            query\n          }}\n        />\n      </li>\n    );\n  };\n\n  renderAdministration = (\n    query: Query,\n    isProject: boolean,\n    isApplication: boolean,\n    isPortfolio: boolean\n  ) => {\n    const { branchLike, component } = this.props;\n\n    if (!this.getConfiguration().showSettings || isPullRequest(branchLike)) {\n      return null;\n    }\n\n    const isSettingsActive = SETTINGS_URLS.some(url => window.location.href.indexOf(url) !== -1);\n\n    const adminLinks = this.renderAdministrationLinks(query, isProject, isApplication, isPortfolio);\n    if (!adminLinks.some(link => link != null)) {\n      return null;\n    }\n\n    return (\n      <Dropdown\n        data-test=\"administration\"\n        overlay={<ul className=\"menu\">{adminLinks}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: isSettingsActive || open })}\n            href=\"#\"\n            id=\"component-navigation-admin\"\n            onClick={onToggleClick}>\n            {hasMessage('layout.settings', component.qualifier)\n              ? translate('layout.settings', component.qualifier)\n              : translate('layout.settings')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  };\n\n  renderAdministrationLinks = (\n    query: Query,\n    isProject: boolean,\n    isApplication: boolean,\n    isPortfolio: boolean\n  ) => {\n    return [\n      this.renderSettingsLink(query, isApplication, isPortfolio),\n      this.renderBranchesLink(query, isProject),\n      this.renderBaselineLink(query, isApplication, isPortfolio),\n      this.renderProfilesLink(query),\n      this.renderQualityGateLink(query),\n      this.renderCustomMeasuresLink(query),\n      this.renderLinksLink(query),\n      this.renderPermissionsLink(query),\n      this.renderBackgroundTasksLink(query),\n      this.renderUpdateKeyLink(query),\n      this.renderWebhooksLink(query, isProject),\n      ...this.renderAdminExtensions(query),\n      this.renderDeletionLink(query)\n    ];\n  };\n\n  renderProjectInformationButton = (isProject: boolean, isApplication: boolean) => {\n    if (isPullRequest(this.props.branchLike)) {\n      return null;\n    }\n\n    return (\n      (isProject || isApplication) && (\n        <li>\n          <a\n            className=\"menu-button\"\n            onClick={(e: React.SyntheticEvent<HTMLAnchorElement>) => {\n              e.preventDefault();\n              e.currentTarget.blur();\n              this.props.onToggleProjectInfo();\n            }}\n            role=\"button\"\n            tabIndex={0}>\n            <BulletListIcon className=\"little-spacer-right\" />\n            {translate(isProject ? 'project' : 'application', 'info.title')}\n          </a>\n        </li>\n      )\n    );\n  };\n\n  renderSettingsLink = (query: Query, isApplication: boolean, isPortfolio: boolean) => {\n    if (!this.getConfiguration().showSettings || isApplication || isPortfolio) {\n      return null;\n    }\n    return (\n      <li key=\"settings\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/settings', query }}>\n          {translate('project_settings.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderBranchesLink = (query: Query, isProject: boolean) => {\n    if (\n      !this.props.appState.branchesEnabled ||\n      !isProject ||\n      !this.getConfiguration().showSettings\n    ) {\n      return null;\n    }\n\n    return (\n      <li key=\"branches\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/branches', query }}>\n          {translate('project_branch_pull_request.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderBaselineLink = (query: Query, isApplication: boolean, isPortfolio: boolean) => {\n    if (!this.getConfiguration().showSettings || isApplication || isPortfolio) {\n      return null;\n    }\n    return (\n      <li key=\"baseline\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/baseline', query }}>\n          {translate('project_baseline.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderProfilesLink = (query: Query) => {\n    if (!this.getConfiguration().showQualityProfiles) {\n      return null;\n    }\n    return (\n      <li key=\"profiles\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/quality_profiles', query }}>\n          {translate('project_quality_profiles.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderQualityGateLink = (query: Query) => {\n    if (!this.getConfiguration().showQualityGates) {\n      return null;\n    }\n    return (\n      <li key=\"quality_gate\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/quality_gate', query }}>\n          {translate('project_quality_gate.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderCustomMeasuresLink = (query: Query) => {\n    if (isSonarCloud() || !this.getConfiguration().showManualMeasures) {\n      return null;\n    }\n    return (\n      <li key=\"custom_measures\">\n        <Link activeClassName=\"active\" to={{ pathname: '/custom_measures', query }}>\n          {translate('custom_measures.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderLinksLink = (query: Query) => {\n    if (!this.getConfiguration().showLinks) {\n      return null;\n    }\n    return (\n      <li key=\"links\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/links', query }}>\n          {translate('project_links.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderPermissionsLink = (query: Query) => {\n    if (!this.getConfiguration().showPermissions) {\n      return null;\n    }\n    return (\n      <li key=\"permissions\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project_roles', query }}>\n          {translate('permissions.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderBackgroundTasksLink = (query: Query) => {\n    if (!this.getConfiguration().showBackgroundTasks) {\n      return null;\n    }\n    return (\n      <li key=\"background_tasks\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/background_tasks', query }}>\n          {translate('background_tasks.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderUpdateKeyLink = (query: Query) => {\n    if (!this.getConfiguration().showUpdateKey) {\n      return null;\n    }\n    return (\n      <li key=\"update_key\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/key', query }}>\n          {translate('update_key.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderWebhooksLink = (query: Query, isProject: boolean) => {\n    if (!this.getConfiguration().showSettings || !isProject) {\n      return null;\n    }\n    return (\n      <li key=\"webhooks\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/webhooks', query }}>\n          {translate('webhooks.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderDeletionLink = (query: Query) => {\n    const { qualifier } = this.props.component;\n\n    if (!this.getConfiguration().showSettings) {\n      return null;\n    }\n\n    if (\n      ![\n        ComponentQualifier.Project,\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.Application\n      ].includes(qualifier as ComponentQualifier)\n    ) {\n      return null;\n    }\n\n    return (\n      <li key=\"project_delete\">\n        <Link activeClassName=\"active\" to={{ pathname: '/project/deletion', query }}>\n          {translate('deletion.page')}\n        </Link>\n      </li>\n    );\n  };\n\n  renderExtension = ({ key, name }: T.Extension, isAdmin: boolean, baseQuery: Query) => {\n    const pathname = isAdmin ? `/project/admin/extension/${key}` : `/project/extension/${key}`;\n    const query = { ...baseQuery, qualifier: this.props.component.qualifier };\n    return (\n      <li key={key}>\n        <Link activeClassName=\"active\" to={{ pathname, query }}>\n          {name}\n        </Link>\n      </li>\n    );\n  };\n\n  renderAdminExtensions = (query: Query) => {\n    const extensions = this.getConfiguration().extensions || [];\n    return extensions.map(e => this.renderExtension(e, true, query));\n  };\n\n  renderExtensions = (query: Query) => {\n    const extensions = this.props.component.extensions || [];\n    const withoutSecurityExtension = extensions.filter(\n      extension => !extension.key.startsWith('securityreport/')\n    );\n\n    if (withoutSecurityExtension.length === 0) {\n      return null;\n    }\n\n    return (\n      <Dropdown\n        data-test=\"extensions\"\n        overlay={\n          <ul className=\"menu\">\n            {withoutSecurityExtension.map(e => this.renderExtension(e, false, query))}\n          </ul>\n        }\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: open })}\n            href=\"#\"\n            id=\"component-navigation-more\"\n            onClick={onToggleClick}>\n            {translate('more')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  };\n\n  render() {\n    const isProject = this.isProject();\n    const isApplication = this.isApplication();\n    const isPortfolio = this.isPortfolio();\n    const hasAnalysis = this.hasAnalysis();\n    const query = this.getQuery();\n    return (\n      <div className=\"display-flex-center display-flex-space-between\">\n        <NavBarTabs>\n          {this.renderDashboardLink(query, isPortfolio)}\n          {this.renderIssuesLink(hasAnalysis, query)}\n          {this.renderSecurityHotspotsLink(hasAnalysis, query, isPortfolio)}\n          {this.renderSecurityReports(hasAnalysis, query)}\n          {this.renderComponentMeasuresLink(hasAnalysis, query)}\n          {this.renderCodeLink(hasAnalysis, query, isApplication, isPortfolio)}\n          {this.renderActivityLink(hasAnalysis, query)}\n          {this.renderExtensions(query)}\n        </NavBarTabs>\n        <NavBarTabs>\n          {this.renderAdministration(query, isProject, isApplication, isPortfolio)}\n          {this.renderProjectInformationButton(isProject, isApplication)}\n        </NavBarTabs>\n      </div>\n    );\n  }\n}\n\nexport default withAppState(Menu);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport EscKeydownHandler from 'sonar-ui-common/components/controls/EscKeydownHandler';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport './InfoDrawer.css';\n\nexport interface InfoDrawerProps {\n  children: React.ReactNode;\n  displayed: boolean;\n  onClose: () => void;\n  top: number;\n}\n\nexport default function InfoDrawer(props: InfoDrawerProps) {\n  const { children, displayed, onClose, top } = props;\n\n  return (\n    <div\n      className={classNames('info-drawer info-drawer-pane', { open: displayed })}\n      style={{ top }}>\n      <div className=\"close-button\">\n        <ClearButton onClick={onClose} />\n      </div>\n      {displayed && (\n        <EscKeydownHandler onKeydown={onClose}>\n          <OutsideClickHandler onClickOutside={onClose}>\n            <div className=\"display-flex-column max-height-100\">{children}</div>\n          </OutsideClickHandler>\n        </EscKeydownHandler>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { stringify } from 'querystring';\nimport { getLocalizedMetricName } from 'sonar-ui-common/helpers/l10n';\nimport { omitNil } from 'sonar-ui-common/helpers/request';\nimport { getHostUrl, getPathUrlAsString } from 'sonar-ui-common/helpers/urls';\nimport { getProjectUrl } from '../../../../../../helpers/urls';\n\nexport type BadgeColors = 'white' | 'black' | 'orange';\nexport type BadgeFormats = 'md' | 'url';\n\nexport interface BadgeOptions {\n  branch?: string;\n  color?: BadgeColors;\n  format?: BadgeFormats;\n  project?: string;\n  metric?: string;\n  pullRequest?: string;\n}\n\nexport enum BadgeType {\n  measure = 'measure',\n  qualityGate = 'quality_gate',\n  marketing = 'marketing'\n}\n\nexport function getBadgeSnippet(type: BadgeType, options: BadgeOptions) {\n  const url = getBadgeUrl(type, options);\n  const { branch, format = 'md', metric = 'alert_status', project } = options;\n\n  if (format === 'url') {\n    return url;\n  } else {\n    let label;\n    let projectUrl;\n\n    switch (type) {\n      case BadgeType.marketing:\n        label = 'SonarCloud';\n        break;\n      case BadgeType.measure:\n        label = getLocalizedMetricName({ key: metric });\n        break;\n      case BadgeType.qualityGate:\n      default:\n        label = 'Quality gate';\n        break;\n    }\n\n    if (project) {\n      projectUrl = getPathUrlAsString(getProjectUrl(project, branch), false);\n    }\n\n    const mdImage = `![${label}](${url})`;\n    return projectUrl ? `[${mdImage}](${projectUrl})` : mdImage;\n  }\n}\n\nexport function getBadgeUrl(\n  type: BadgeType,\n  { branch, project, color = 'white', metric = 'alert_status', pullRequest }: BadgeOptions\n) {\n  switch (type) {\n    case BadgeType.marketing:\n      return `${getHostUrl()}/images/project_badges/sonarcloud-${color}.svg`;\n    case BadgeType.qualityGate:\n      return `${getHostUrl()}/api/project_badges/quality_gate?${stringify(\n        omitNil({ branch, project, pullRequest })\n      )}`;\n    case BadgeType.measure:\n    default:\n      return `${getHostUrl()}/api/project_badges/measure?${stringify(\n        omitNil({ branch, project, metric, pullRequest })\n      )}`;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { BadgeType } from './utils';\n\ninterface Props {\n  onClick: (type: BadgeType) => void;\n  selected: boolean;\n  type: BadgeType;\n  url: string;\n}\n\nexport default class BadgeButton extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.onClick(this.props.type);\n  };\n\n  render() {\n    const { selected, type, url } = this.props;\n    const width = type !== BadgeType.measure ? '128px' : undefined;\n    return (\n      <Button className={classNames('badge-button', { selected })} onClick={this.handleClick}>\n        <img alt={translate('overview.badges', type, 'alt')} src={url} width={width} />\n      </Button>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport { fetchWebApi } from '../../../../../../api/web-api';\nimport { BadgeColors, BadgeFormats, BadgeOptions, BadgeType } from './utils';\n\ninterface Props {\n  className?: string;\n  metrics: T.Dict<T.Metric>;\n  options: BadgeOptions;\n  type: BadgeType;\n  updateOptions: (options: Partial<BadgeOptions>) => void;\n}\n\ninterface State {\n  badgeMetrics: string[];\n}\n\nexport default class BadgeParams extends React.PureComponent<Props> {\n  mounted = false;\n\n  state: State = { badgeMetrics: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchBadgeMetrics();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchBadgeMetrics() {\n    fetchWebApi(false).then(\n      webservices => {\n        if (this.mounted) {\n          const domain = webservices.find(d => d.path === 'api/project_badges');\n          const ws = domain && domain.actions.find(w => w.key === 'measure');\n          const param = ws && ws.params && ws.params.find(p => p.key === 'metric');\n          if (param && param.possibleValues) {\n            this.setState({ badgeMetrics: param.possibleValues });\n          }\n        }\n      },\n      () => {}\n    );\n  }\n\n  getColorOptions = () => {\n    return ['white', 'black', 'orange'].map(color => ({\n      label: translate('overview.badges.options.colors', color),\n      value: color\n    }));\n  };\n\n  getFormatOptions = () => {\n    return ['md', 'url'].map(format => ({\n      label: translate('overview.badges.options.formats', format),\n      value: format\n    }));\n  };\n\n  getMetricOptions = () => {\n    return this.state.badgeMetrics.map(key => {\n      const metric = this.props.metrics[key];\n      return {\n        value: key,\n        label: metric ? getLocalizedMetricName(metric) : key\n      };\n    });\n  };\n\n  handleColorChange = ({ value }: { value: BadgeColors }) => {\n    this.props.updateOptions({ color: value });\n  };\n\n  handleFormatChange = ({ value }: { value: BadgeFormats }) => {\n    this.props.updateOptions({ format: value });\n  };\n\n  handleMetricChange = ({ value }: { value: string }) => {\n    this.props.updateOptions({ metric: value });\n  };\n\n  renderBadgeType = (type: BadgeType, options: BadgeOptions) => {\n    if (type === BadgeType.marketing) {\n      return (\n        <>\n          <label className=\"spacer-right\" htmlFor=\"badge-color\">\n            {translate('color')}:\n          </label>\n          <Select\n            className=\"input-medium\"\n            clearable={false}\n            name=\"badge-color\"\n            onChange={this.handleColorChange}\n            options={this.getColorOptions()}\n            searchable={false}\n            value={options.color}\n          />\n        </>\n      );\n    } else if (type === BadgeType.measure) {\n      return (\n        <>\n          <label className=\"spacer-right\" htmlFor=\"badge-metric\">\n            {translate('overview.badges.metric')}:\n          </label>\n          <Select\n            className=\"input-medium\"\n            clearable={false}\n            menuStyle={{ maxHeight: 100 }}\n            name=\"badge-metric\"\n            onChange={this.handleMetricChange}\n            options={this.getMetricOptions()}\n            searchable={false}\n            value={options.metric}\n          />\n        </>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  render() {\n    const { className, options, type } = this.props;\n    return (\n      <div className={className}>\n        {this.renderBadgeType(type, options)}\n\n        <label\n          className={classNames('spacer-right', {\n            'spacer-top': type !== BadgeType.qualityGate\n          })}\n          htmlFor=\"badge-format\">\n          {translate('format')}:\n        </label>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          name=\"badge-format\"\n          onChange={this.handleFormatChange}\n          options={this.getFormatOptions()}\n          searchable={false}\n          value={this.props.options.format || 'md'}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../../../../../components/common/CodeSnippet';\nimport { getBranchLikeQuery } from '../../../../../../helpers/branch-like';\nimport { BranchLike } from '../../../../../../types/branch-like';\nimport { MetricKey } from '../../../../../../types/metrics';\nimport BadgeButton from './BadgeButton';\nimport BadgeParams from './BadgeParams';\nimport './styles.css';\nimport { BadgeOptions, BadgeType, getBadgeSnippet, getBadgeUrl } from './utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  metrics: T.Dict<T.Metric>;\n  project: string;\n  qualifier: string;\n}\n\ninterface State {\n  selectedType: BadgeType;\n  badgeOptions: BadgeOptions;\n}\n\nexport default class ProjectBadges extends React.PureComponent<Props, State> {\n  state: State = {\n    selectedType: BadgeType.measure,\n    badgeOptions: { color: 'white', metric: MetricKey.alert_status }\n  };\n\n  handleSelectBadge = (selectedType: BadgeType) => {\n    this.setState({ selectedType });\n  };\n\n  handleUpdateOptions = (options: Partial<BadgeOptions>) => {\n    this.setState(state => ({ badgeOptions: { ...state.badgeOptions, ...options } }));\n  };\n\n  render() {\n    const { branchLike, project, qualifier } = this.props;\n    const { selectedType, badgeOptions } = this.state;\n    const fullBadgeOptions = { project, ...badgeOptions, ...getBranchLikeQuery(branchLike) };\n\n    return (\n      <div className=\"display-flex-column\">\n        <h3>{translate('overview.badges.get_badge', qualifier)}</h3>\n        <p className=\"big-spacer-bottom\">{translate('overview.badges.description', qualifier)}</p>\n        <BadgeButton\n          onClick={this.handleSelectBadge}\n          selected={BadgeType.measure === selectedType}\n          type={BadgeType.measure}\n          url={getBadgeUrl(BadgeType.measure, fullBadgeOptions)}\n        />\n        <p className=\"huge-spacer-bottom spacer-top\">\n          {translate('overview.badges', BadgeType.measure, 'description', qualifier)}\n        </p>\n        <BadgeButton\n          onClick={this.handleSelectBadge}\n          selected={BadgeType.qualityGate === selectedType}\n          type={BadgeType.qualityGate}\n          url={getBadgeUrl(BadgeType.qualityGate, fullBadgeOptions)}\n        />\n        <p className=\"huge-spacer-bottom spacer-top\">\n          {translate('overview.badges', BadgeType.qualityGate, 'description', qualifier)}\n        </p>\n        <BadgeParams\n          className=\"big-spacer-bottom display-flex-column\"\n          metrics={this.props.metrics}\n          options={badgeOptions}\n          type={selectedType}\n          updateOptions={this.handleUpdateOptions}\n        />\n        <CodeSnippet isOneLine={true} snippet={getBadgeSnippet(selectedType, fullBadgeOptions)} />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport BackIcon from 'sonar-ui-common/components/icons/BackIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface InfoDrawerPageProps {\n  children: React.ReactNode;\n  displayed: boolean;\n  onPageChange: () => void;\n}\n\nexport default function InfoDrawerPage(props: InfoDrawerPageProps) {\n  const { children, displayed, onPageChange } = props;\n  return (\n    <div\n      className={classNames(\n        'info-drawer-page info-drawer-pane display-flex-column overflow-hidden',\n        {\n          open: displayed\n        }\n      )}>\n      <h2 className=\"back-button big-padded bordered-bottom\" onClick={() => onPageChange()}>\n        <BackIcon className=\"little-spacer-right\" />\n        {translate('back')}\n      </h2>\n\n      {displayed && <div className=\"overflow-y-auto big-padded\">{children}</div>}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport NotificationsList from '../../../../../../apps/account/notifications/NotificationsList';\nimport {\n  withNotifications,\n  WithNotificationsProps\n} from '../../../../../../components/hoc/withNotifications';\n\ninterface Props {\n  className?: string;\n  component: T.Component;\n}\n\nexport function ProjectNotifications(props: WithNotificationsProps & Props) {\n  const { channels, component, loading, notifications, perProjectTypes } = props;\n\n  const handleAddNotification = ({ channel, type }: { channel: string; type: string }) => {\n    props.addNotification({ project: component.key, channel, type });\n  };\n\n  const handleRemoveNotification = ({ channel, type }: { channel: string; type: string }) => {\n    props.removeNotification({\n      project: component.key,\n      channel,\n      type\n    });\n  };\n\n  const getCheckboxId = (type: string, channel: string) => {\n    return `project-notification-${component.key}-${type}-${channel}`;\n  };\n\n  const projectNotifications = notifications.filter(n => n.project && n.project === component.key);\n\n  return (\n    <>\n      <h3>{translate('project.info.notifications')}</h3>\n\n      <Alert className=\"spacer-top\" variant=\"info\">\n        {translate('notification.dispatcher.information')}\n      </Alert>\n\n      <DeferredSpinner loading={loading}>\n        <table className=\"data zebra notifications-table\">\n          <thead>\n            <tr>\n              <th aria-label={translate('project')} />\n              {channels.map(channel => (\n                <th className=\"text-center\" key={channel}>\n                  <h4>{translate('notification.channel', channel)}</h4>\n                </th>\n              ))}\n            </tr>\n          </thead>\n\n          <NotificationsList\n            channels={channels}\n            checkboxId={getCheckboxId}\n            notifications={projectNotifications}\n            onAdd={handleAddNotification}\n            onRemove={handleRemoveNotification}\n            project={true}\n            types={perProjectTypes}\n          />\n        </table>\n      </DeferredSpinner>\n    </>\n  );\n}\n\nexport default withNotifications(ProjectNotifications);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum ProjectInformationPages {\n  main,\n  badges,\n  notifications\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChevronRightIcon from 'sonar-ui-common/components/icons/ChevronRightIcon';\n\nexport interface DrawerLinkProps<P> {\n  label: string;\n  onPageChange: (page: P) => void;\n  to: P;\n}\n\nexport function DrawerLink<P>(props: DrawerLinkProps<P>) {\n  const { label, to } = props;\n\n  return (\n    <a\n      className=\"display-flex-space-between bordered-bottom big-padded\"\n      onClick={() => props.onPageChange(to)}\n      role=\"link\"\n      tabIndex={0}>\n      {label}\n      <ChevronRightIcon />\n    </a>\n  );\n}\n\nexport default React.memo(DrawerLink);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  componentKey: string;\n  qualifier: string;\n}\n\nexport default function MetaKey({ componentKey, qualifier }: Props) {\n  return (\n    <>\n      <h3>{translate('overview.project_key', qualifier)}</h3>\n      <div className=\"display-flex-center\">\n        <input className=\"overview-key\" readOnly={true} type=\"text\" value={componentKey} />\n        <ClipboardButton className=\"little-spacer-left\" copyValue={componentKey} />\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getProjectLinks } from '../../../../../../api/projectLinks';\nimport { orderLinks } from '../../../../../../helpers/projectLinks';\nimport MetaLink from './MetaLink';\n\ninterface Props {\n  component: T.LightComponent;\n}\n\ninterface State {\n  links?: T.ProjectLink[];\n}\n\nexport default class MetaLinks extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadLinks();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component.key !== this.props.component.key) {\n      this.loadLinks();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadLinks = () =>\n    getProjectLinks(this.props.component.key).then(\n      links => {\n        if (this.mounted) {\n          this.setState({ links });\n        }\n      },\n      () => {}\n    );\n\n  render() {\n    const { links } = this.state;\n\n    if (!links || links.length === 0) {\n      return null;\n    }\n\n    const orderedLinks = orderLinks(links);\n\n    return (\n      <>\n        <div className=\"big-padded bordered-bottom\">\n          <h3>{translate('overview.external_links')}</h3>\n          <ul className=\"project-info-list\">\n            {orderedLinks.map(link => (\n              <MetaLink key={link.id} link={link} />\n            ))}\n          </ul>\n        </div>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getQualityGateUrl } from '../../../../../../helpers/urls';\n\ninterface Props {\n  qualityGate: { isDefault?: boolean; key: string; name: string };\n}\n\nexport default function MetaQualityGate({ qualityGate }: Props) {\n  return (\n    <>\n      <h3>{translate('project.info.quality_gate')}</h3>\n\n      <ul className=\"project-info-list\">\n        <li>\n          {qualityGate.isDefault && (\n            <span className=\"note spacer-right\">({translate('default')})</span>\n          )}\n          <Link to={getQualityGateUrl(qualityGate.key)}>{qualityGate.name}</Link>\n        </li>\n      </ul>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { searchRules } from '../../../../../../api/rules';\nimport { getQualityProfileUrl } from '../../../../../../helpers/urls';\nimport { getLanguages, Store } from '../../../../../../store/rootReducer';\n\ninterface StateProps {\n  languages: T.Languages;\n}\n\ninterface OwnProps {\n  headerClassName?: string;\n  profiles: T.ComponentQualityProfile[];\n}\n\ninterface State {\n  deprecatedByKey: T.Dict<number>;\n}\n\nexport class MetaQualityProfiles extends React.PureComponent<StateProps & OwnProps, State> {\n  mounted = false;\n  state: State = { deprecatedByKey: {} };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadDeprecatedRules();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadDeprecatedRules() {\n    const existingProfiles = this.props.profiles.filter(p => !p.deleted);\n    const requests = existingProfiles.map(profile =>\n      this.loadDeprecatedRulesForProfile(profile.key)\n    );\n    Promise.all(requests).then(\n      responses => {\n        if (this.mounted) {\n          const deprecatedByKey: T.Dict<number> = {};\n          responses.forEach((count, i) => {\n            const profileKey = existingProfiles[i].key;\n            deprecatedByKey[profileKey] = count;\n          });\n          this.setState({ deprecatedByKey });\n        }\n      },\n      () => {}\n    );\n  }\n\n  loadDeprecatedRulesForProfile(profileKey: string) {\n    const data = {\n      activation: 'true',\n      organization: undefined,\n      ps: 1,\n      qprofile: profileKey,\n      statuses: 'DEPRECATED'\n    };\n    return searchRules(data).then(r => r.total);\n  }\n\n  getDeprecatedRulesCount(profile: { key: string }) {\n    const count = this.state.deprecatedByKey[profile.key];\n    return count || 0;\n  }\n\n  renderProfile(profile: T.ComponentQualityProfile) {\n    const languageFromStore = this.props.languages[profile.language];\n    const languageName = languageFromStore ? languageFromStore.name : profile.language;\n\n    const inner = (\n      <div className=\"text-ellipsis\">\n        <span className=\"note spacer-right\">({languageName})</span>\n        {profile.deleted ? (\n          profile.name\n        ) : (\n          <Link to={getQualityProfileUrl(profile.name, profile.language)}>{profile.name}</Link>\n        )}\n      </div>\n    );\n\n    if (profile.deleted) {\n      const tooltip = translateWithParameters('overview.deleted_profile', profile.name);\n      return (\n        <Tooltip key={profile.key} overlay={tooltip}>\n          <li className=\"project-info-deleted-profile\">{inner}</li>\n        </Tooltip>\n      );\n    }\n\n    const count = this.getDeprecatedRulesCount(profile);\n\n    if (count > 0) {\n      const tooltip = translateWithParameters('overview.deprecated_profile', count);\n      return (\n        <Tooltip key={profile.key} overlay={tooltip}>\n          <li className=\"project-info-deprecated-rules\">{inner}</li>\n        </Tooltip>\n      );\n    }\n\n    return <li key={profile.key}>{inner}</li>;\n  }\n\n  render() {\n    const { headerClassName, profiles } = this.props;\n\n    return (\n      <>\n        <h3 className={headerClassName}>{translate('overview.quality_profiles')}</h3>\n\n        <ul className=\"project-info-list\">\n          {profiles.map(profile => this.renderProfile(profile))}\n        </ul>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(MetaQualityProfiles);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SizeRating from 'sonar-ui-common/components/ui/SizeRating';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure, localizeMetric } from 'sonar-ui-common/helpers/measures';\nimport DrilldownLink from '../../../../../../components/shared/DrilldownLink';\nimport { ComponentQualifier } from '../../../../../../types/component';\nimport { MetricKey } from '../../../../../../types/metrics';\n\nexport interface MetaSizeProps {\n  component: T.Component;\n  measures: T.Measure[];\n}\n\nexport default function MetaSize({ component, measures }: MetaSizeProps) {\n  const isApp = component.qualifier === ComponentQualifier.Application;\n  const ncloc = measures.find(measure => measure.metric === MetricKey.ncloc);\n  const projects = isApp\n    ? measures.find(measure => measure.metric === MetricKey.projects)\n    : undefined;\n\n  return (\n    <>\n      <h3>{localizeMetric(MetricKey.ncloc)}</h3>\n      <div className=\"display-flex-center\">\n        {ncloc ? (\n          <>\n            <DrilldownLink className=\"huge\" component={component.key} metric={MetricKey.ncloc}>\n              {formatMeasure(ncloc.value, 'SHORT_INT')}\n            </DrilldownLink>\n\n            <span className=\"spacer-left\">\n              <SizeRating value={Number(ncloc.value)} />\n            </span>\n          </>\n        ) : (\n          <span>0</span>\n        )}\n\n        {isApp && (\n          <span className=\"huge-spacer-left display-inline-flex-center\">\n            {projects ? (\n              <DrilldownLink component={component.key} metric={MetricKey.projects}>\n                <span className=\"big\">{formatMeasure(projects.value, 'SHORT_INT')}</span>\n              </DrilldownLink>\n            ) : (\n              <span className=\"big\">0</span>\n            )}\n            <span className=\"little-spacer-left text-muted\">\n              {translate('metric.projects.name')}\n            </span>\n          </span>\n        )}\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { searchProjectTags } from '../../../../../../api/components';\nimport TagsSelector from '../../../../../../components/tags/TagsSelector';\n\ninterface Props {\n  project: string;\n  selectedTags: string[];\n  setProjectTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class MetaTagsSelector extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchProjectTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100)\n    }).then(\n      ({ tags }) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setProjectTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setProjectTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <TagsSelector\n        listSize={LIST_SIZE}\n        onSearch={this.onSearch}\n        onSelect={this.onSelect}\n        onUnselect={this.onUnselect}\n        selectedTags={this.props.selectedTags}\n        tags={availableTags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setApplicationTags, setProjectTags } from '../../../../../../api/components';\nimport TagsList from '../../../../../../components/tags/TagsList';\nimport { ComponentQualifier } from '../../../../../../types/component';\nimport MetaTagsSelector from './MetaTagsSelector';\n\ninterface Props {\n  component: T.Component;\n  onComponentChange: (changes: {}) => void;\n}\n\nexport default class MetaTags extends React.PureComponent<Props> {\n  card?: HTMLDivElement | null;\n  tagsList?: HTMLElement | null;\n  tagsSelector?: HTMLDivElement | null;\n\n  canUpdateTags = () => {\n    const { configuration } = this.props.component;\n    return configuration && configuration.showSettings;\n  };\n\n  getPopupPos = (eltPos: ClientRect, containerPos: ClientRect) => ({\n    top: eltPos.height,\n    right: containerPos.width - eltPos.width\n  });\n\n  setTags = (values: string[]) => {\n    const { component } = this.props;\n\n    if (component.qualifier === ComponentQualifier.Application) {\n      return setApplicationTags({\n        application: component.key,\n        tags: values.join(',')\n      });\n    } else {\n      return setProjectTags({\n        project: component.key,\n        tags: values.join(',')\n      });\n    }\n  };\n\n  handleSetProjectTags = (values: string[]) => {\n    this.setTags(values).then(\n      () => this.props.onComponentChange({ tags: values }),\n      () => {}\n    );\n  };\n\n  render() {\n    const { key } = this.props.component;\n    const tags = this.props.component.tags || [];\n\n    if (this.canUpdateTags()) {\n      return (\n        <div className=\"big-spacer-top project-info-tags\" ref={card => (this.card = card)}>\n          <Dropdown\n            closeOnClick={false}\n            closeOnClickOutside={true}\n            overlay={\n              <MetaTagsSelector\n                project={key}\n                selectedTags={tags}\n                setProjectTags={this.handleSetProjectTags}\n              />\n            }\n            overlayPlacement={PopupPlacement.BottomLeft}>\n            <ButtonLink innerRef={tagsList => (this.tagsList = tagsList)} stopPropagation={true}>\n              <TagsList allowUpdate={true} tags={tags.length ? tags : [translate('no_tags')]} />\n            </ButtonLink>\n          </Dropdown>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"big-spacer-top project-info-tags\">\n          <TagsList\n            allowUpdate={false}\n            className=\"note\"\n            tags={tags.length ? tags : [translate('no_tags')]}\n          />\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport PrivacyBadgeContainer from '../../../../../components/common/PrivacyBadgeContainer';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport DrawerLink from './DrawerLink';\nimport MetaKey from './meta/MetaKey';\nimport MetaLinks from './meta/MetaLinks';\nimport MetaQualityGate from './meta/MetaQualityGate';\nimport MetaQualityProfiles from './meta/MetaQualityProfiles';\nimport MetaSize from './meta/MetaSize';\nimport MetaTags from './meta/MetaTags';\nimport { ProjectInformationPages } from './ProjectInformationPages';\n\nexport interface ProjectInformationRendererProps {\n  canConfigureNotifications: boolean;\n  canUseBadges: boolean;\n  component: T.Component;\n  measures?: T.Measure[];\n  onComponentChange: (changes: {}) => void;\n  onPageChange: (page: ProjectInformationPages) => void;\n}\n\nexport function ProjectInformationRenderer(props: ProjectInformationRendererProps) {\n  const { canConfigureNotifications, canUseBadges, component, measures = [] } = props;\n\n  const isApp = component.qualifier === ComponentQualifier.Application;\n\n  return (\n    <>\n      <div>\n        <h2 className=\"big-padded bordered-bottom\">\n          {translate(isApp ? 'application' : 'project', 'info.title')}\n        </h2>\n      </div>\n\n      <div className=\"overflow-y-auto\">\n        <div className=\"big-padded bordered-bottom\">\n          <div className=\"display-flex-center\">\n            <h3 className=\"spacer-right\">{translate('project.info.description')}</h3>\n            {component.visibility && (\n              <PrivacyBadgeContainer\n                qualifier={component.qualifier}\n                visibility={component.visibility}\n              />\n            )}\n          </div>\n\n          {component.description && <p>{component.description}</p>}\n\n          <MetaTags component={component} onComponentChange={props.onComponentChange} />\n        </div>\n\n        <div className=\"big-padded bordered-bottom it__project-loc-value\">\n          <MetaSize component={component} measures={measures} />\n        </div>\n\n        {!isApp &&\n          (component.qualityGate ||\n            (component.qualityProfiles && component.qualityProfiles.length > 0)) && (\n            <>\n              <div className=\"big-padded bordered-bottom\">\n                {component.qualityGate && <MetaQualityGate qualityGate={component.qualityGate} />}\n\n                {component.qualityProfiles && component.qualityProfiles.length > 0 && (\n                  <MetaQualityProfiles\n                    headerClassName={component.qualityGate ? 'big-spacer-top' : undefined}\n                    profiles={component.qualityProfiles}\n                  />\n                )}\n              </div>\n            </>\n          )}\n\n        {!isApp && <MetaLinks component={component} />}\n\n        <div className=\"big-padded bordered-bottom\">\n          <MetaKey componentKey={component.key} qualifier={component.qualifier} />\n        </div>\n\n        {canUseBadges && (\n          <DrawerLink\n            label={translate('overview.badges.get_badge', component.qualifier)}\n            onPageChange={props.onPageChange}\n            to={ProjectInformationPages.badges}\n          />\n        )}\n        {canConfigureNotifications && (\n          <DrawerLink\n            label={translate('project.info.to_notifications')}\n            onPageChange={props.onPageChange}\n            to={ProjectInformationPages.notifications}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default React.memo(ProjectInformationRenderer);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getMeasures } from '../../../../../api/measures';\nimport { isLoggedIn } from '../../../../../helpers/users';\nimport { fetchMetrics } from '../../../../../store/rootActions';\nimport { getCurrentUser, getMetrics, Store } from '../../../../../store/rootReducer';\nimport { BranchLike } from '../../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../../types/component';\nimport { MetricKey } from '../../../../../types/metrics';\nimport ProjectBadges from './badges/ProjectBadges';\nimport InfoDrawerPage from './InfoDrawerPage';\nimport ProjectNotifications from './notifications/ProjectNotifications';\nimport './ProjectInformation.css';\nimport { ProjectInformationPages } from './ProjectInformationPages';\nimport ProjectInformationRenderer from './ProjectInformationRenderer';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.Component;\n  currentUser: T.CurrentUser;\n  fetchMetrics: () => void;\n  onComponentChange: (changes: {}) => void;\n  metrics: T.Dict<T.Metric>;\n}\n\ninterface State {\n  measures?: T.Measure[];\n  page: ProjectInformationPages;\n}\n\nexport class ProjectInformation extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    page: ProjectInformationPages.main\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchMetrics();\n    this.loadMeasures();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  setPage = (page: ProjectInformationPages = ProjectInformationPages.main) => {\n    this.setState({ page });\n  };\n\n  loadMeasures = () => {\n    const {\n      component: { key }\n    } = this.props;\n\n    return getMeasures({\n      component: key,\n      metricKeys: [MetricKey.ncloc, MetricKey.projects].join()\n    }).then(measures => {\n      if (this.mounted) {\n        this.setState({ measures });\n      }\n    });\n  };\n\n  render() {\n    const { branchLike, component, currentUser, metrics } = this.props;\n    const { measures, page } = this.state;\n\n    const canConfigureNotifications =\n      isLoggedIn(currentUser) && component.qualifier === ComponentQualifier.Project;\n    const canUseBadges =\n      metrics !== undefined &&\n      component.visibility !== 'private' &&\n      (component.qualifier === ComponentQualifier.Application ||\n        component.qualifier === ComponentQualifier.Project);\n\n    return (\n      <>\n        <ProjectInformationRenderer\n          canConfigureNotifications={canConfigureNotifications}\n          canUseBadges={canUseBadges}\n          component={component}\n          measures={measures}\n          onComponentChange={this.props.onComponentChange}\n          onPageChange={this.setPage}\n        />\n        {canUseBadges && (\n          <InfoDrawerPage\n            displayed={page === ProjectInformationPages.badges}\n            onPageChange={this.setPage}>\n            <ProjectBadges\n              branchLike={branchLike}\n              metrics={metrics}\n              project={component.key}\n              qualifier={component.qualifier}\n            />\n          </InfoDrawerPage>\n        )}\n        {canConfigureNotifications && (\n          <InfoDrawerPage\n            displayed={page === ProjectInformationPages.notifications}\n            onPageChange={this.setPage}>\n            <ProjectNotifications component={component} />\n          </InfoDrawerPage>\n        )}\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchMetrics };\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state),\n  metrics: getMetrics(state)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectInformation);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport ContextNavBar from 'sonar-ui-common/components/ui/ContextNavBar';\nimport { STATUSES } from '../../../../apps/background-tasks/constants';\nimport { BranchLike } from '../../../../types/branch-like';\nimport { ComponentQualifier } from '../../../../types/component';\nimport { rawSizes } from '../../../theme';\nimport RecentHistory from '../../RecentHistory';\nimport ComponentNavBgTaskNotif from './ComponentNavBgTaskNotif';\nimport Header from './Header';\nimport HeaderMeta from './HeaderMeta';\nimport Menu from './Menu';\nimport InfoDrawer from './projectInformation/InfoDrawer';\nimport ProjectInformation from './projectInformation/ProjectInformation';\n\ninterface Props {\n  branchLikes: BranchLike[];\n  currentBranchLike: BranchLike | undefined;\n  component: T.Component;\n  currentTask?: T.Task;\n  currentTaskOnSameBranch?: boolean;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  onComponentChange: (changes: Partial<T.Component>) => void;\n  warnings: string[];\n}\n\nexport default function ComponentNav(props: Props) {\n  const {\n    branchLikes,\n    component,\n    currentBranchLike,\n    currentTask,\n    currentTaskOnSameBranch,\n    isInProgress,\n    isPending,\n    warnings\n  } = props;\n  const { contextNavHeightRaw, globalNavHeightRaw } = rawSizes;\n\n  const [displayProjectInfo, setDisplayProjectInfo] = React.useState(false);\n\n  React.useEffect(() => {\n    const { breadcrumbs, key, name, organization } = component;\n    const { qualifier } = breadcrumbs[breadcrumbs.length - 1];\n    if (\n      [\n        ComponentQualifier.Project,\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.Application,\n        ComponentQualifier.Developper\n      ].includes(qualifier as ComponentQualifier)\n    ) {\n      RecentHistory.add(key, name, qualifier.toLowerCase(), organization);\n    }\n  }, [component, component.key]);\n\n  let notifComponent;\n  if (isInProgress || isPending || (currentTask && currentTask.status === STATUSES.FAILED)) {\n    notifComponent = (\n      <ComponentNavBgTaskNotif\n        component={component}\n        currentTask={currentTask}\n        currentTaskOnSameBranch={currentTaskOnSameBranch}\n        isInProgress={isInProgress}\n        isPending={isPending}\n      />\n    );\n  }\n\n  const contextNavHeight = notifComponent ? contextNavHeightRaw + 30 : contextNavHeightRaw;\n\n  return (\n    <ContextNavBar height={contextNavHeight} id=\"context-navigation\" notif={notifComponent}>\n      <div\n        className={classNames('display-flex-center display-flex-space-between little-padded-top', {\n          'padded-bottom': warnings.length === 0\n        })}>\n        <Header\n          branchLikes={branchLikes}\n          component={component}\n          currentBranchLike={currentBranchLike}\n        />\n        <HeaderMeta branchLike={currentBranchLike} component={component} warnings={warnings} />\n      </div>\n      <Menu\n        branchLike={currentBranchLike}\n        branchLikes={branchLikes}\n        component={component}\n        isInProgress={isInProgress}\n        isPending={isPending}\n        onToggleProjectInfo={() => setDisplayProjectInfo(!displayProjectInfo)}\n      />\n      <InfoDrawer\n        displayed={displayProjectInfo}\n        onClose={() => setDisplayProjectInfo(false)}\n        top={globalNavHeightRaw + contextNavHeightRaw}>\n        <ProjectInformation\n          branchLike={currentBranchLike}\n          component={component}\n          onComponentChange={props.onComponentChange}\n        />\n      </InfoDrawer>\n    </ContextNavBar>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { differenceBy } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getBranches, getPullRequests } from '../../api/branches';\nimport { getAnalysisStatus, getTasksForComponent } from '../../api/ce';\nimport { getComponentData } from '../../api/components';\nimport { getComponentNavigation } from '../../api/nav';\nimport { STATUSES } from '../../apps/background-tasks/constants';\nimport { Location, Router, withRouter } from '../../components/hoc/withRouter';\nimport {\n  getBranchLikeQuery,\n  isBranch,\n  isMainBranch,\n  isPullRequest\n} from '../../helpers/branch-like';\nimport { getPortfolioUrl } from '../../helpers/urls';\nimport {\n  fetchOrganization,\n  registerBranchStatus,\n  requireAuthorization\n} from '../../store/rootActions';\nimport { BranchLike } from '../../types/branch-like';\nimport { isPortfolioLike } from '../../types/component';\nimport ComponentContainerNotFound from './ComponentContainerNotFound';\nimport { ComponentContext } from './ComponentContext';\nimport PageUnavailableDueToIndexation from './indexation/PageUnavailableDueToIndexation';\nimport ComponentNav from './nav/component/ComponentNav';\n\ninterface Props {\n  children: React.ReactElement;\n  fetchOrganization: (organization: string) => void;\n  location: Pick<Location, 'query' | 'pathname'>;\n  registerBranchStatus: (branchLike: BranchLike, component: string, status: T.Status) => void;\n  requireAuthorization: (router: Pick<Router, 'replace'>) => void;\n  router: Pick<Router, 'replace'>;\n}\n\ninterface State {\n  branchLike?: BranchLike;\n  branchLikes: BranchLike[];\n  component?: T.Component;\n  currentTask?: T.Task;\n  isPending: boolean;\n  loading: boolean;\n  tasksInProgress?: T.Task[];\n  warnings: string[];\n}\n\nconst FETCH_STATUS_WAIT_TIME = 3000;\n\nexport class ComponentContainer extends React.PureComponent<Props, State> {\n  watchStatusTimer?: number;\n  mounted = false;\n  state: State = { branchLikes: [], isPending: false, loading: true, warnings: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.location.query.id !== this.props.location.query.id ||\n      prevProps.location.query.branch !== this.props.location.query.branch ||\n      prevProps.location.query.pullRequest !== this.props.location.query.pullRequest\n    ) {\n      this.fetchComponent();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    window.clearTimeout(this.watchStatusTimer);\n  }\n\n  addQualifier = (component: T.Component) => ({\n    ...component,\n    qualifier: component.breadcrumbs[component.breadcrumbs.length - 1].qualifier\n  });\n\n  fetchComponent() {\n    const { branch, id: key, pullRequest } = this.props.location.query;\n    this.setState({ loading: true });\n\n    const onError = (response?: Response) => {\n      if (this.mounted) {\n        if (response && response.status === 403) {\n          this.props.requireAuthorization(this.props.router);\n        } else {\n          this.setState({ component: undefined, loading: false });\n        }\n      }\n    };\n\n    Promise.all([\n      getComponentNavigation({ component: key, branch, pullRequest }),\n      getComponentData({ component: key, branch, pullRequest })\n    ])\n      .then(([nav, { component }]) => {\n        const componentWithQualifier = this.addQualifier({ ...nav, ...component });\n\n        /*\n         * There used to be a redirect from /dashboard to /portfolio which caused issues.\n         * Links should be fixed to not rely on this redirect, but:\n         * This is a fail-safe in case there are still some faulty links remaining.\n         */\n        if (\n          this.props.location.pathname.match('dashboard') &&\n          isPortfolioLike(componentWithQualifier.qualifier)\n        ) {\n          this.props.router.replace(getPortfolioUrl(component.key));\n        }\n\n        return componentWithQualifier;\n      }, onError)\n      .then(this.fetchBranches)\n      .then(\n        ({ branchLike, branchLikes, component }) => {\n          if (this.mounted) {\n            this.setState({\n              branchLike,\n              branchLikes,\n              component,\n              loading: false\n            });\n            this.fetchStatus(component);\n            this.fetchWarnings(component, branchLike);\n          }\n        },\n        () => {}\n      );\n  }\n\n  fetchBranches = (\n    component: T.Component\n  ): Promise<{\n    branchLike?: BranchLike;\n    branchLikes: BranchLike[];\n    component: T.Component;\n  }> => {\n    const breadcrumb = component.breadcrumbs.find(({ qualifier }) => {\n      return ['APP', 'TRK'].includes(qualifier);\n    });\n\n    if (breadcrumb) {\n      const { key } = breadcrumb;\n      return Promise.all([\n        getBranches(key),\n        breadcrumb.qualifier === 'APP' ? Promise.resolve([]) : getPullRequests(key)\n      ]).then(([branches, pullRequests]) => {\n        const branchLikes = [...branches, ...pullRequests];\n        const branchLike = this.getCurrentBranchLike(branchLikes);\n\n        this.registerBranchStatuses(branchLikes, component);\n\n        return { branchLike, branchLikes, component };\n      });\n    } else {\n      return Promise.resolve({ branchLikes: [], component });\n    }\n  };\n\n  fetchStatus = (component: T.Component) => {\n    getTasksForComponent(component.key).then(\n      ({ current, queue }) => {\n        if (this.mounted) {\n          let shouldFetchComponent = false;\n          this.setState(\n            ({ branchLike, component, currentTask, tasksInProgress }) => {\n              const newCurrentTask = this.getCurrentTask(current, branchLike);\n              const pendingTasks = this.getPendingTasks(queue, branchLike);\n              const newTasksInProgress = pendingTasks.filter(\n                task => task.status === STATUSES.IN_PROGRESS\n              );\n\n              const currentTaskChanged =\n                currentTask && newCurrentTask && currentTask.id !== newCurrentTask.id;\n              const progressChanged =\n                tasksInProgress &&\n                (newTasksInProgress.length !== tasksInProgress.length ||\n                  differenceBy(newTasksInProgress, tasksInProgress, 'id').length > 0);\n\n              shouldFetchComponent = Boolean(currentTaskChanged || progressChanged);\n              if (\n                !shouldFetchComponent &&\n                component &&\n                (newTasksInProgress.length > 0 || !component.analysisDate)\n              ) {\n                // Refresh the status as long as there is tasks in progress or no analysis\n                window.clearTimeout(this.watchStatusTimer);\n                this.watchStatusTimer = window.setTimeout(\n                  () => this.fetchStatus(component),\n                  FETCH_STATUS_WAIT_TIME\n                );\n              }\n\n              const isPending = pendingTasks.some(task => task.status === STATUSES.PENDING);\n              return {\n                currentTask: newCurrentTask,\n                isPending,\n                tasksInProgress: newTasksInProgress\n              };\n            },\n            () => {\n              if (shouldFetchComponent) {\n                this.fetchComponent();\n              }\n            }\n          );\n        }\n      },\n      () => {}\n    );\n  };\n\n  fetchWarnings = (component: T.Component, branchLike?: BranchLike) => {\n    if (component.qualifier === 'TRK') {\n      getAnalysisStatus({\n        component: component.key,\n        ...getBranchLikeQuery(branchLike)\n      }).then(\n        ({ component }) => {\n          this.setState({ warnings: component.warnings });\n        },\n        () => {}\n      );\n    }\n  };\n\n  getCurrentBranchLike = (branchLikes: BranchLike[]) => {\n    const { query } = this.props.location;\n    return query.pullRequest\n      ? branchLikes.find(b => isPullRequest(b) && b.key === query.pullRequest)\n      : branchLikes.find(b => isBranch(b) && (query.branch ? b.name === query.branch : b.isMain));\n  };\n\n  getCurrentTask = (current: T.Task, branchLike?: BranchLike) => {\n    if (!current) {\n      return undefined;\n    }\n\n    return current.status === STATUSES.FAILED || this.isSameBranch(current, branchLike)\n      ? current\n      : undefined;\n  };\n\n  getPendingTasks = (pendingTasks: T.Task[], branchLike?: BranchLike) => {\n    return pendingTasks.filter(task => this.isSameBranch(task, branchLike));\n  };\n\n  isSameBranch = (task: Pick<T.Task, 'branch' | 'pullRequest'>, branchLike?: BranchLike) => {\n    if (branchLike && !isMainBranch(branchLike)) {\n      if (isPullRequest(branchLike)) {\n        return branchLike.key === task.pullRequest;\n      }\n      if (isBranch(branchLike)) {\n        return branchLike.name === task.branch;\n      }\n    }\n    return !task.branch && !task.pullRequest;\n  };\n\n  registerBranchStatuses = (branchLikes: BranchLike[], component: T.Component) => {\n    branchLikes.forEach(branchLike => {\n      if (branchLike.status) {\n        this.props.registerBranchStatus(\n          branchLike,\n          component.key,\n          branchLike.status.qualityGateStatus\n        );\n      }\n    });\n  };\n\n  handleComponentChange = (changes: Partial<T.Component>) => {\n    if (this.mounted) {\n      this.setState(state => {\n        if (state.component) {\n          const newComponent: T.Component = { ...state.component, ...changes };\n          return { component: newComponent };\n        }\n        return null;\n      });\n    }\n  };\n\n  handleBranchesChange = () => {\n    if (this.mounted && this.state.component) {\n      this.fetchBranches(this.state.component).then(\n        ({ branchLike, branchLikes }) => {\n          if (this.mounted) {\n            this.setState({ branchLike, branchLikes });\n          }\n        },\n        () => {}\n      );\n    }\n  };\n\n  render() {\n    const { component, loading } = this.state;\n\n    if (!loading && !component) {\n      return <ComponentContainerNotFound />;\n    }\n\n    if (component?.needIssueSync) {\n      return <PageUnavailableDueToIndexation component={component} />;\n    }\n\n    const { branchLike, branchLikes, currentTask, isPending, tasksInProgress } = this.state;\n    const isInProgress = tasksInProgress && tasksInProgress.length > 0;\n\n    return (\n      <div>\n        {component && !['FIL', 'UTS'].includes(component.qualifier) && (\n          <ComponentNav\n            branchLikes={branchLikes}\n            component={component}\n            currentBranchLike={branchLike}\n            currentTask={currentTask}\n            currentTaskOnSameBranch={currentTask && this.isSameBranch(currentTask, branchLike)}\n            isInProgress={isInProgress}\n            isPending={isPending}\n            onComponentChange={this.handleComponentChange}\n            warnings={this.state.warnings}\n          />\n        )}\n        {loading ? (\n          <div className=\"page page-limited\">\n            <i className=\"spinner\" />\n          </div>\n        ) : (\n          <ComponentContext.Provider value={{ branchLike, component }}>\n            {React.cloneElement(this.props.children, {\n              branchLike,\n              branchLikes,\n              component,\n              isInProgress,\n              isPending,\n              onBranchesChange: this.handleBranchesChange,\n              onComponentChange: this.handleComponentChange\n            })}\n          </ComponentContext.Provider>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchOrganization, registerBranchStatus, requireAuthorization };\n\nexport default withRouter(connect(null, mapDispatchToProps)(ComponentContainer));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport { filterContent } from '../../helpers/markdown';\n\nconst DocMarkdownBlock = lazyLoadComponent(() => import('./DocMarkdownBlock'), 'DocMarkdownBlock');\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: T.Dict<string>;\n}\n\ninterface State {\n  content?: string;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.doc.then(\n      ({ default: content }) => {\n        if (this.mounted) {\n          this.setState({ content });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={filterContent(this.state.content)}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// keep this file in JavaScript, because it is used by a webpack loader\nmodule.exports = { getFrontMatter, separateFrontMatter, filterContent };\n\nfunction getFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  return position ? parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine)) : {};\n}\n\nfunction separateFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  if (position) {\n    const frontmatter = parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine));\n    const content = lines.slice(position.lastLine + 1).join('\\n');\n    return { frontmatter, content };\n  } else {\n    return { frontmatter: {}, content };\n  }\n}\n\nfunction getFrontMatterPosition(lines) {\n  let firstLine;\n  let lastLine;\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    if (line.trim() === '---') {\n      if (firstLine === undefined) {\n        firstLine = i;\n      } else {\n        lastLine = i;\n        break;\n      }\n    }\n  }\n  return lastLine !== undefined ? { firstLine, lastLine } : undefined;\n}\n\nfunction parseFrontMatter(lines) {\n  const data = {};\n  for (let i = 0; i < lines.length; i++) {\n    const tokens = lines[i].split(':').map(x => x.trim());\n    if (tokens.length === 2) {\n      data[tokens[0]] = tokens[1];\n    }\n  }\n  return data;\n}\n\n/**\n * @param {string} content\n * @returns {string}\n */\nfunction filterContent(content) {\n  const regexBase = '<!-- \\\\/?(sonarqube|sonarcloud|static) -->';\n  const { isSonarCloud, getInstance } = require('./system');\n  const contentWithInstance = content.replace(/{instance}/gi, getInstance());\n  const contentWithoutStatic = cutConditionalContent(contentWithInstance, 'static');\n  const filteredContent = isSonarCloud()\n    ? cutConditionalContent(contentWithoutStatic, 'sonarqube')\n    : cutConditionalContent(contentWithoutStatic, 'sonarcloud');\n  return filteredContent\n    .replace(new RegExp(`^${regexBase}(\\n|\\r|\\r\\n|$)`, 'gm'), '') // First, remove single-line ones, including ending carriage-returns.\n    .replace(new RegExp(`${regexBase}`, 'g'), ''); // Now remove all remaining ones.\n}\n\n/**\n * @param {string} content\n * @param {string} tag\n * @returns {string}\n */\nfunction cutConditionalContent(content, tag) {\n  const beginning = `<!-- ${tag} -->`;\n  const ending = `<!-- /${tag} -->`;\n\n  let newContent = content;\n  let start = newContent.indexOf(beginning);\n  let end = newContent.indexOf(ending);\n  while (start !== -1 && end !== -1) {\n    if (start < end) {\n      newContent = newContent.substring(0, start) + newContent.substring(end + ending.length);\n    } else {\n      // When conditional tags are incorrectly used we log an error, strip them out and pass to the next pair of tags\n      // eslint-disable-next-line no-console\n      console.error(\n        new Error(\n          `Documentation - incorrect usage of conditional formatting tags here: \"${newContent.substring(\n            end,\n            start + beginning.length\n          )}\"`\n        )\n      );\n      newContent =\n        newContent.substring(0, end) +\n        newContent.substring(end + ending.length, start) +\n        newContent.substring(start + beginning.length);\n    }\n    start = newContent.indexOf(beginning);\n    end = newContent.indexOf(ending);\n  }\n\n  return newContent;\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction TagsIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M4.303 5.36a.94.94 0 0 0-.944-.945.94.94 0 0 0-.944.944c0 .524.42.944.944.944a.94.94 0 0 0 .944-.944zm7.866 4.246a.95.95 0 0 1-.273.663l-3.62 3.627a.95.95 0 0 1-1.334 0L1.671 8.618C1.295 8.249 1 7.534 1 7.01V3.944A.95.95 0 0 1 1.944 3H5.01c.523 0 1.238.295 1.614.67l5.271 5.265a.98.98 0 0 1 .273.67zm2.831 0a.95.95 0 0 1-.273.663l-3.62 3.627a.98.98 0 0 1-.67.273c-.384 0-.575-.177-.826-.435l3.465-3.465a.95.95 0 0 0 0-1.334L7.805 3.67C7.429 3.295 6.714 3 6.19 3h1.651c.524 0 1.239.295 1.615.67l5.271 5.265a.98.98 0 0 1 .273.67z\", style: { fill: fill } })));\n}\nexports.default = TagsIcon;\n//# sourceMappingURL=TagsIcon.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport './CodeSnippet.css';\n\nexport interface CodeSnippetProps {\n  isOneLine?: boolean;\n  noCopy?: boolean;\n  snippet: string | (string | undefined)[];\n}\n\nexport default function CodeSnippet(props: CodeSnippetProps) {\n  const { isOneLine, noCopy, snippet } = props;\n  const snippetRef = React.useRef<HTMLPreElement>(null);\n\n  let finalSnippet: string;\n  if (Array.isArray(snippet)) {\n    finalSnippet = snippet.filter(line => isDefined(line)).join(isOneLine ? ' ' : ' \\\\\\n  ');\n  } else {\n    finalSnippet = snippet;\n  }\n\n  return (\n    <div\n      className={classNames('code-snippet spacer-top spacer-bottom display-flex-row', {\n        'code-snippet-oneline': isOneLine\n      })}>\n      <pre className=\"flex-1\" ref={snippetRef}>\n        {finalSnippet}\n      </pre>\n      {!noCopy && <ClipboardButton copyValue={finalSnippet} />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var createAggregator = require('./_createAggregator');\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nmodule.exports = partition;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\nexport function getGlobalNavigation(): Promise<T.AppState> {\n  return getJSON('/api/navigation/global');\n}\n\ntype NavComponent = T.Omit<T.Component, 'alm' | 'qualifier' | 'leakPeriodDate' | 'path' | 'tags'>;\n\nexport function getComponentNavigation(\n  data: { component: string } & BranchParameters\n): Promise<NavComponent> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport HomeIcon from 'sonar-ui-common/components/icons/HomeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: T.HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: T.HomePage;\n}\n\nexport const DEFAULT_HOMEPAGE: T.HomePage = { type: 'PROJECTS' };\n\nexport class HomePageSelect extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  handleReset = () => {\n    this.props.setHomePage(DEFAULT_HOMEPAGE);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const isChecked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const isDefault = isChecked && isSameHomePage(currentPage, DEFAULT_HOMEPAGE);\n    const tooltip = isChecked\n      ? translate(isDefault ? 'homepage.current.is_default' : 'homepage.current')\n      : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {isDefault ? (\n          <span\n            aria-label={tooltip}\n            className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={isChecked} />\n          </span>\n        ) : (\n          <ButtonLink\n            aria-label={tooltip}\n            className={classNames('link-no-underline', 'set-homepage-link', this.props.className)}\n            onClick={isChecked ? this.handleReset : this.handleClick}>\n            <HomeIcon filled={isChecked} />\n          </ButtonLink>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePageSelect);\n\nfunction isSameHomePage(a: T.HomePage, b: T.HomePage) {\n  return (\n    a.type === b.type &&\n    (a as any).branch === (b as any).branch &&\n    (a as any).component === (b as any).component &&\n    (a as any).organization === (b as any).organization\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BranchIcon from 'sonar-ui-common/components/icons/BranchIcon';\nimport { IconProps } from 'sonar-ui-common/components/icons/Icon';\nimport PullRequestIcon from 'sonar-ui-common/components/icons/PullRequestIcon';\nimport { isPullRequest } from '../../helpers/branch-like';\nimport { BranchLike } from '../../types/branch-like';\n\nexport interface BranchLikeIconProps extends IconProps {\n  branchLike: BranchLike;\n}\n\nexport default function BranchLikeIcon({ branchLike, ...props }: BranchLikeIconProps) {\n  if (isPullRequest(branchLike)) {\n    return <PullRequestIcon {...props} />;\n  } else {\n    return <BranchIcon {...props} />;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BulletListIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M2.968 11.274v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM2.968 8.255v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM2.968 5.235v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM15.045 11.274v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177zM2.968 2.216v1.51q0 0.102-0.075 0.177t-0.177 0.075h-1.51q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h1.51q0.102 0 0.177 0.075t0.075 0.177zM15.045 8.255v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177zM15.045 5.235v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177zM15.045 2.216v1.51q0 0.102-0.075 0.177t-0.177 0.075h-10.568q-0.102 0-0.177-0.075t-0.075-0.177v-1.51q0-0.102 0.075-0.177t0.177-0.075h10.568q0.102 0 0.177 0.075t0.075 0.177z\", style: { fill: fill } })));\n}\nexports.default = BulletListIcon;\n//# sourceMappingURL=BulletListIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { partition, sortBy } from 'lodash';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nconst PROVIDED_TYPES = ['homepage', 'ci', 'issue', 'scm', 'scm_dev'];\ntype NameAndType = Pick<T.ProjectLink, 'name' | 'type'>;\n\nexport function isProvided(link: Pick<T.ProjectLink, 'type'>) {\n  return PROVIDED_TYPES.includes(link.type);\n}\n\nexport function orderLinks<T extends NameAndType>(links: T[]) {\n  const [provided, unknown] = partition<T>(links, isProvided);\n  return [\n    ...sortBy(provided, link => PROVIDED_TYPES.indexOf(link.type)),\n    ...sortBy(unknown, link => link.name && link.name.toLowerCase())\n  ];\n}\n\nexport function getLinkName(link: NameAndType) {\n  return isProvided(link) ? translate('project_links', link.type) : link.name;\n}\n","(function(module) {\n    'use strict';\n\n    module.exports.is_uri = is_iri;\n    module.exports.is_http_uri = is_http_iri;\n    module.exports.is_https_uri = is_https_iri;\n    module.exports.is_web_uri = is_web_iri;\n    // Create aliases\n    module.exports.isUri = is_iri;\n    module.exports.isHttpUri = is_http_iri;\n    module.exports.isHttpsUri = is_https_iri;\n    module.exports.isWebUri = is_web_iri;\n\n\n    // private function\n    // internal URI spitter method - direct from RFC 3986\n    var splitUri = function(uri) {\n        var splitted = uri.match(/(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/);\n        return splitted;\n    };\n\n    function is_iri(value) {\n        if (!value) {\n            return;\n        }\n\n        // check for illegal characters\n        if (/[^a-z0-9\\:\\/\\?\\#\\[\\]\\@\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\.\\-\\_\\~\\%]/i.test(value)) return;\n\n        // check for hex escapes that aren't complete\n        if (/%[^0-9a-f]/i.test(value)) return;\n        if (/%[0-9a-f](:?[^0-9a-f]|$)/i.test(value)) return;\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        // scheme and path are required, though the path can be empty\n        if (!(scheme && scheme.length && path.length >= 0)) return;\n\n        // if authority is present, the path must be empty or begin with a /\n        if (authority && authority.length) {\n            if (!(path.length === 0 || /^\\//.test(path))) return;\n        } else {\n            // if authority is not present, the path must not start with //\n            if (/^\\/\\//.test(path)) return;\n        }\n\n        // scheme must begin with a letter, then consist of letters, digits, +, ., or -\n        if (!/^[a-z][a-z0-9\\+\\-\\.]*$/.test(scheme.toLowerCase()))  return;\n\n        // re-assemble the URL per section 5.3 in RFC 3986\n        out += scheme + ':';\n        if (authority && authority.length) {\n            out += '//' + authority;\n        }\n\n        out += path;\n\n        if (query && query.length) {\n            out += '?' + query;\n        }\n\n        if (fragment && fragment.length) {\n            out += '#' + fragment;\n        }\n\n        return out;\n    }\n\n    function is_http_iri(value, allowHttps) {\n        if (!is_iri(value)) {\n            return;\n        }\n\n        var splitted = [];\n        var scheme = '';\n        var authority = '';\n        var path = '';\n        var port = '';\n        var query = '';\n        var fragment = '';\n        var out = '';\n\n        // from RFC 3986\n        splitted = splitUri(value);\n        scheme = splitted[1]; \n        authority = splitted[2];\n        path = splitted[3];\n        query = splitted[4];\n        fragment = splitted[5];\n\n        if (!scheme)  return;\n\n        if(allowHttps) {\n            if (scheme.toLowerCase() != 'https') return;\n        } else {\n            if (scheme.toLowerCase() != 'http') return;\n        }\n\n        // fully-qualified URIs must have an authority section that is\n        // a valid host\n        if (!authority) {\n            return;\n        }\n\n        // enable port component\n        if (/:(\\d+)$/.test(authority)) {\n            port = authority.match(/:(\\d+)$/)[0];\n            authority = authority.replace(/:\\d+$/, '');\n        }\n\n        out += scheme + ':';\n        out += '//' + authority;\n        \n        if (port) {\n            out += port;\n        }\n        \n        out += path;\n        \n        if(query && query.length){\n            out += '?' + query;\n        }\n\n        if(fragment && fragment.length){\n            out += '#' + fragment;\n        }\n        \n        return out;\n    }\n\n    function is_https_iri(value) {\n        return is_http_iri(value, true);\n    }\n\n    function is_web_iri(value) {\n        return (is_http_iri(value) || is_https_iri(value));\n    }\n\n})(module);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { getBranchLikeQuery } from '../../helpers/branch-like';\nimport { getComponentDrilldownUrl, getComponentIssuesUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\n\nconst ISSUE_MEASURES = [\n  'violations',\n  'new_violations',\n  'blocker_violations',\n  'critical_violations',\n  'major_violations',\n  'minor_violations',\n  'info_violations',\n  'new_blocker_violations',\n  'new_critical_violations',\n  'new_major_violations',\n  'new_minor_violations',\n  'new_info_violations',\n  'open_issues',\n  'reopened_issues',\n  'confirmed_issues',\n  'false_positive_issues',\n  'code_smells',\n  'new_code_smells',\n  'bugs',\n  'new_bugs',\n  'vulnerabilities',\n  'new_vulnerabilities'\n];\n\nconst issueParamsPerMetric: T.Dict<T.Dict<string>> = {\n  blocker_violations: { resolved: 'false', severities: 'BLOCKER' },\n  new_blocker_violations: { resolved: 'false', severities: 'BLOCKER' },\n  critical_violations: { resolved: 'false', severities: 'CRITICAL' },\n  new_critical_violations: { resolved: 'false', severities: 'CRITICAL' },\n  major_violations: { resolved: 'false', severities: 'MAJOR' },\n  new_major_violations: { resolved: 'false', severities: 'MAJOR' },\n  minor_violations: { resolved: 'false', severities: 'MINOR' },\n  new_minor_violations: { resolved: 'false', severities: 'MINOR' },\n  info_violations: { resolved: 'false', severities: 'INFO' },\n  new_info_violations: { resolved: 'false', severities: 'INFO' },\n  open_issues: { resolved: 'false', statuses: 'OPEN' },\n  reopened_issues: { resolved: 'false', statuses: 'REOPENED' },\n  confirmed_issues: { resolved: 'false', statuses: 'CONFIRMED' },\n  false_positive_issues: { resolutions: 'FALSE-POSITIVE' },\n  code_smells: { resolved: 'false', types: 'CODE_SMELL' },\n  new_code_smells: { resolved: 'false', types: 'CODE_SMELL' },\n  bugs: { resolved: 'false', types: 'BUG' },\n  new_bugs: { resolved: 'false', types: 'BUG' },\n  vulnerabilities: { resolved: 'false', types: 'VULNERABILITY' },\n  new_vulnerabilities: { resolved: 'false', types: 'VULNERABILITY' }\n};\n\ninterface Props {\n  branchLike?: BranchLike;\n  children?: React.ReactNode;\n  className?: string;\n  component: string;\n  metric: string;\n  sinceLeakPeriod?: boolean;\n}\n\nexport default class DrilldownLink extends React.PureComponent<Props> {\n  isIssueMeasure = () => {\n    return ISSUE_MEASURES.indexOf(this.props.metric) !== -1;\n  };\n\n  propsToIssueParams = () => {\n    const params: T.Dict<string | boolean> = {\n      ...(issueParamsPerMetric[this.props.metric] || { resolved: 'false' })\n    };\n\n    if (this.props.sinceLeakPeriod) {\n      params.sinceLeakPeriod = true;\n    }\n\n    return params;\n  };\n\n  renderIssuesLink = () => {\n    const url = getComponentIssuesUrl(this.props.component, {\n      ...this.propsToIssueParams(),\n      ...getBranchLikeQuery(this.props.branchLike)\n    });\n\n    return (\n      <Link className={this.props.className} to={url}>\n        {this.props.children}\n      </Link>\n    );\n  };\n\n  render() {\n    if (this.isIssueMeasure()) {\n      return this.renderIssuesLink();\n    }\n\n    const url = getComponentDrilldownUrl({\n      componentKey: this.props.component,\n      metric: this.props.metric,\n      branchLike: this.props.branchLike,\n      listView: true\n    });\n    return (\n      <Link className={this.props.className} to={url}>\n        {this.props.children}\n      </Link>\n    );\n  }\n}\n"],"sourceRoot":""}