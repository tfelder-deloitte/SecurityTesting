{"version":3,"sources":["webpack:///./src/main/js/apps/settings/components/AdditionalCategoryKeys.ts","webpack:///./src/main/js/components/hoc/whenLoggedIn.tsx","webpack:///./src/main/js/components/common/ProjectKeyInput.tsx","webpack:///./src/main/js/helpers/projects.ts","webpack:///./src/main/js/apps/create/project/ManualProjectCreate.css?95f7","webpack:///./src/main/js/apps/create/project/ManualProjectCreate.css","webpack:///./src/main/js/apps/create/project/style.css?00fe","webpack:///./src/main/js/apps/create/project/style.css","webpack:///./src/main/js/api/alm-integrations.ts","webpack:///./src/main/js/apps/create/project/types.ts","webpack:///./src/main/js/apps/create/project/BitbucketProjectAccordion.tsx","webpack:///./src/main/js/apps/create/project/BitbucketRepositories.tsx","webpack:///./src/main/js/apps/create/project/BitbucketSearchResults.tsx","webpack:///./src/main/js/apps/create/project/BitbucketImportRepositoryForm.tsx","webpack:///./src/main/js/apps/create/project/BitbucketPersonalAccessTokenForm.tsx","webpack:///./src/main/js/apps/create/project/CreateProjectPageHeader.tsx","webpack:///./src/main/js/apps/create/project/BitbucketProjectCreateRenderer.tsx","webpack:///./src/main/js/apps/create/project/BitbucketProjectCreate.tsx","webpack:///./src/main/js/apps/create/project/CreateProjectModeSelection.tsx","webpack:///./src/main/js/apps/create/project/GitHubProjectCreateRenderer.tsx","webpack:///./src/main/js/apps/create/project/GitHubProjectCreate.tsx","webpack:///./src/main/js/apps/create/project/ManualProjectCreate.tsx","webpack:///./src/main/js/apps/create/project/constants.ts","webpack:///./src/main/js/apps/create/project/CreateProjectPage.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.js","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css?2512","webpack:///./node_modules/sonar-ui-common/components/controls/HelpTooltip.css","webpack:///./node_modules/sonar-ui-common/components/controls/ListFooter.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?01af","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./node_modules/sonar-ui-common/components/icons/OpenCloseIcon.js","webpack:///./src/main/js/types/alm-settings.ts","webpack:///./node_modules/sonar-ui-common/components/icons/CheckIcon.js","webpack:///./src/main/js/api/alm-settings.ts","webpack:///./node_modules/sonar-ui-common/components/controls/ValidationInput.js","webpack:///./node_modules/sonar-ui-common/components/controls/BoxedGroupAccordion.js","webpack:///./node_modules/sonar-ui-common/components/controls/SearchSelect.js"],"names":["ALM_INTEGRATION","ANALYSIS_SCOPE_CATEGORY","LANGUAGES_CATEGORY","NEW_CODE_PERIOD_CATEGORY","PULL_REQUEST_DECORATION_BINDING_CATEGORY","whenLoggedIn","WrappedComponent","componentDidMount","this","props","currentUser","render","displayName","Wrapper","ProjectKeyInput","error","help","label","placeholder","projectKey","touched","validating","isInvalid","undefined","isValid","className","description","id","required","autoFocus","maxLength","minLength","onChange","onProjectKeyChange","type","value","validateProjectKey","length","Empty","TooLong","test","Valid","OnlyDigits","InvalidChar","api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","getGithubOrganizations","almSetting","token","catch","response","status","throwGlobalError","getGithubRepositories","data","organization","ps","p","query","q","CreateProjectModes","BitbucketProjectAccordion","disableRepositories","open","project","repositories","selectedRepository","showingAllRepositories","repositoryCount","onClick","key","title","name","Alert","variant","defaultMessage","values","link","to","pathname","mode","BitbucketServer","resetPat","map","repo","sqProjectKey","fill","green","size","checked","disabled","onCheck","onSelectRepository","String","BitbucketRepositories","projects","projectRepositories","openProjectKeys","setOpenProjectKeys","allAreExpanded","isOpen","includes","allShown","handleClick","BitbucketSearchResults","searching","searchResults","filteredProjects","r","find","filter","loading","BitbucketImportRepositoryForm","onSearch","BitbucketPersonalAccessTokenForm","url","submitting","validationFailed","setTouched","onSubmit","e","preventDefault","FormData","currentTarget","get","onPersonalAccessTokenCreate","display","alt","height","src","href","replace","rel","target","perm","CreateProjectPageHeader","additionalActions","BitbucketProjectCreateRenderer","bitbucketSetting","canAdmin","importing","showPersonalAccessTokenForm","submittingToken","tokenValidationFailed","onImportRepository","category","mounted","fetchInitialData","setState","checkPersonalAccessToken","patIsValid","fetchBitbucketProjects","fetchBitbucketRepositories","then","Promise","resolve","all","projectName","isLastPage","results","reduce","acc","handlePersonalAccessTokenCreate","pat","handleImportRepository","repositorySlug","slug","onProjectCreate","handleSearch","repositoryName","handleSelectRepository","state","bitbucketSettings","componentDidUpdate","prevProps","componentWillUnmount","loadingBindings","location","Boolean","renderAlmOption","alm","almCounts","count","onSelectMode","style","lineHeight","overlay","CreateProjectModeSelection","Bitbucket","GitHub","orgToOption","organizations","o","GitHubProjectCreateRenderer","loadingOrganizations","selectedOrganization","defaultOptions","minimumQueryLength","onSelect","onSelectOrganization","loadingRepositories","repositoryPaging","searchQuery","isDisabled","repository","total","loadMore","onLoadMore","renderRepositoryList","triggerSearch","fetchRepositories","organizationKey","handleSelectOrganization","handleLoadMore","page","pageIndex","settings","repositoryKey","pageSize","initialize","router","code","redirectToGithub","fetchOrganizations","clientId","queryParams","param","join","instanceRootUrl","window","params","paging","checkFreeKey","component","alreadyExist","projectKeyError","handleFormSubmit","event","canSubmit","trim","handleProjectKeyChange","validateKey","prevState","projectNameChanged","projectNameError","validateName","handleProjectNameChange","result","projectNameIsInvalid","projectNameIsValid","githubSettings","fetchAlmBindings","almSettings","s","handleModeSelect","handleProjectCreate","projectKeys","branchesEnabled","renderForm","Manual","Azure","GitLab","titleTemplate","A11ySkipTarget","anchor","withAppState","Object","defineProperty","classNames","React","HelpIcon_1","theme_1","Tooltip_1","_a","tagName","createElement","mouseLeaveDelay","onShow","placement","children","ThemeConsumer","theme","colors","gray71","l10n_1","measures_1","DeferredSpinner_1","buttons_1","button","needReload","ready","hasMore","reload","Button","translate","translateWithParameters","formatMeasure","Consumer","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","weight","__assign","assign","t","n","arguments","prototype","hasOwnProperty","call","apply","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Icon_1","_b","iconProps","d","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","__","constructor","create","Radio","_super","_this","role","PureComponent","ChevronDownIcon_1","ChevronRightIcon_1","AlmKeys","getAlmDefinitions","getAlmDefinitionsNoCatch","getAlmSettings","createGithubConfiguration","updateGithubConfiguration","createAzureConfiguration","updateAzureConfiguration","createBitbucketConfiguration","updateBitbucketConfiguration","createGitlabConfiguration","updateGitlabConfiguration","deleteConfiguration","countBindedProjects","getProjectAlmBinding","deleteProjectAlmBinding","setProjectAzureBinding","setProjectBitbucketBinding","setProjectGithubBinding","setProjectGitlabBinding","AlertErrorIcon_1","AlertSuccessIcon_1","HelpTooltip_1","hasError","htmlFor","OpenCloseIcon_1","BoxedGroupAccordion","hoveringInner","onDetailEnter","onDetailLeave","renderHeader","onMouseEnter","onMouseLeave","lodash_1","Select_1","SearchSelect","currentQuery","handleChange","option","isArray","onMultiSelect","handleInputChange","handleFilterOption","debounce","autofocus","enumerable","configurable","resetOnBlur","Component","canCreate","Creatable","clearable","escapeClearsValue","filterOption","isLoading","multi","noResultsText","onBlurResetsInput","onInputChange","optionRenderer","renderOption","promptTextCreator","searchable","valueRenderer"],"mappings":"6FAAA,0KAmBO,IAAMA,EAAkB,iBAClBC,EAA0B,aAC1BC,EAAqB,YACrBC,EAA2B,kBAC3BC,EAA2C,mC,koBCElD,SAAUC,EAAgBC,GAC9B,+B,+CAgBA,OAhBsB,OAGpB,YAAAC,kBAAA,WACO,YAAWC,KAAKC,MAAMC,cACzB,OAIJ,YAAAC,OAAA,WACE,OAAI,YAAWH,KAAKC,MAAMC,aACjB,gBAACJ,EAAgB,KAAKE,KAAKC,QAE3B,MAZJ,EAAAG,YAAc,YAAsBN,EAAkB,gBAe/D,EAhBA,CAAsB,aAkBtB,OAAO,YAAgBO,K,kCC5CzB,2FAqCc,SAAUC,EAAgBL,GAC9B,IAAAM,EAAA,EAAAA,MAAOC,EAAA,EAAAA,KAAMC,EAAA,EAAAA,MAAOC,EAAA,EAAAA,YAAaC,EAAA,EAAAA,WAAYC,EAAA,EAAAA,QAASC,EAAA,EAAAA,WAExDC,EAAYF,QAAqBG,IAAVR,EACvBS,EAAUJ,IAAYC,QAAwBE,IAAVR,EAE1C,OACE,gBAAC,IAAe,CACdU,UAAU,aACVC,YAAa,oBAAU,qDACvBX,MAAOA,EACPC,KAAMA,EACNW,GAAG,cACHL,UAAWA,EACXE,QAASA,EACTP,MAAOA,EACPW,cAAoBL,IAAVN,GACV,yBACEY,WAAW,EACXJ,UAAW,EAAW,oBAAqB,CACzC,aAAcH,EACd,WAAYE,IAEdG,GAAG,cACHG,UAAW,IACXC,UAAW,EACXC,SAAUvB,EAAMwB,mBAChBf,YAAaA,EACbgB,KAAK,OACLC,MAAOhB,O,kCClEf,wDAsBM,SAAUiB,EAAmBjB,GAKjC,OAA0B,IAAtBA,EAAWkB,OACN,IAA2BC,MACzBnB,EAAWkB,OAAS,IACtB,IAA2BE,QAJtB,mCAKGC,KAAKrB,GACb,IAA2BsB,MAE3B,WAAWD,KAAKrB,GACnB,IAA2BuB,WAC3B,IAA2BC,c,qBCpCnC,IAAIC,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,sBClBjBE,EADkC,EAAQ,IAChCC,EAA4B,IAE9BC,KAAK,CAACP,EAAOC,EAAI,wFAAyF,KAElHD,EAAOK,QAAUA,G,qBCNjB,IAAIT,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,sBClBjBE,EADkC,EAAQ,IAChCC,EAA4B,IAE9BC,KAAK,CAACP,EAAOC,EAAI,4oBAA6oB,KAEtqBD,EAAOK,QAAUA,G,kMCmGX,SAAUG,EACdC,EACAC,GAEA,OAAO,kBAAQ,kDAAmD,CAChED,WAAU,EACVC,MAAK,IACJC,OAAM,SAACC,GACJA,GAAgC,MAApBA,EAASC,QACvB,OAAAC,EAAA,GAAiBF,MAKjB,SAAUG,EAAsBC,GAO5B,IAAAP,EAAA,EAAAA,WAAYQ,EAAA,EAAAA,aAAcC,EAAA,EAAAA,GAAI,IAAAC,SAAA,IAAI,EAAJ,IAAOC,EAAA,EAAAA,MAC7C,OAAO,kBAAQ,iDAAkD,CAC/DX,WAAU,EACVQ,aAAY,EACZE,EAAC,EACDD,GAAE,EACFG,EAAGD,QAAS7C,IACXoC,MAAMG,EAAA,G,IClHCQ,E,uMCyBE,SAAUC,EAA0B9D,GAE9C,IAAA+D,EAAA,EAAAA,oBACAC,EAAA,EAAAA,KACAC,EAAA,EAAAA,QACAC,EAAA,EAAAA,aACAC,EAAA,EAAAA,mBACAC,EAAA,EAAAA,uBAGIC,EAAkBH,EAAatC,OAErC,OACE,gBAAC,IAAmB,CAClBZ,UAAW,EAAW,oBAAqB,CACzCgD,KAAI,EACJ,iBAAkBhE,EAAMsE,QACxB,YAAatE,EAAMsE,UAErBC,IAAKN,EAAQM,IACbD,QACEtE,EAAMsE,QACFtE,EAAMsE,QACN,aAINN,KAAMA,EACNQ,MAAO,0BAAKP,EAAQQ,OACnBT,GACC,uBAAKhD,UAAU,qBACQ,IAApBqD,GACC,gBAACK,EAAA,MAAK,CAACC,QAAQ,WACb,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,0CAC1B1D,GAAG,yCACH2D,OAAQ,CACNC,KACE,gBAAC,OAAI,CACHC,GAAI,CACFC,SAAU,mBACVrB,MAAO,CAAEsB,KAAMpB,EAAmBqB,gBAAiBC,SAAU,KAE9D,oBAAU,oDAQtBjB,EAAakB,KAAI,SAAAC,GAChB,OAAAA,EAAKC,aACH,uBACEtE,UAAU,+EACVuD,IAAKc,EAAKnE,IACV,gBAAC,IAAS,CAACF,UAAU,eAAeuE,KAAM,SAAOC,MAAOC,KAAM,KAC9D,uBAAKzE,UAAU,mBACb,uBAAKA,UAAU,sCACb,0BAAQwD,MAAOa,EAAKZ,MAClB,gBAAC,OAAI,CAACM,GAAI,YAAcM,EAAKC,eAAgBD,EAAKZ,QAGtD,0BAAK,oBAAU,oDAInB,gBAAC,IAAK,CACJiB,SAASvB,aAAkB,EAAlBA,EAAoBjD,MAAOmE,EAAKnE,GACzCF,UAAW,EACT,+FACA,CACE2E,SAAU5B,EACV,aAAcA,EACd,oBAAqBA,IAGzBQ,IAAKc,EAAKnE,GACV0E,QAAS,WAAM,OAAA5F,EAAM6F,mBAAN,IACfnE,MAAOoE,OAAOT,EAAKnE,KACnB,0BAAQF,UAAU,gBAAgBwD,MAAOa,EAAKZ,MAC3CY,EAAKZ,WAMZL,GAA0BC,EAAkB,GAC5C,gBAACK,EAAA,MAAK,CAACC,QAAQ,WACZ,kCACC,uDACAN,ODpHhB,SAAYR,GACV,kBACA,8BACA,kBAHF,CAAYA,MAAkB,K,4LEmBhB,SAAUkC,EAAsB/F,GACpC,IAAA+D,EAAA,EAAAA,oBAAqBiC,EAAA,EAAAA,SAAUC,EAAA,EAAAA,oBAAqB9B,EAAA,EAAAA,mBAEtD,uCAAC+B,EAAA,KAAiBC,EAAA,KAIlBC,EAAiBJ,EAASpE,QAAUsE,EAAgBtE,OAQ1D,OACE,gCACE,uBAAKZ,UAAU,iCACb,gBAAC,aAAU,CACTA,UAAU,aACVsD,QAAS,WAAM,OAAA6B,EAAmBC,EAAiB,GAAKJ,EAASZ,KAAI,SAAA1B,GAAK,OAAAA,EAAA,UACzE0C,EAAiB,oBAAU,gBAAkB,oBAAU,gBAI3DJ,EAASZ,KAAI,SAAAnB,GACZ,IAAMoC,EAASH,EAAgBI,SAASrC,EAAQM,KAC1C,eAAEgC,EAAA,EAAAA,SAAU,IAAArC,oBAAA,IAAe,EAAf,KAElB,OACE,gBAACJ,EAAyB,CACxBC,oBAAqBA,EACrBQ,IAAKN,EAAQM,IACbD,QAAS,WAAM,OAxBL,SAAC+B,EAAiB3F,GACpCyF,EACEE,EAAS,IAAQH,EAAiBxF,GAAc,IAAI,EAAKwF,EAAe,CAAExF,MAsBrD8F,CAAYH,EAAQpC,EAApB,MACf4B,mBAAoB7F,EAAM6F,mBAC1B7B,KAAMqC,EACNpC,QAASA,EACTC,aAAcA,EACdC,mBAAoBA,EACpBC,uBAAwBmC,Q,aCxCtB,SAAUE,EAAuBzG,GAE3C,IAAA+D,EAAA,EAAAA,oBACAiC,EAAA,EAAAA,SACAU,EAAA,EAAAA,UACA,IAAAC,qBAAA,IAAgB,EAAhB,KACAxC,EAAA,EAAAA,mBAGIyC,EAAmB,IACvBD,EAAcvB,KAAI,SAAAyB,GAAK,OAAAb,EAASc,MAAK,SAAApD,GAAK,OAAAA,EAAEa,MAAQsC,EAAV,iBAAyBE,OAAO,cAG5E,OAAmC,IAA5BH,EAAiBhF,QAAiB8E,EAKvC,uBAAK1F,UAAU,kBACb,gBAAC,IAAe,CAACgG,QAASN,GACvBE,EAAiBxB,KAAI,SAAAnB,GACpB,IAAMC,EAAeyC,EAAcI,QAAO,SAAAF,GAAK,OAAAA,EAAEnG,aAAeuD,EAAjB,OAE/C,OACE,gBAACH,EAAyB,CACxBC,oBAAqBA,EACrBQ,IAAKN,EAAQM,IACbsB,mBAAoB7F,EAAM6F,mBAC1B7B,MAAM,EACNC,QAASA,EACTC,aAAcA,EACdC,mBAAoBA,EACpBC,wBAAwB,SAlBlC,gBAACM,EAAA,MAAK,CAAC1D,UAAU,iBAAiB2D,QAAQ,WACvC,oBAAU,kDCPH,SAAUsC,EAA8BjH,GAElD,IAAA+D,EAAA,EAAAA,oBACA,IAAAiC,gBAAA,IAAW,EAAX,KACA,IAAAC,2BAAA,IAAsB,EAAtB,KACAU,EAAA,EAAAA,cACAD,EAAA,EAAAA,UACAvC,EAAA,EAAAA,mBAGF,OAAwB,IAApB6B,EAASpE,OAET,gBAAC8C,EAAA,MAAK,CAAC1D,UAAU,aAAa2D,QAAQ,WACpC,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,6CAC1B1D,GAAG,4CACH2D,OAAQ,CACNC,KACE,gBAAC,OAAI,CACHC,GAAI,CACFC,SAAU,mBACVrB,MAAO,CAAEsB,KAAMpB,EAAmBqB,gBAAiBC,SAAU,KAE9D,oBAAU,oDAUvB,uBAAKnE,UAAU,6BACb,gBAAC,IAAS,CACRO,SAAUvB,EAAMkH,SAChBzG,YAAa,oBAAU,2DAGxBiG,GAAaC,EACZ,gBAACF,EAAsB,CACrB1C,oBAAqBA,EACrB8B,mBAAoB7F,EAAM6F,mBAC1BG,SAAUA,EACVW,cAAeA,EACfD,UAAWA,EACXvC,mBAAoBA,IAGtB,gBAAC4B,EAAqB,CACpBhC,oBAAqBA,EACrB8B,mBAAoB7F,EAAM6F,mBAC1BI,oBAAqBA,EACrBD,SAAUA,EACV7B,mBAAoBA,K,sBC9DhB,SAAUgD,EACtBnH,GAGsB,IAAAoH,EAAA,mBAAAA,IACpB,IAAAC,kBAAA,IAAa,GAAb,EACAC,EAAA,EAAAA,iBAEI,iBAAC3G,EAAA,KAAS4G,EAAA,KAEhB,aAAgB,WACdA,GAAW,KACV,CAACF,IAEJ,IAAMxG,EAAYyG,IAAqB3G,EAEvC,OACE,uBAAKK,UAAU,sBACb,wBACEwG,SAAU,SAACC,GACTA,EAAEC,iBACF,IAAMhG,EAAQ,IAAIiG,SAASF,EAAEG,eAAeC,IAAI,yBAChD7H,EAAM8H,4BAA4BpG,KAEpC,sBAAIV,UAAU,OAAO,oBAAU,wDAC/B,qBAAGA,UAAU,oCACV,oBAAU,uDAGb,gBAAC,IAAe,CACdV,MAAOO,EAAY,oBAAU,gDAA6CC,EAC1EI,GAAG,wBACHL,UAAWA,EACXE,SAAS,EACTP,MAAO,oBAAU,uCACjBW,UAAU,GACV,yBACEC,WAAW,EACXJ,UAAW,EAAW,oBAAqB,CACzC,aAAcH,IAEhBK,GAAG,wBACHI,UAAW,EACXmD,KAAK,wBACLlD,SAAU,WACRgG,GAAW,IAEb9F,KAAK,UAIT,gBAAC,eAAY,CAACkE,SAAU9E,GAAawG,IAAe1G,GACjD,oBAAU,SAEb,gBAAC,IAAe,CAACK,UAAU,cAAcgG,QAASK,KAGpD,gBAAC3C,EAAA,MAAK,CAAC1D,UAAU,iCAAiC+G,QAAQ,QAAQpD,QAAQ,QACxE,0BAAK,oBAAU,6CAEf,qBAAG3D,UAAU,oCACV,oBAAU,kDAGZoG,GACC,uBAAKpG,UAAU,eACb,uBACEgH,IAAI,GACJhH,UAAU,eACViH,OAAO,KACPC,IAAQ,uBAAY,8BAEtB,qBACEC,KAASf,EAAIgB,QAAQ,MAAO,IAAG,qCAC/BC,IAAI,sBACJC,OAAO,UACN,oBAAU,6CAKjB,qBAAGtH,UAAU,oCACV,oBAAU,kDAGb,0BACE,0BACE,gBAAC,mBAAgB,CACf4D,eAAgB,oBACd,8DAEF1D,GAAG,6DACH2D,OAAQ,CACN0D,KACE,8BAAS,oBAAU,2DAK3B,0BACE,gBAAC,mBAAgB,CACf3D,eAAgB,oBAAU,2DAC1B1D,GAAG,0DACH2D,OAAQ,CACN0D,KACE,8BAAS,oBAAU,8DCpHvB,SAAUC,EAAwBxI,GACtC,IAAAyI,EAAA,EAAAA,kBAAmBjE,EAAA,EAAAA,MAE3B,OACE,0BAAQxD,UAAU,sDAChB,sBAAIA,UAAU,oCAAoCwD,GAEjDiE,GCyBO,SAAUC,EAA+B1I,GAEnD,IAAA2I,EAAA,EAAAA,iBACAC,EAAA,EAAAA,SACAC,EAAA,EAAAA,UACA7B,EAAA,EAAAA,QACAhB,EAAA,EAAAA,SACAC,EAAA,EAAAA,oBACA9B,EAAA,EAAAA,mBACAuC,EAAA,EAAAA,UACAC,EAAA,EAAAA,cACAmC,EAAA,EAAAA,4BACAC,EAAA,EAAAA,gBACAC,EAAA,EAAAA,sBAGF,OACE,gCACE,gBAACR,EAAuB,CACtBC,mBACGK,GACC,uBAAK9H,UAAU,kCACb,gBAAC,IAAe,CAACA,UAAU,eAAegG,QAAS6B,IACnD,gBAAC,SAAM,CACL7H,UAAU,8BACV2E,UAAWxB,GAAsB0E,EACjCvE,QAAStE,EAAMiJ,oBACd,oBAAU,oDAKnBzE,MACE,wBAAMxD,UAAU,eACd,uBACEgH,IAAI,GACJhH,UAAU,eACViH,OAAO,KACPC,IAAQ,uBAAY,8BAErB,oBAAU,yCAKhBlB,GAAW,qBAAGhG,UAAU,aAEvBgG,IAAY2B,GACZ,gBAACjE,EAAA,MAAK,CAACC,QAAQ,SACZiE,EACC,gBAAC,mBAAgB,CACfhE,eAAgB,oBAAU,kDAC1B1D,GAAG,iDACH2D,OAAQ,CACNuC,IACE,gBAAC,OAAI,CACHrC,GAAI,CACFC,SAAU,kBACVrB,MAAO,CAAEuF,SAAU,OAEpB,oBAAU,qBAMnB,oBAAU,8CAKdlC,GACA2B,IACCG,EACC,gBAAC3B,EAAgC,CAC/BwB,iBAAkBA,EAClBb,4BAA6B9H,EAAM8H,4BACnCT,WAAY0B,EACZzB,iBAAkB0B,IAGpB,gBAAC/B,EAA6B,CAC5BlD,oBAAqB8E,EACrB3B,SAAUlH,EAAMkH,SAChBrB,mBAAoB7F,EAAM6F,mBAC1BI,oBAAqBA,EACrBD,SAAUA,EACVW,cAAeA,EACfD,UAAWA,EACXvC,mBAAoBA,M,01DCzFhC,YAGE,WAAYnE,GAAZ,MACE,YAAMA,IAAM,K,OAHd,EAAAmJ,SAAU,EAgCV,EAAAC,iBAAmB,gD,6DAGE,OAFnBrJ,KAAKsJ,SAAS,CAAErC,SAAS,IAEN,GAAMjH,KAAKuJ,2BAA2BpG,OAAM,WAAM,a,cAA/DqG,EAAa,UAIN,GAAMxJ,KAAKyJ,yBAAyBtG,OAAM,gBADnD,M,OACF8C,EAAW,S,wBAITA,GAAYA,EAASpE,OAAS,EACV,GAAM7B,KAAK0J,2BAA2BzD,GAAU9C,OAAM,gBAD1E,M,OACF+C,EAAsB,S,wBAGpBlG,KAAKoJ,SACPpJ,KAAKsJ,SAAS,CACZE,WAAU,EACVvD,SAAQ,EACRC,oBAAmB,EACnBe,SAAS,I,YAKf,EAAAsC,yBAA2B,WACjB,ITpFoCtG,ESoFpC2F,EAAA,QAAAA,iBAER,OAAKA,GTtFuC3F,ES0FL2F,EAAiBpE,ITzFnD,cAAI,kCAAmC,CAAEvB,WAAU,IACvD0G,MAAK,WAAM,YACXxG,OAAM,SAACC,GACN,OAAwB,MAApBA,EAASC,QAGJ,OAAAC,EAAA,GAAiBF,OSgFnBwG,QAAQC,SAAQ,IAM3B,EAAAJ,uBAAyB,WACf,ITjFVxG,ESiFU2F,EAAA,QAAAA,iBAER,OAAKA,GTnFP3F,ESuFoC2F,EAAiBpE,ITrF9C,kBAAQ,sDAAuD,CAAEvB,WAAU,KSqFxB0G,MAAK,SAAC,GAAiB,OAAf,EAAA1D,YAHvD2D,QAAQC,aAAQ9I,IAM3B,EAAA2I,2BAA6B,SAC3BzD,GAEQ,IAAA2C,EAAA,QAAAA,iBAER,OAAKA,EAIEgB,QAAQE,IACb7D,EAASZ,KAAI,SAAA1B,GACX,OT/FNV,ES+F4C2F,EAAiBpE,IT9F7DuF,ES8FkEpG,EAAEe,KTzF7D,kBAAQ,qDAAsD,CACnEzB,WAAU,EACV8G,YAAW,KSuF6DJ,MAClE,SAAC,GAAiC,MAAC,CACjCK,WADC,EAAAA,WAED7F,aAFa,EAAAA,aAGbxD,WAAYgD,EAAEa,QTpGpB,IACJvB,EACA8G,MSsGIJ,MAAK,SAAAM,GACL,OAAOA,EAAQC,QACb,SAACC,EAAmC,G,MAAEH,EAAA,EAAAA,WAAYrJ,EAAA,EAAAA,WAAYwD,EAAA,EAAAA,aAC5D,cAAYgG,KAAG,MAAGxJ,GAAa,CAAE6F,SAAUwD,EAAY7F,aAAY,GAAE,MAEvE,OAlBKyF,QAAQC,aAAQ9I,IAuB3B,EAAAqJ,gCAAkC,SAAClH,GACzB,ITzI8BD,EAAoBoH,ESyIlDzB,EAAA,QAAAA,kBAEHA,GAAoB1F,EAAMrB,OAAS,IAIxC,EAAKyH,SAAS,CAAEN,iBAAiB,EAAMC,uBAAuB,KT/IxBhG,ESgJZ2F,EAAiBpE,IThJe6F,ESgJVnH,ET/I3C,eAAK,gCAAiC,CAAED,WAAU,EAAEoH,IAAG,IAAIlH,MAAMG,EAAA,ISgJnEqG,KAAK,EAAKJ,0BACVI,MAAK,SAAAH,GACA,EAAKJ,UACP,EAAKE,SAAS,CAAEN,iBAAiB,EAAOQ,WAAU,EAAEP,uBAAwBO,IACxEA,GACF,EAAKH,uBAIVlG,OAAM,WACD,EAAKiG,SACP,EAAKE,SAAS,CAAEN,iBAAiB,SAKzC,EAAAsB,uBAAyB,WACjB,IT9HRrH,EACAtC,EACA4J,ES4HQ,UAAE3B,EAAA,EAAAA,iBAAkBxE,EAAA,EAAAA,mBAErBwE,GAAqBxE,IAI1B,EAAKkF,SAAS,CAAER,WAAW,KTpI7B7F,ESsII2F,EAAiBpE,ITrIrB7D,ESsIIyD,EAAmBzD,WTrIvB4J,ESsIInG,EAAmBoG,KTpIhB,mBAAS,uDAAwD,CACtEvH,WAAU,EACVtC,WAAU,EACV4J,eAAc,IACbpH,MAAMG,EAAA,ISkIJqG,MAAK,SAAC,G,IAAanF,EAAA,UAAAA,IACd,EAAK4E,UACP,EAAKE,SAAS,CAAER,WAAW,IAC3B,EAAK7I,MAAMwK,gBAAgB,CAACjG,QAG/BrB,OAAM,WACD,EAAKiG,SACP,EAAKE,SAAS,CAAER,WAAW,SAKnC,EAAA4B,aAAe,SAAC9G,GACN,IT5IVX,EACA0H,ES2IU/B,EAAA,QAAAA,iBAEHA,IAIAhF,GAKL,EAAK0F,SAAS,CAAE3C,WAAW,EAAMvC,wBAAoBrD,KTvJvDkC,ESwJuC2F,EAAiBpE,ITvJxDmG,ESuJ6D/G,ETlJtD,kBAAQ,qDAAsD,CACnEX,WAAU,EACV0H,eAAc,KSiJXhB,MAAK,SAAC,G,IAAExF,EAAA,EAAAA,aACH,EAAKiF,SACP,EAAKE,SAAS,CAAE3C,WAAW,EAAOC,cAAezC,OAGpDhB,OAAM,WACD,EAAKiG,SACP,EAAKE,SAAS,CAAE3C,WAAW,QAb/B,EAAK2C,SAAS,CAAE3C,WAAW,EAAOC,mBAAe7F,EAAWqD,wBAAoBrD,MAkBpF,EAAA6J,uBAAyB,SAACxG,GACxB,EAAKkF,SAAS,CAAElF,mBAAkB,KApLlC,EAAKyG,MAAQ,CAGXjC,iBAAkB3I,EAAM6K,kBAAkB,GAC1ChC,WAAW,EACX7B,SAAS,EACTN,WAAW,EACXsC,uBAAuB,G,EAsN7B,OAlOoD,OAgBlD,YAAAlJ,kBAAA,WACEC,KAAKoJ,SAAU,EACfpJ,KAAKqJ,oBAGP,YAAA0B,mBAAA,SAAmBC,GAAnB,WAC6C,IAAvCA,EAAUF,kBAAkBjJ,QAAgB7B,KAAKC,MAAM6K,kBAAkBjJ,OAAS,GACpF7B,KAAKsJ,SAAS,CAAEV,iBAAkB5I,KAAKC,MAAM6K,kBAAkB,KAAM,WACnE,SAAKzB,uBAKX,YAAA4B,qBAAA,WACEjL,KAAKoJ,SAAU,GA8JjB,YAAAjJ,OAAA,WACQ,iBAAE0I,EAAA,EAAAA,SAAUqC,EAAA,EAAAA,gBAAiBC,EAAA,EAAAA,SAC7B,aACJvC,EAAA,EAAAA,iBACAE,EAAA,EAAAA,UACA7B,EAAA,EAAAA,QACAuC,EAAA,EAAAA,WACAtD,EAAA,EAAAA,oBACAD,EAAA,EAAAA,SACAU,EAAA,EAAAA,UACAC,EAAA,EAAAA,cACAxC,EAAA,EAAAA,mBACA4E,EAAA,EAAAA,gBACAC,EAAA,EAAAA,sBAGF,OACE,gBAAC,EAA8B,CAC7BL,iBAAkBA,EAClBC,SAAUA,EACVC,UAAWA,EACX7B,QAASA,GAAWiE,EACpBhC,mBAAoBlJ,KAAKsK,uBACzBvC,4BAA6B/H,KAAKoK,gCAClCK,gBAAiBzK,KAAKC,MAAMwK,gBAC5BtD,SAAUnH,KAAK0K,aACf5E,mBAAoB9F,KAAK4K,uBACzB1E,oBAAqBA,EACrBD,SAAUA,EACVW,cAAeA,EACfD,UAAWA,EACXvC,mBAAoBA,EACpB2E,6BAA8BS,GAAc4B,QAAQD,EAASvH,MAAMwB,UACnE4D,gBAAiBA,EACjBC,sBAAuBA,KAI/B,EAlOA,CAAoD,iB,qBCzBpD,SAASoC,GACPpL,EACAqL,EACApG,GAEQ,IAAAqG,EAAA,EAAAA,UAAWL,EAAA,EAAAA,gBAEbM,EAAQD,EAAUD,GAClB1F,EAAqB,IAAV4F,GAAeN,EAEhC,OACE,0BACEjK,UAAW,EACT,sFACA,CAAE2E,SAAQ,IAEZA,SAAUA,EACVrB,QAAS,WAAM,OAAAtE,EAAMwL,aAAN,IACf/J,KAAK,UACL,uBACEuG,IAAI,GACJC,OAAQ,GACRC,IAAQ,uBAAY,eAAemD,EAAG,SAExC,uBAAKrK,UAAU,yBACZ,oBAAU,0CAA2CqK,IAGvDJ,GACC,4BACG,oBAAU,iDACX,qBAAGjK,UAAU,iCAIfiK,GAAmBtF,GACnB,uBAAK3E,UAAU,8BAA8ByK,MAAO,CAAEC,WAAY,MAC/D,oBAAU,gDACX,gBAAC,KAAW,CACV1K,UAAU,qBACV2K,QACY,IAAVJ,EACI,oBAAU,+CAAgDF,GACvD,oBAAU,mDAAoDA,GAAI,wBACnE,kCACA,kDACAE,OAUN,SAAUK,GAA2B5L,GACjD,OACE,gCACE,0BAAQgB,UAAU,4CAChB,sBAAIA,UAAU,sCACX,oBAAU,8BAEb,qBAAGA,UAAU,mBAAmB,oBAAU,6CAG5C,uBAAKA,UAAU,oEACb,0BACEA,UAAU,yEACVsD,QAAS,WAAM,OAAAtE,EAAMwL,aAAa3H,EAAnB,SACfpC,KAAK,UACL,uBACEuG,IAAI,GACJC,OAAQ,GACRC,IAAQ,uBAAY,2CAEtB,uBAAKlH,UAAU,yBACZ,oBAAU,oDAIdoK,GAAgBpL,EAAO,IAAQ6L,UAAWhI,EAAmBqB,iBAC7DkG,GAAgBpL,EAAO,IAAQ8L,OAAQjI,EAAmBiI,U,4EC5DnE,SAASC,GAAY,GACnB,MAAO,CAAErK,MADY,EAAA6C,IACA/D,MADK,EAAAiE,MAI5B,IAAMgG,GAAe,SAACuB,GAAwC,gBAACpI,GAC7D,OAAA+F,QAAQC,QAAQoC,EAAcjF,QAAO,SAAAkF,GAAK,OAACrI,GAAKqI,EAAExH,KAAK6B,SAAb,MAA0BlB,IAAI2G,OA0E5D,SAAUG,GAA4BlM,GAEhD,IAAA4I,EAAA,EAAAA,SACAtI,EAAA,EAAAA,MACAuI,EAAA,EAAAA,UACAoC,EAAA,EAAAA,gBACAkB,EAAA,EAAAA,qBACAH,EAAA,EAAAA,cACAI,EAAA,EAAAA,qBACAjI,EAAA,EAAAA,mBAGF,OAAI8G,EACK,gBAAC,IAAe,MAIvB,2BACE,gBAACzC,EAAuB,CACtBC,kBACE2D,GACE,uBAAKpL,UAAU,kCACb,gBAAC,IAAe,CAACA,UAAU,eAAegG,QAAS6B,IACnD,gBAAC,SAAM,CACL7H,UAAU,8BACV2E,UAAWxB,GAAsB0E,EACjCvE,QAAStE,EAAMiJ,oBACd,oBAAU,oDAKnBzE,MACE,wBAAMxD,UAAU,mCACd,uBACEgH,IAAI,GACJhH,UAAU,eACViH,OAAQ,GACRC,IAAQ,wBAAY,2BAErB,oBAAU,6CAKhB5H,EACC,uBAAKU,UAAU,+BACb,uBAAKA,UAAU,+CACb,sBAAIA,UAAU,qBACX,oBAAU,mDAEb,gBAAC0D,EAAA,MAAK,CAACC,QAAQ,WACZiE,EACC,gBAAC,mBAAgB,CACf1H,GAAG,yDACH0D,eAAgB,oBACd,0DAEFC,OAAQ,CACNC,KACE,gBAAC,OAAI,CAACC,GAAG,2CACN,oBAAU,mEAMnB,oBAAU,uDAMlB,gBAAC,IAAe,CAACiC,QAASmF,GACxB,uBAAKnL,UAAU,cACb,6BAAQ,oBAAU,yDACjBgL,EAAcpK,OAAS,EACtB,gBAAC,KAAY,CACXyK,eAAgBL,EAAc5G,IAAI2G,IAClC7E,SAAUuD,GAAauB,GACvBM,mBAAoB,EACpBC,SAAU,SAAC,G,IAAE7K,EAAA,EAAAA,MAAY,OAAA1B,EAAMwM,qBAAqB9K,IACpDA,MAAO0K,GAAwBL,GAAYK,MAG5CD,GACC,gBAACzH,EAAA,MAAK,CAAC1D,UAAU,aAAa2D,QAAQ,SACnCiE,EACC,gBAAC,mBAAgB,CACf1H,GAAG,iDACH0D,eAAgB,oBAAU,kDAC1BC,OAAQ,CACNC,KACE,gBAAC,OAAI,CAACC,GAAG,2CACN,oBACC,mEAOV,oBAAU,+CA9K9B,SAA8B/E,GAE1B,IAAA6I,EAAA,EAAAA,UACA4D,EAAA,EAAAA,oBACAvI,EAAA,EAAAA,aACAwI,EAAA,EAAAA,iBACAC,EAAA,EAAAA,YACAP,EAAA,EAAAA,qBACAjI,EAAA,EAAAA,mBAOIyI,EAAa,SAACC,GAClB,QAAEA,EAAWvH,cAAgBmH,GAAuB5D,GAEtD,OACEuD,GACAlI,GACE,uBAAKlD,UAAU,wCACb,uBAAKA,UAAU,aACb,gBAAC,IAAS,CACRA,UAAU,oBACVO,SAAUvB,EAAMkH,SAChBzG,YAAa,oBAAU,iDACvBiB,MAAOiL,KAIc,IAAxBzI,EAAatC,OACZ,uBAAKZ,UAAU,UACb,gBAAC,IAAe,CAACgG,QAASyF,GACvB,oBAAU,gBAIfvI,EAAakB,KAAI,SAAAyB,GAAK,OACpB,gBAAC,IAAK,CACJ7F,UAAU,mEACVuD,IAAKsC,EAAEtC,IACPmB,SA/BOmH,EA+BYhG,IA9B3BgG,EAAWvH,gBACVnB,GAAsBA,EAAmBI,MAAQsI,EAAWtI,KA8BrDoB,SAAUiH,EAAW/F,GACrBnF,MAAOmF,EAAEtC,IACTqB,QAAS5F,EAAM6F,oBACf,uBAAK7E,UAAU,sBAAsBwD,MAAOqC,EAAEpC,MAC5C,uBAAKzD,UAAU,iBAAiB6F,EAAEpC,MACjCoC,EAAEvB,cACD,sBAAItE,UAAU,iDACX,oBAAU,iDACX,gBAAC,IAAS,CAACA,UAAU,qBAAqByE,KAb9B,QA3BZ,IAACoH,KAgDb,uBAAK7L,UAAU,yCACb,gBAAC,KAAU,CACTuK,MAAOrH,EAAatC,OACpBkL,MAAOJ,EAAiBI,MACxBC,SAAU/M,EAAMgN,WAChBhG,QAASyF,MAuHdQ,CAAqBjN,I,21DC7L5B,YAGE,WAAYA,GAAZ,MACE,YAAMA,IAAM,K,OAHd,EAAAmJ,SAAU,EAgJV,EAAA+D,cAAgB,SAACvJ,GACP,IAAAyI,EAAA,QAAAA,qBACJA,IACF,EAAK/C,SAAS,CAAElF,wBAAoBrD,IACpC,EAAKqM,kBAAkB,CAAEC,gBAAiBhB,EAAqB7H,IAAKZ,MAAK,MAI7E,EAAA0J,yBAA2B,SAAC9I,GAC1B,EAAK8E,UAAS,SAAC,GAAsB,MAAC,CACpCsD,YAAa,GACbxI,wBAAoBrD,EACpBsL,qBAHe,EAAAJ,cAGqBlF,MAAK,SAAAmF,GAAK,OAAAA,EAAE1H,MAAF,SAEhD,EAAK4I,kBAAkB,CAAEC,gBAAiB7I,KAG5C,EAAAoG,uBAAyB,SAACpG,GACxB,EAAK8E,UAAS,SAAC,G,IAAEnF,EAAA,EAAAA,aAAmB,MAAC,CACnCC,mBAAoBD,aAAY,EAAZA,EAAc4C,MAAK,SAAAD,GAAK,OAAAA,EAAEtC,MAAF,UAIhD,EAAAkG,aAAe,SAACkC,GACd,EAAKtD,SAAS,CAAEsD,YAAW,IAC3B,EAAKO,cAAcP,IAGrB,EAAAW,eAAiB,WACT,cAAEZ,EAAA,EAAAA,iBAAkBC,EAAA,EAAAA,YAAaP,EAAA,EAAAA,qBAEnCA,GACF,EAAKe,kBAAkB,CACrBC,gBAAiBhB,EAAqB7H,IACtCgJ,KAAMb,EAAiBc,UAAY,EACnC7J,MAAOgJ,KAKb,EAAAtC,uBAAyB,iD,oEACjB,EAAyDtK,KAAK6K,MAA5DwB,EAAoB,uBAAEjI,EAAkB,wBAAEsJ,EAAQ,aAE1CrB,GAAwBjI,GAApC,YACFpE,KAAKsJ,SAAS,CAAER,WAAW,I,iBAGL,O,sBAAA,IZ1J1B7F,EY2JQyK,EAASlJ,IZ1JjBf,EY2JQ4I,EAAqB7H,IZ1J7BmJ,EY2JQvJ,EAAmBI,IZzJpB,mBAAS,8CAA+C,CAC7DvB,WAAU,EACVQ,aAAY,EACZkK,cAAa,IACZxK,MAAMG,EAAA,K,cYkJKY,EAAY,SAAL,QAMflE,KAAKC,MAAMwK,gBAAgB,CAACvG,EAAQM,M,oBAEhCxE,KAAKoJ,SACPpJ,KAAKsJ,SAAS,CAAER,WAAW,I,qBZpK/B,IACJ7F,EACAQ,EACAkK,SYlCE,EAAK9C,MAAQ,CACXtK,OAAO,EACPuI,WAAW,EACXsD,sBAAsB,EACtBM,qBAAqB,EACrBT,cAAe,GACf9H,aAAc,GACdwI,iBAAkB,CAAEiB,SAfG,GAe6Bb,MAAO,EAAGU,UAAW,GACzEb,YAAa,GACbc,SAAUzN,EAAMyN,SAAS,IAG3B,EAAKP,cAAgB,KAAS,EAAKA,cAAe,K,EAkOtD,OApPiD,QAqB/C,YAAApN,kBAAA,WACEC,KAAKoJ,SAAU,EAEfpJ,KAAK6N,cAGP,YAAA9C,mBAAA,SAAmBC,GAAnB,WACoC,IAA9BA,EAAU0C,SAAS7L,QAAgB7B,KAAKC,MAAMyN,SAAS7L,OAAS,GAClE7B,KAAKsJ,SAAS,CAAEoE,SAAU1N,KAAKC,MAAMyN,SAAS,KAAM,WAAM,0BAI9D,YAAAzC,qBAAA,WACEjL,KAAKoJ,SAAU,GAGX,YAAAyE,WAAN,W,gHAIE,GAHM,EAAuB7N,KAAKC,MAA1BkL,EAAQ,WAAE2C,EAAM,WAChBJ,EAAa1N,KAAK6K,MAAV,YAEE6C,EAASrG,IAEzB,OADArH,KAAKsJ,SAAS,CAAE/I,OAAO,IACvB,IAEAP,KAAKsJ,SAAS,CAAE/I,OAAO,IAGnBwN,EAAqB,QAAjB,EAAG5C,EAASvH,aAAK,eAAEmK,K,8CAGtBA,EAAD,MACF,GAAM/N,KAAKgO,iBAAiBN,I,cAA5B,S,aAIA,cAFOvC,EAASvH,MAAMmK,KACtBD,EAAOzF,QAAQ8C,GACf,GAAMnL,KAAKiO,mBAAmBP,EAAUK,I,OAAxC,S,oDAGE/N,KAAKoJ,SACPpJ,KAAKsJ,SAAS,CAAE/I,OAAO,I,+BAKvB,YAAAyN,iBAAN,SAAuBN,G,sGACrB,OAAKA,EAASrG,IAIO,IZrCSpE,EYqCeyK,EAASlJ,IZpCjD,kBAAQ,6CAA8C,CAAEvB,WAAU,MYiCrE,I,OAKF,OAFQiL,EAAa,SAAL,WAOVC,EAAc,CAClB,CAAEC,MAAO,YAAazM,MAAOuM,GAC7B,CAAEE,MAAO,eAAgBzM,MAAU,uBAAY,yBAAyB,IAAQoK,SAE/E1G,KAAI,SAAC,GAAqB,OAAnB,EAAA+I,MAA2B,IAApB,EAAAzM,SACd0M,KAAK,KAaRC,GAPEA,EAFEZ,EAASrG,IAAId,SAAS,WAENmH,EAASrG,IAAIgB,QAAQ,UAAW,IAGhCqF,EAASrG,IAAIgB,QAAQ,OAAQ,KAIfA,QAAQ,MAAO,IACjDkG,OAAOpD,SAAS9C,QAAWiG,EAAe,0BAA0BH,G,MAvBlEnO,KAAKsJ,SAAS,CAAE/I,OAAO,IACvB,KZzCA,IAA4B0C,SYkE1B,YAAAgL,mBAAN,SAAyBP,EAA+BxK,G,kGAC5B,SAAMF,EAAuB0K,EAASlJ,IAAKtB,I,cAA7D+I,EAAkB,SAAL,cAEjBjM,KAAKoJ,SACPpJ,KAAKsJ,SAAS,CAAE8C,sBAAsB,EAAOH,cAAa,I,YAIxD,YAAAmB,kBAAN,SAAwBoB,G,4GAItB,GAHQnB,EAAqCmB,EAAtB,gBAAE,EAAoBA,EAAZ,KAARhB,OAAI,IAAG,IAAC,EAAE5J,EAAU4K,EAAL,QAChCd,EAAa1N,KAAK6K,MAAV,UAId,OADA7K,KAAKsJ,SAAS,CAAE/I,OAAO,IACvB,IAGFP,KAAKsJ,SAAS,CAAEoD,qBAAqB,I,iBAGtB,O,sBAAA,GAAMnJ,EAAsB,CACvCN,WAAYyK,EAASlJ,IACrBf,aAAc4J,EACd3J,GA5HqB,GA6HrBC,EAAG6J,EACH5J,MAAK,K,cALD,EAAO,SAQT5D,KAAKoJ,SACPpJ,KAAKsJ,UAAS,SAAC,G,IAAEnF,EAAA,EAAAA,aAAmB,MAAC,CACnCuI,qBAAqB,EACrBC,iBAAkB,EAAK8B,OACvBtK,aAAuB,IAATqJ,EAAa,EAAKrJ,aAAc,GAAKA,EAAiB,EAAKA,kB,6BAIzEnE,KAAKoJ,SACPpJ,KAAKsJ,SAAS,CACZoD,qBAAqB,EACrBC,iBAAkB,CAAEc,UAAW,EAAGG,SA5If,GA4I+Cb,MAAO,GACzE5I,aAAc,K,+BAoEtB,YAAAhE,OAAA,WACQ,iBAAE0I,EAAA,EAAAA,SAAUqC,EAAA,EAAAA,gBACZ,aACJ3K,EAAA,EAAAA,MACAuI,EAAA,EAAAA,UACAsD,EAAA,EAAAA,qBACAM,EAAA,EAAAA,oBACAT,EAAA,EAAAA,cACAU,EAAA,EAAAA,iBACAxI,EAAA,EAAAA,aACAyI,EAAA,EAAAA,YACAP,EAAA,EAAAA,qBACAjI,EAAA,EAAAA,mBAGF,OACE,gBAAC+H,GAA2B,CAC1BtD,SAAUA,EACVtI,MAAOA,EACPuI,UAAWA,EACXoC,gBAAiBA,EACjBkB,qBAAsBA,EACtBM,oBAAqBA,EACrBxD,mBAAoBlJ,KAAKsK,uBACzB2C,WAAYjN,KAAKuN,eACjBpG,SAAUnH,KAAK0K,aACf+B,qBAAsBzM,KAAKsN,yBAC3BxH,mBAAoB9F,KAAK4K,uBACzBqB,cAAeA,EACfU,iBAAkBA,EAClBC,YAAaA,EACbzI,aAAcA,EACdkI,qBAAsBA,EACtBjI,mBAAoBA,KAI5B,EApPA,CAAiD,a,mYCLjD,YAGE,WAAYnE,GAAZ,MACE,YAAMA,IAAM,K,OAHd,EAAAmJ,SAAU,EAuBV,EAAAsF,aAAe,SAAClK,GACd,OAAO,aAAoB,CAAEmK,UAAWnK,IACrCmF,MAAK,SAAAiF,GACA,EAAKxF,SAAW5E,IAAQ,EAAKqG,MAAMlK,aAChCiO,EAGH,EAAKtF,SAAS,CACZuF,gBAAiB,oBAAU,+CAC3BjO,SAAS,EACTC,YAAY,IALd,EAAKyI,SAAS,CAAEuF,qBAAiB9N,EAAWF,YAAY,QAU7DsC,OAAM,WACD,EAAKiG,SAAW5E,IAAQ,EAAKqG,MAAMlK,YACrC,EAAK2I,SAAS,CAAEuF,qBAAiB9N,EAAWF,YAAY,QAehE,EAAAiO,iBAAmB,SAACC,GAClBA,EAAMpH,iBACE,IAAAkD,EAAA,EAAAA,MACJ,EAAKmE,UAAUnE,KACjB,EAAKvB,SAAS,CAAEhC,YAAY,IAC5B,aAAc,CACZpD,QAAS2G,EAAMlK,WACf+D,MAAOmG,EAAMd,aAAec,EAAMlK,YAAYsO,SAC7CtF,MACD,SAAC,G,IAAEzF,EAAA,EAAAA,QAAc,SAAKjE,MAAMwK,gBAAgB,CAACvG,EAAQM,SACrD,WACM,EAAK4E,SACP,EAAKE,SAAS,CAAEhC,YAAY,SAOtC,EAAA4H,uBAAyB,SAACH,GACxB,IAAMpO,EAAaoO,EAAMlH,cAAclG,OAAS,GAC1CkN,EAAkB,EAAKM,YAAYxO,GAEzC,EAAK2I,UAAS,SAAA8F,GACZ,IAAMrF,EAAcqF,EAAUC,mBAAqBD,EAAUrF,YAAcpJ,EAC3E,MAAO,CACLA,WAAU,EACVkO,gBAAe,EACf9E,YAAW,EACXuF,iBAAkB,EAAKC,aAAaxF,GACpCnJ,SAAS,EACTC,gBAAgCE,IAApB8N,WAIQ9N,IAApB8N,GACF,EAAKH,aAAa/N,IAItB,EAAA6O,wBAA0B,SAACT,GACzB,IAAMhF,EAAcgF,EAAMlH,cAAclG,MACxC,EAAK2H,SAAS,CACZS,YAAW,EACXsF,oBAAoB,EACpBC,iBAAkB,EAAKC,aAAaxF,MAIxC,EAAAoF,YAAc,SAACxO,GACb,IAAM8O,EAAS,aAAmB9O,GAClC,OAAO8O,IAAW,KAA2BxN,WACzClB,EACA,oBAAU,8CAA+C0O,IAG/D,EAAAF,aAAe,SAACxF,GACd,OAA2B,IAAvBA,EAAYlI,OACP,oBAAU,sDACRkI,EAAYlI,OClJS,IDmJvB,oBAAU,8DADZ,GA9GP,EAAKgJ,MAAQ,CACXlK,WAAY,GACZoJ,YAAa,GACbsF,oBAAoB,EACpB/H,YAAY,EACZ1G,SAAS,EACTC,YAAY,GAEd,EAAK6N,aAAe,KAAS,EAAKA,aAAc,K,EA4KpD,OAzLiD,QAgB/C,YAAA3O,kBAAA,WACEC,KAAKoJ,SAAU,GAGjB,YAAA6B,qBAAA,WACEjL,KAAKoJ,SAAU,GAyBjB,YAAA4F,UAAA,SAAUnE,GACA,IAAAlK,EAAA,EAAAA,WAAYkO,EAAA,EAAAA,gBAAiB9E,EAAA,EAAAA,YAAauF,EAAA,EAAAA,iBAClD,OAAOlE,aACerK,IAApB8N,QACuB9N,IAArBuO,GACA3O,EAAWkB,OAAS,GACpBkI,EAAYlI,OAAS,IAqE3B,YAAA1B,OAAA,WACQ,iBACJQ,EAAA,EAAAA,WACAkO,EAAA,EAAAA,gBACA9E,EAAA,EAAAA,YACAuF,EAAA,EAAAA,iBACAhI,EAAA,EAAAA,WACA1G,EAAA,EAAAA,QACAC,EAAA,EAAAA,WAEI6O,EAAuB9O,QAAgCG,IAArBuO,EAClCK,EAAqB/O,QAAgCG,IAArBuO,EAEtC,OACE,gCACE,gBAAC7G,EAAuB,CAAChE,MAAO,oBAAU,8CAE1C,uBAAKxD,UAAU,yBACb,uBAAKA,UAAU,4BACb,wBAAMA,UAAU,wBAAwBwG,SAAUzH,KAAK8O,kBACrD,gBAACxO,GAAA,EAAe,CACdC,MAAOsO,EACPrO,KAAM,oBAAU,8CAChBC,MAAO,oBAAU,yCACjBgB,mBAAoBzB,KAAKkP,uBACzBvO,WAAYA,EACZC,QAASA,EACTC,WAAYA,IAGd,gBAAC,IAAe,CACdI,UAAU,aACVC,YAAa,oBAAU,sDACvBX,MAAO+O,EACP9O,KAAM,oBAAU,+CAChBW,GAAG,eACHL,UAAW4O,EACX1O,QAAS2O,EACTlP,MAAO,oBAAU,0CACjBW,UAAU,GACV,yBACEH,UAAW,EAAW,oBAAqB,CACzC,aAAcyO,EACd,WAAYC,IAEdxO,GAAG,eACHG,UCtMkB,IDuMlBC,UAAW,EACXC,SAAUxB,KAAKwP,wBACf9N,KAAK,OACLC,MAAOoI,KAIX,gBAAC,eAAY,CAACnE,UAAW5F,KAAKgP,UAAUhP,KAAK6K,QAAUvD,GACpD,oBAAU,WAEb,gBAAC,IAAe,CAACrG,UAAU,cAAcgG,QAASK,SAOhE,EAzLA,CAAiD,iB,sVEJjD,0E,OACE,EAAA8B,SAAU,EACV,EAAAyB,MAAe,CAAEC,kBAAmB,GAAI8E,eAAgB,GAAI3I,SAAS,GAgBrE,EAAA4I,iBAAmB,WACjB,EAAKvG,SAAS,CAAErC,SAAS,IACzB,cACG0C,MAAK,SAAAmG,GACA,EAAK1G,SACP,EAAKE,SAAS,CACZwB,kBAAmBgF,EAAY9I,QAAO,SAAA+I,GAAK,OAAAA,EAAEzE,MAAQ,IAAV,aAC3CsE,eAAgBE,EAAY9I,QAAO,SAAA+I,GAAK,OAAAA,EAAEzE,MAAQ,IAAV,UACxCrE,SAAS,OAId9D,OAAM,WACD,EAAKiG,SACP,EAAKE,SAAS,CAAErC,SAAS,QAKjC,EAAA+I,iBAAmB,SAAC9K,GACZ,cAAE4I,EAAA,EAAAA,OAAQ3C,EAAA,EAAAA,SAChB2C,EAAO/K,KAAK,CACVkC,SAAUkG,EAASlG,SACnBrB,MAAO,CAAEsB,KAAI,MAIjB,EAAA+K,oBAAsB,SAACC,GACM,IAAvBA,EAAYrO,QACd,EAAK5B,MAAM6N,OAAO/K,KAAK,YAAcmN,EAAY,M,EA0EvD,OAzHuC,QAIrC,YAAAnQ,kBAAA,WAEgB,IAAAoQ,EAAA,oBAAAA,gBAEdnQ,KAAKoJ,SAAU,EACX+G,GACFnQ,KAAK6P,oBAIT,YAAA5E,qBAAA,WACEjL,KAAKoJ,SAAU,GAoCjB,YAAAgH,WAAA,SAAWlL,G,MACH,aACQ2D,EAAA,WAAAA,SACZsC,EAAA,EAAAA,SACA2C,EAAA,EAAAA,OAEI,aAAEhD,EAAA,EAAAA,kBAAmB8E,EAAA,EAAAA,eAAgB3I,EAAA,EAAAA,QAE3C,OAAQ/B,GACN,KAAKpB,EAAmBqB,gBACtB,OACE,gBAAC,GAAsB,CACrB0D,WAAYA,EACZiC,kBAAmBA,EACnBI,gBAAiBjE,EACjBkE,SAAUA,EACVV,gBAAiBzK,KAAKiQ,sBAI5B,KAAKnM,EAAmBiI,OACtB,OACE,gBAAC,GAAmB,CAClBlD,WAAYA,EACZqC,gBAAiBjE,EACjBkE,SAAUA,EACVV,gBAAiBzK,KAAKiQ,oBACtBnC,OAAQA,EACRJ,SAAUkC,IAIhB,KAAK9L,EAAmBuM,OACtB,OAAO,gBAAC,GAAmB,CAAC5F,gBAAiBzK,KAAKiQ,sBAEpD,QACE,IAAM1E,IAAS,MACZ,IAAQ+E,OAAQ,EACjB,EAAC,IAAQxE,WAAYhB,EAAkBjJ,OACvC,EAAC,IAAQkK,QAAS6D,EAAe/N,OACjC,EAAC,IAAQ0O,QAAS,EACnB,GACD,OACE,gBAAC1E,GAA0B,CACzBN,UAAWA,EACXL,gBAAiBjE,EACjBwE,aAAczL,KAAKgQ,qBAO7B,YAAA7P,OAAA,W,MACQ,aACQgQ,EAAA,WAAAA,gBAGRjL,EAAqD,QAAjD,EAFR,EAAAiG,SAEoDvH,aAAK,eAAEsB,KAE7D,OACE,gCACE,gBAAC,IAAM,CAACT,MAAO,oBAAU,6BAA8B+L,cAAc,OACrE,gBAACC,EAAA,EAAc,CAACC,OAAO,wBACvB,uBAAKzP,UAAU,yDAAyDE,GAAG,kBACxEnB,KAAKoQ,WAAWD,EAAkBjL,EAAOpB,EAAmBuM,WAKvE,EAzHA,CAAuC,iBA2HxB,iBAAAxQ,EAAA,GAAa,OAAA8Q,EAAA,GAAa,M,iCCzKzCC,OAAOC,eAAehO,EAAS,aAAc,CAAElB,OAAO,IACtD,IAAImP,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,IAChBC,EAAa,EAAQ,KACrBC,EAAU,EAAQ,KACtB,EAAQ,KACR,IAAIC,EAAY,EAAQ,KAMxBrO,EAAQN,QALR,SAAqBtC,GACjB,IAAIkR,EAAKlR,EAAMmR,QAASA,OAAiB,IAAPD,EAAgB,MAAQA,EAC1D,OAAOJ,EAAMM,cAAcD,EAAS,CAAEnQ,UAAW6P,EAAW,eAAgB7Q,EAAMgB,YAAc8P,EAAMM,cAAcH,EAAU3O,QAAS,CAAE+O,gBAAiB,IAAMC,OAAQtR,EAAMsR,OAAQ3F,QAAS3L,EAAM2L,QAAS4F,UAAWvR,EAAMuR,WAC3NT,EAAMM,cAAc,OAAQ,CAAEpQ,UAAW,8BAAgChB,EAAMwR,UAAaV,EAAMM,cAAcJ,EAAQS,cAAe,MAAM,SAAUC,GAAS,OAAOZ,EAAMM,cAAcL,EAAWzO,QAAS,CAAEiD,KAAMmM,EAAMC,OAAOC,OAAQnM,KAAM,a,oBCX1P,IAAItD,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,qBClBjBE,EADkC,EAAQ,IAChCC,EAA4B,IAE9BC,KAAK,CAACP,EAAOC,EAAI,iJAAkJ,KAE3KD,EAAOK,QAAUA,G,iCCLjB+N,OAAOC,eAAehO,EAAS,aAAc,CAAElB,OAAO,IACtD,IAAImP,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,IAChBe,EAAS,EAAQ,KACjBC,EAAa,EAAQ,KACrBC,EAAoB,EAAQ,KAC5BC,EAAY,EAAQ,KAgBxBpP,EAAQN,QAfR,SAAoBtC,GAChB,IAEIiS,EAFAjR,EAAYhB,EAAMgB,UAAWuK,EAAQvL,EAAMuL,MAAOvE,EAAUhH,EAAMgH,QAASkL,EAAalS,EAAMkS,WAAYpF,EAAQ9M,EAAM8M,MAAOoE,EAAKlR,EAAMmS,MAAOA,OAAe,IAAPjB,GAAuBA,EAChLkB,EAAUtF,GAASA,EAAQvB,EAQ/B,OANI2G,GAAclS,EAAMqS,OACpBJ,EAAUnB,EAAMM,cAAcY,EAAUM,OAAQ,CAAEtR,UAAW,cAAe,YAAa,SAAU2E,SAAUqB,EAAS1C,QAAStE,EAAMqS,QAAUR,EAAOU,UAAU,WAE3JH,GAAWpS,EAAM+M,WACtBkF,EAAUnB,EAAMM,cAAcY,EAAUM,OAAQ,CAAEtR,UAAW,cAAe2E,SAAUqB,EAAS,YAAa,YAAa1C,QAAStE,EAAM+M,UAAY8E,EAAOU,UAAU,eAEjKzB,EAAMM,cAAc,SAAU,CAAEpQ,UAAW6P,EAAW,8BAA+B,CAAE,eAAgBsB,GAASnR,IACpH6Q,EAAOW,wBAAwB,eAAgBV,EAAWW,cAAclH,EAAO,MAAO,MAAOuG,EAAWW,cAAc3F,EAAO,MAAO,OACpImF,EACAjL,GAAW8J,EAAMM,cAAcW,EAAkBzP,QAAS,CAAEtB,UAAW,iD,smBCQjE,SAAUwP,EAAexQ,GACrC,OACE,gBAAC,IAAY0S,SAAQ,MAClB,SAAC,G,IAAEC,EAAA,EAAAA,gBAAiBC,EAAA,EAAAA,mBAAyB,OAC5C,gBAACC,EAAmB,GAClBF,gBAAiBA,EACjBC,mBAAoBA,GAChB5S,OAYd,6E,OASE,EAAA8S,QAAU,WACF,cAAE,IAAArC,OAAa,IAAAjQ,MACrB,MAAO,CAAE+D,IAAG,EAAE/D,WADO,IAAQ,EAAR,yCACAuS,OADsC,EAAAA,S,EAQ/D,OAlByC,OACvC,YAAAjT,kBAAA,WACEC,KAAKC,MAAM2S,gBAAgB5S,KAAK+S,YAGlC,YAAA9H,qBAAA,WACEjL,KAAKC,MAAM4S,mBAAmB7S,KAAK+S,YAQrC,YAAA5S,OAAA,WACU,IAAAuQ,EAAA,WAAAA,OACR,OAAO,wBAAMvP,GAAI,gBAAgBuP,KAErC,EAlBA,CAAyC,kB,iCC/CzC,IAAIuC,EAAYjT,MAAQA,KAAKiT,UAAa,WAStC,OARAA,EAAWrC,OAAOsC,QAAU,SAASC,GACjC,IAAK,IAAIpD,EAAGtN,EAAI,EAAG2Q,EAAIC,UAAUxR,OAAQY,EAAI2Q,EAAG3Q,IAE5C,IAAK,IAAIkB,KADToM,EAAIsD,UAAU5Q,GACOmO,OAAO0C,UAAUC,eAAeC,KAAKzD,EAAGpM,KACzDwP,EAAExP,GAAKoM,EAAEpM,IAEjB,OAAOwP,IAEKM,MAAMzT,KAAMqT,YAE5BK,EAAU1T,MAAQA,KAAK0T,QAAW,SAAU3D,EAAGrI,GAC/C,IAAIyL,EAAI,GACR,IAAK,IAAIxP,KAAKoM,EAAOa,OAAO0C,UAAUC,eAAeC,KAAKzD,EAAGpM,IAAM+D,EAAEiM,QAAQhQ,GAAK,IAC9EwP,EAAExP,GAAKoM,EAAEpM,IACb,GAAS,MAALoM,GAAqD,mBAAjCa,OAAOgD,sBACtB,KAAInR,EAAI,EAAb,IAAgBkB,EAAIiN,OAAOgD,sBAAsB7D,GAAItN,EAAIkB,EAAE9B,OAAQY,IAC3DiF,EAAEiM,QAAQhQ,EAAElB,IAAM,GAAKmO,OAAO0C,UAAUO,qBAAqBL,KAAKzD,EAAGpM,EAAElB,MACvE0Q,EAAExP,EAAElB,IAAMsN,EAAEpM,EAAElB,KAE1B,OAAO0Q,GAEXvC,OAAOC,eAAehO,EAAS,aAAc,CAAElB,OAAO,IACtD,IAAIoP,EAAQ,EAAQ,IAChB+C,EAAS,EAAQ,KAMrBjR,EAAQN,QALR,SAAyB4O,GACrB,IAAI4C,EAAK5C,EAAG3L,KAAMA,OAAc,IAAPuO,EAAgB,eAAiBA,EAAIC,EAAYN,EAAOvC,EAAI,CAAC,SACtF,OAAQJ,EAAMM,cAAcyC,EAAOvR,QAAS0Q,EAAS,GAAIe,GACrDjD,EAAMM,cAAc,OAAQ,CAAE4C,EAAG,mTAAoTvI,MAAO,CAAElG,KAAMA,Q,oBC7B5W,IAAIpD,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,iCCnBjB,IACQuR,EADJC,EAAanU,MAAQA,KAAKmU,YACtBD,EAAgB,SAAUD,EAAGG,GAI7B,OAHAF,EAAgBtD,OAAOyD,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUN,EAAGG,GAAKH,EAAEK,UAAYF,IACvE,SAAUH,EAAGG,GAAK,IAAK,IAAIzQ,KAAKyQ,EAAOA,EAAEb,eAAe5P,KAAIsQ,EAAEtQ,GAAKyQ,EAAEzQ,MACpDsQ,EAAGG,IAErB,SAAUH,EAAGG,GAEhB,SAASI,IAAOxU,KAAKyU,YAAcR,EADnCC,EAAcD,EAAGG,GAEjBH,EAAEX,UAAkB,OAANc,EAAaxD,OAAO8D,OAAON,IAAMI,EAAGlB,UAAYc,EAAEd,UAAW,IAAIkB,KAGvF5D,OAAOC,eAAehO,EAAS,aAAc,CAAElB,OAAO,IACtD,IAAImP,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,IACpB,EAAQ,KACR,IAAI4D,EAAS,SAAUC,GAEnB,SAASD,IACL,IAAIE,EAAmB,OAAXD,GAAmBA,EAAOnB,MAAMzT,KAAMqT,YAAcrT,KAOhE,OANA6U,EAAMpO,YAAc,SAAUsI,GAC1BA,EAAMpH,iBACDkN,EAAM5U,MAAM2F,UACbiP,EAAM5U,MAAM4F,QAAQgP,EAAM5U,MAAM0B,QAGjCkT,EAQX,OAjBAV,EAAUQ,EAAOC,GAWjBD,EAAMrB,UAAUnT,OAAS,WACrB,IAAIgR,EAAKnR,KAAKC,MAAOgB,EAAYkQ,EAAGlQ,UAAW0E,EAAUwL,EAAGxL,QAAS8L,EAAWN,EAAGM,SAAU7L,EAAWuL,EAAGvL,SAC3G,OAAQmL,EAAMM,cAAc,IAAK,CAAE,eAAgB1L,EAAS1E,UAAW6P,EAAW,wCAAyC7P,EAAW,CAAE2E,SAAUA,IAAawC,KAAM,IAAK7D,QAASvE,KAAKyG,YAAaqO,KAAM,SACvM/D,EAAMM,cAAc,IAAK,CAAEpQ,UAAW6P,EAAW,aAAc,eAAgB,CAAE,aAAcnL,MAC/F8L,IAEDkD,EAlBC,CAmBV5D,EAAMgE,eACRlS,EAAQN,QAAUoS,G,qBCpClB9R,EADkC,EAAQ,IAChCC,EAA4B,IAE9BC,KAAK,CAACP,EAAOC,EAAI,20BAA80B,KAEv2BD,EAAOK,QAAUA,G,iCCLjB,IAAIoQ,EAAYjT,MAAQA,KAAKiT,UAAa,WAStC,OARAA,EAAWrC,OAAOsC,QAAU,SAASC,GACjC,IAAK,IAAIpD,EAAGtN,EAAI,EAAG2Q,EAAIC,UAAUxR,OAAQY,EAAI2Q,EAAG3Q,IAE5C,IAAK,IAAIkB,KADToM,EAAIsD,UAAU5Q,GACOmO,OAAO0C,UAAUC,eAAeC,KAAKzD,EAAGpM,KACzDwP,EAAExP,GAAKoM,EAAEpM,IAEjB,OAAOwP,IAEKM,MAAMzT,KAAMqT,YAE5BK,EAAU1T,MAAQA,KAAK0T,QAAW,SAAU3D,EAAGrI,GAC/C,IAAIyL,EAAI,GACR,IAAK,IAAIxP,KAAKoM,EAAOa,OAAO0C,UAAUC,eAAeC,KAAKzD,EAAGpM,IAAM+D,EAAEiM,QAAQhQ,GAAK,IAC9EwP,EAAExP,GAAKoM,EAAEpM,IACb,GAAS,MAALoM,GAAqD,mBAAjCa,OAAOgD,sBACtB,KAAInR,EAAI,EAAb,IAAgBkB,EAAIiN,OAAOgD,sBAAsB7D,GAAItN,EAAIkB,EAAE9B,OAAQY,IAC3DiF,EAAEiM,QAAQhQ,EAAElB,IAAM,GAAKmO,OAAO0C,UAAUO,qBAAqBL,KAAKzD,EAAGpM,EAAElB,MACvE0Q,EAAExP,EAAElB,IAAMsN,EAAEpM,EAAElB,KAE1B,OAAO0Q,GAEXvC,OAAOC,eAAehO,EAAS,aAAc,CAAElB,OAAO,IACtD,IAAIoP,EAAQ,EAAQ,IAChBiE,EAAoB,EAAQ,KAC5BC,EAAqB,EAAQ,KAKjCpS,EAAQN,QAJR,SAAuB4O,GACnB,IAAIlN,EAAOkN,EAAGlN,KAAM+P,EAAYN,EAAOvC,EAAI,CAAC,SAC5C,OAAOlN,EAAO8M,EAAMM,cAAc2D,EAAkBzS,QAAS0Q,EAAS,GAAIe,IAAcjD,EAAMM,cAAc4D,EAAmB1S,QAAS0Q,EAAS,GAAIe,M,iCCVzJ,IAAkBkB,EAnBlB,kCAmBA,SAAkBA,GAChB,gBACA,wBACA,kBACA,kBAJF,CAAkBA,MAAO,M,iCClBzB,IAAIjC,EAAYjT,MAAQA,KAAKiT,UAAa,WAStC,OARAA,EAAWrC,OAAOsC,QAAU,SAASC,GACjC,IAAK,IAAIpD,EAAGtN,EAAI,EAAG2Q,EAAIC,UAAUxR,OAAQY,EAAI2Q,EAAG3Q,IAE5C,IAAK,IAAIkB,KADToM,EAAIsD,UAAU5Q,GACOmO,OAAO0C,UAAUC,eAAeC,KAAKzD,EAAGpM,KACzDwP,EAAExP,GAAKoM,EAAEpM,IAEjB,OAAOwP,IAEKM,MAAMzT,KAAMqT,YAE5BK,EAAU1T,MAAQA,KAAK0T,QAAW,SAAU3D,EAAGrI,GAC/C,IAAIyL,EAAI,GACR,IAAK,IAAIxP,KAAKoM,EAAOa,OAAO0C,UAAUC,eAAeC,KAAKzD,EAAGpM,IAAM+D,EAAEiM,QAAQhQ,GAAK,IAC9EwP,EAAExP,GAAKoM,EAAEpM,IACb,GAAS,MAALoM,GAAqD,mBAAjCa,OAAOgD,sBACtB,KAAInR,EAAI,EAAb,IAAgBkB,EAAIiN,OAAOgD,sBAAsB7D,GAAItN,EAAIkB,EAAE9B,OAAQY,IAC3DiF,EAAEiM,QAAQhQ,EAAElB,IAAM,GAAKmO,OAAO0C,UAAUO,qBAAqBL,KAAKzD,EAAGpM,EAAElB,MACvE0Q,EAAExP,EAAElB,IAAMsN,EAAEpM,EAAElB,KAE1B,OAAO0Q,GAEXvC,OAAOC,eAAehO,EAAS,aAAc,CAAElB,OAAO,IACtD,IAAIoP,EAAQ,EAAQ,IAChB+C,EAAS,EAAQ,KAMrBjR,EAAQN,QALR,SAAmB4O,GACf,IAAI4C,EAAK5C,EAAG3L,KAAMA,OAAc,IAAPuO,EAAgB,eAAiBA,EAAIC,EAAYN,EAAOvC,EAAI,CAAC,SACtF,OAAQJ,EAAMM,cAAcyC,EAAOvR,QAAS0Q,EAAS,GAAIe,GACrDjD,EAAMM,cAAc,OAAQ,CAAE4C,EAAG,qQAAsQvI,MAAO,CAAElG,KAAMA,Q,iCC7B9T,2pBAmCM,SAAU2P,IACd,OAAOC,IAA2BjS,MAAM,KAGpC,SAAUiS,IACd,OAAO,kBAAQ,sCAGX,SAAUC,EAAenR,GAC7B,OAAO,kBAAQ,yBAA0B,CAAEA,QAAO,IAC/CyF,MAAK,SAAC,GAAoB,OAAlB,EAAAmG,eACR3M,MAAM,KAGL,SAAUmS,EAA0B9R,GACxC,OAAO,eAAK,kCAAmCA,GAAML,MAAM,KAGvD,SAAUoS,EAA0B/R,GACxC,OAAO,eAAK,kCAAmCA,GAAML,MAAM,KAGvD,SAAUqS,EAAyBhS,GACvC,OAAO,eAAK,iCAAkCA,GAAML,MAAM,KAGtD,SAAUsS,EAAyBjS,GACvC,OAAO,eAAK,iCAAkCA,GAAML,MAAM,KAGtD,SAAUuS,EAA6BlS,GAC3C,OAAO,eAAK,qCAAsCA,GAAML,MAAM,KAG1D,SAAUwS,EACdnS,GAEA,OAAO,eAAK,qCAAsCA,GAAML,MAAM,KAG1D,SAAUyS,EAA0BpS,GACxC,OAAO,eAAK,kCAAmCA,GAAML,MAAM,KAGvD,SAAU0S,EAA0BrS,GACxC,OAAO,eAAK,kCAAmCA,GAAML,MAAM,KAGvD,SAAU2S,EAAoBtR,GAClC,OAAO,eAAK,2BAA4B,CAAEA,IAAG,IAAIrB,MAAM,KAGnD,SAAU4S,EAAoB9S,GAClC,OAAO,kBAAQ,kCAAmC,CAAEA,WAAU,IAC3D0G,MAAK,SAAC,GAAiB,OAAf,EAAA1D,YACR9C,MAAM,KAGL,SAAU6S,EAAqB9R,GACnC,OAAO,kBAAQ,gCAAiC,CAAEA,QAAO,IAGrD,SAAU+R,EAAwB/R,GACtC,OAAO,eAAK,mCAAoC,CAAEA,QAAO,IAAIf,MAAM,KAG/D,SAAU+S,EAAuB1S,GACrC,OAAO,eAAK,sCAAuCA,GAAML,MAAM,KAG3D,SAAUgT,EAA2B3S,GACzC,OAAO,eAAK,0CAA2CA,GAAML,MAAM,KAG/D,SAAUiT,EAAwB5S,GACtC,OAAO,eAAK,uCAAwCA,GAAML,MAAM,KAG5D,SAAUkT,EAAwB7S,GACtC,OAAO,eAAK,uCAAwCA,GAAML,MAAM,O,iCCjHlEyN,OAAOC,eAAehO,EAAS,aAAc,CAAElB,OAAO,IACtD,IAAIoP,EAAQ,EAAQ,IAChBuF,EAAmB,EAAQ,KAC3BC,EAAqB,EAAQ,KAC7BC,EAAgB,EAAQ,KAgB5B3T,EAAQN,QAfR,SAAyBtC,GACrB,IAAIwW,EAAWxW,EAAMa,gBAA6BC,IAAhBd,EAAMM,MACxC,OAAQwQ,EAAMM,cAAc,MAAO,CAAEpQ,UAAWhB,EAAMgB,WAClD8P,EAAMM,cAAc,QAAS,CAAEqF,QAASzW,EAAMkB,IAC1C4P,EAAMM,cAAc,OAAQ,CAAEpQ,UAAW,eACrC8P,EAAMM,cAAc,SAAU,KAAMpR,EAAMQ,OAC1CR,EAAMmB,UAAY2P,EAAMM,cAAc,KAAM,CAAEpQ,UAAW,aAAe,MAC5EhB,EAAMO,MAAQuQ,EAAMM,cAAcmF,EAAcjU,QAAS,CAAEtB,UAAW,cAAe2K,QAAS3L,EAAMO,QACxGuQ,EAAMM,cAAc,MAAO,CAAEpQ,UAAW,mCACpChB,EAAMwR,SACNxR,EAAMa,WAAaiQ,EAAMM,cAAciF,EAAiB/T,QAAS,CAAEtB,UAAW,4BAC9EwV,GAAa1F,EAAMM,cAAc,OAAQ,CAAEpQ,UAAW,8CAAgDhB,EAAMM,OAC5GN,EAAMe,SAAW+P,EAAMM,cAAckF,EAAmBhU,QAAS,CAAEtB,UAAW,6BAClFhB,EAAMiB,aAAe6P,EAAMM,cAAc,MAAO,CAAEpQ,UAAW,sBAAwBhB,EAAMiB,gB,iCClBnG,IACQgT,EADJC,EAAanU,MAAQA,KAAKmU,YACtBD,EAAgB,SAAUD,EAAGG,GAI7B,OAHAF,EAAgBtD,OAAOyD,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUN,EAAGG,GAAKH,EAAEK,UAAYF,IACvE,SAAUH,EAAGG,GAAK,IAAK,IAAIzQ,KAAKyQ,EAAOA,EAAEb,eAAe5P,KAAIsQ,EAAEtQ,GAAKyQ,EAAEzQ,MACpDsQ,EAAGG,IAErB,SAAUH,EAAGG,GAEhB,SAASI,IAAOxU,KAAKyU,YAAcR,EADnCC,EAAcD,EAAGG,GAEjBH,EAAEX,UAAkB,OAANc,EAAaxD,OAAO8D,OAAON,IAAMI,EAAGlB,UAAYc,EAAEd,UAAW,IAAIkB,KAGvF5D,OAAOC,eAAehO,EAAS,aAAc,CAAElB,OAAO,IACtD,IAAImP,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,IAChB4F,EAAkB,EAAQ,KAC1BC,EAAuB,SAAUhC,GAEjC,SAASgC,IACL,IAAI/B,EAAmB,OAAXD,GAAmBA,EAAOnB,MAAMzT,KAAMqT,YAAcrT,KAWhE,OAVA6U,EAAMhK,MAAQ,CAAEgM,eAAe,GAC/BhC,EAAMpO,YAAc,WAChBoO,EAAM5U,MAAMsE,QAAQsQ,EAAM5U,MAAMuD,OAEpCqR,EAAMiC,cAAgB,WAClBjC,EAAMvL,SAAS,CAAEuN,eAAe,KAEpChC,EAAMkC,cAAgB,WAClBlC,EAAMvL,SAAS,CAAEuN,eAAe,KAE7BhC,EAcX,OA3BAV,EAAUyC,EAAqBhC,GAe/BgC,EAAoBtD,UAAUnT,OAAS,WACnC,IAAIgR,EAAKnR,KAAKC,MAAOgB,EAAYkQ,EAAGlQ,UAAWgD,EAAOkN,EAAGlN,KAAM+S,EAAe7F,EAAG6F,aAAcvS,EAAQ0M,EAAG1M,MAC1G,OAAQsM,EAAMM,cAAc,MAAO,CAAEpQ,UAAW6P,EAAW,oCAAqC7P,EAAW,CACnG,WAAYjB,KAAK6K,MAAMgM,iBAE3B9F,EAAMM,cAAc,MAAO,CAAEpQ,UAAW,qBAAsBsD,QAASvE,KAAKyG,YAAaqO,KAAM,YAC3F/D,EAAMM,cAAc,OAAQ,CAAEpQ,UAAW,+BACrC8P,EAAMM,cAAcsF,EAAgBpU,QAAS,CAAEtB,UAAW,sBAAuBgD,KAAMA,IACvFQ,GACJuS,GAAgBA,KACpB/S,GAAS8M,EAAMM,cAAc,MAAO,CAAEpQ,UAAW,oBAAqBgW,aAAcjX,KAAK8W,cAAeI,aAAclX,KAAK+W,eAAiB/W,KAAKC,MAAMwR,YAExJmF,EA5Be,CA6BxB7F,EAAMgE,eACRlS,EAAQN,QAAUqU,G,iCC/ClB,IACQ1C,EADJC,EAAanU,MAAQA,KAAKmU,YACtBD,EAAgB,SAAUD,EAAGG,GAI7B,OAHAF,EAAgBtD,OAAOyD,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUN,EAAGG,GAAKH,EAAEK,UAAYF,IACvE,SAAUH,EAAGG,GAAK,IAAK,IAAIzQ,KAAKyQ,EAAOA,EAAEb,eAAe5P,KAAIsQ,EAAEtQ,GAAKyQ,EAAEzQ,MACpDsQ,EAAGG,IAErB,SAAUH,EAAGG,GAEhB,SAASI,IAAOxU,KAAKyU,YAAcR,EADnCC,EAAcD,EAAGG,GAEjBH,EAAEX,UAAkB,OAANc,EAAaxD,OAAO8D,OAAON,IAAMI,EAAGlB,UAAYc,EAAEd,UAAW,IAAIkB,KAGvF5D,OAAOC,eAAehO,EAAS,aAAc,CAAElB,OAAO,IACtD,IAAIwV,EAAW,EAAQ,KACnBpG,EAAQ,EAAQ,IAChBe,EAAS,EAAQ,KACjBsF,EAAW,EAAQ,KACnBC,EAAgB,SAAUzC,GAE1B,SAASyC,EAAapX,GAClB,IAAI4U,EAAQD,EAAOpB,KAAKxT,KAAMC,IAAUD,KAwCxC,OAvCA6U,EAAMzL,SAAU,EAChByL,EAAMnK,aAAe,SAAU9G,GAC3B,IAAI0T,EAAe1T,EACnBiR,EAAM5U,MAAMkH,SAASmQ,GAAc3N,MAAK,SAAUjH,GAC1CmS,EAAMzL,SACNyL,EAAMvL,UAAS,SAAUuB,GAAS,MAAO,CACrC5D,SAAS,EACTvE,QAASmI,EAAMjH,QAAU0T,EAAe5U,EAAUmI,EAAMnI,eAGjE,WACKmS,EAAMzL,SACNyL,EAAMvL,SAAS,CAAErC,SAAS,QAItC4N,EAAM0C,aAAe,SAAUC,GACvBjD,MAAMkD,QAAQD,GACV3C,EAAM5U,MAAMyX,eACZ7C,EAAM5U,MAAMyX,cAAcF,GAGzB3C,EAAM5U,MAAMuM,UACjBqI,EAAM5U,MAAMuM,SAASgL,IAG7B3C,EAAM8C,kBAAoB,SAAU/T,GAChC,GAAIA,EAAM/B,QAAUgT,EAAMtI,mBACtBsI,EAAMvL,SAAS,CAAErC,SAAS,EAAMrD,MAAOA,IACvCiR,EAAMnK,aAAa9G,OAElB,CACD,IAAIlB,EAA4B,IAAjBkB,EAAM/B,QAAgBgT,EAAM5U,MAAMqM,gBAAmB,GACpEuI,EAAMvL,SAAS,CAAE5G,QAASA,EAASkB,MAAOA,MAGlDiR,EAAM+C,mBAAqB,WAAc,OAAO,GAChD/C,EAAMhK,MAAQ,CAAE5D,SAAS,EAAOvE,QAASzC,EAAMqM,gBAAkB,GAAI1I,MAAO,IAC5EiR,EAAMnK,aAAeyM,EAASU,SAAShD,EAAMnK,aAAc,KACpDmK,EAmCX,OA7EAV,EAAUkD,EAAczC,GA4CxByC,EAAa/D,UAAUvT,kBAAoB,WACvCC,KAAKoJ,SAAU,GAEnBiO,EAAa/D,UAAUrI,qBAAuB,WAC1CjL,KAAKoJ,SAAU,GAEnBwH,OAAOC,eAAewG,EAAa/D,UAAW,YAAa,CACvDxL,IAAK,WACD,YAAgC/G,IAAzBf,KAAKC,MAAM6X,WAA0B9X,KAAKC,MAAM6X,WAE3DC,YAAY,EACZC,cAAc,IAElBpH,OAAOC,eAAewG,EAAa/D,UAAW,qBAAsB,CAChExL,IAAK,WACD,YAAyC/G,IAAlCf,KAAKC,MAAMsM,mBAAmCvM,KAAKC,MAAMsM,mBAAqB,GAEzFwL,YAAY,EACZC,cAAc,IAElBpH,OAAOC,eAAewG,EAAa/D,UAAW,cAAe,CACzDxL,IAAK,WACD,YAAkC/G,IAA3Bf,KAAKC,MAAMgY,aAA4BjY,KAAKC,MAAMgY,aAE7DF,YAAY,EACZC,cAAc,IAElBX,EAAa/D,UAAUnT,OAAS,WAC5B,IAAI+X,EAAYlY,KAAKC,MAAMkY,UAAYf,EAASgB,UAAYhB,EAAS7U,QACrE,OAAQwO,EAAMM,cAAc6G,EAAW,CAAE7W,UAAWrB,KAAK8X,UAAW7W,UAAWjB,KAAKC,MAAMgB,UAAWoX,UAAWrY,KAAKC,MAAMoY,UAAWC,mBAAmB,EAAOC,aAAcvY,KAAK4X,mBAAoBY,UAAWxY,KAAK6K,MAAM5D,QAASwR,MAAOzY,KAAKC,MAAMwY,MAAOC,cAAe1Y,KAAK6K,MAAMjH,MAAM/B,OAAS7B,KAAKuM,mBACnSuF,EAAOW,wBAAwB,mBAAoBzS,KAAKuM,oBACxDuF,EAAOU,UAAU,qBAAsBmG,kBAAmB3Y,KAAKiY,YAAazW,SAAUxB,KAAKuX,aAAcqB,cAAe5Y,KAAK2X,kBAAmBkB,eAAgB7Y,KAAKC,MAAM6Y,aAAcpW,QAAS1C,KAAK6K,MAAMnI,QAAShC,YAAaoR,EAAOU,UAAU,eAAgBuG,kBAAmB/Y,KAAKC,MAAM8Y,kBAAmBC,YAAY,EAAMrX,MAAO3B,KAAKC,MAAM0B,MAAOsX,cAAejZ,KAAKC,MAAM6Y,gBAEjYzB,EA9EQ,CA+EjBtG,EAAMgE,eACRlS,EAAQN,QAAU8U","file":"js/297.1593679646964.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const ALM_INTEGRATION = 'almintegration';\nexport const ANALYSIS_SCOPE_CATEGORY = 'exclusions';\nexport const LANGUAGES_CATEGORY = 'languages';\nexport const NEW_CODE_PERIOD_CATEGORY = 'new_code_period';\nexport const PULL_REQUEST_DECORATION_BINDING_CATEGORY = 'pull_request_decoration_binding';\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport handleRequiredAuthentication from 'sonar-ui-common/helpers/handleRequiredAuthentication';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getWrappedDisplayName } from './utils';\nimport { withCurrentUser } from './withCurrentUser';\n\nexport function whenLoggedIn<P>(WrappedComponent: React.ComponentType<P>) {\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'whenLoggedIn');\n\n    componentDidMount() {\n      if (!isLoggedIn(this.props.currentUser)) {\n        handleRequiredAuthentication();\n      }\n    }\n\n    render() {\n      if (isLoggedIn(this.props.currentUser)) {\n        return <WrappedComponent {...this.props} />;\n      } else {\n        return null;\n      }\n    }\n  }\n\n  return withCurrentUser(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport ValidationInput from 'sonar-ui-common/components/controls/ValidationInput';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { PROJECT_KEY_MAX_LEN } from '../../helpers/constants';\n\nexport interface ProjectKeyInputProps {\n  error?: string;\n  help?: string;\n  label?: string;\n  onProjectKeyChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  placeholder?: string;\n  projectKey?: string;\n  touched: boolean;\n  validating?: boolean;\n}\n\nexport default function ProjectKeyInput(props: ProjectKeyInputProps) {\n  const { error, help, label, placeholder, projectKey, touched, validating } = props;\n\n  const isInvalid = touched && error !== undefined;\n  const isValid = touched && !validating && error === undefined;\n\n  return (\n    <ValidationInput\n      className=\"form-field\"\n      description={translate('onboarding.create_project.project_key.description')}\n      error={error}\n      help={help}\n      id=\"project-key\"\n      isInvalid={isInvalid}\n      isValid={isValid}\n      label={label}\n      required={label !== undefined}>\n      <input\n        autoFocus={true}\n        className={classNames('input-super-large', {\n          'is-invalid': isInvalid,\n          'is-valid': isValid\n        })}\n        id=\"project-key\"\n        maxLength={PROJECT_KEY_MAX_LEN}\n        minLength={1}\n        onChange={props.onProjectKeyChange}\n        placeholder={placeholder}\n        type=\"text\"\n        value={projectKey}\n      />\n    </ValidationInput>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { ProjectKeyValidationResult } from '../types/component';\nimport { PROJECT_KEY_MAX_LEN } from './constants';\n\nexport function validateProjectKey(projectKey: string): ProjectKeyValidationResult {\n  // This is the regex used on the backend:\n  //   [\\p{Alnum}\\-_.:]*[\\p{Alpha}\\-_.:]+[\\p{Alnum}\\-_.:]*\n  // See sonar-core/src/main/java/org/sonar/core/component/ComponentKeys.java\n  const regex = /^[\\w\\-.:]*[a-z\\-_.:]+[\\w\\-.:]*$/i;\n  if (projectKey.length === 0) {\n    return ProjectKeyValidationResult.Empty;\n  } else if (projectKey.length > PROJECT_KEY_MAX_LEN) {\n    return ProjectKeyValidationResult.TooLong;\n  } else if (regex.test(projectKey)) {\n    return ProjectKeyValidationResult.Valid;\n  } else {\n    return /^[0-9]+$/.test(projectKey)\n      ? ProjectKeyValidationResult.OnlyDigits\n      : ProjectKeyValidationResult.InvalidChar;\n  }\n}\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ManualProjectCreate.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".manual-project-create{max-width:700px}.manual-project-create .button{margin-top:8px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#create-project{padding-top:0!important}#create-project header{padding-top:20px;background-color:#f3f3f3;position:-webkit-sticky;position:sticky;top:48px;z-index:50}.create-project-manual{display:flex!important;justify-content:space-between}.create-project-import-bbs .open .boxed-group-header{border-bottom:1px solid #e6e6e6}.create-project-import-bbs .boxed-group-inner{padding-top:24px}.create-project-import-bbs-repo{width:250px;min-height:40px}.create-project-github-repository{box-sizing:border-box;width:33.33%}.create-project-github-repository .notice{display:block;position:absolute}.create-project-github-repository .notice svg{color:#0a0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { get, getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport {\n  BitbucketProject,\n  BitbucketRepository,\n  GithubOrganization,\n  GithubRepository\n} from '../types/alm-integration';\nimport { ProjectBase } from './components';\n\nexport function setAlmPersonalAccessToken(almSetting: string, pat: string): Promise<void> {\n  return post('/api/alm_integrations/set_pat', { almSetting, pat }).catch(throwGlobalError);\n}\n\nexport function checkPersonalAccessTokenIsValid(almSetting: string): Promise<boolean> {\n  return get('/api/alm_integrations/check_pat', { almSetting })\n    .then(() => true)\n    .catch((response: Response) => {\n      if (response.status === 400) {\n        return false;\n      } else {\n        return throwGlobalError(response);\n      }\n    });\n}\n\nexport function getBitbucketServerProjects(\n  almSetting: string\n): Promise<{ projects: BitbucketProject[] }> {\n  return getJSON('/api/alm_integrations/list_bitbucketserver_projects', { almSetting });\n}\n\nexport function getBitbucketServerRepositories(\n  almSetting: string,\n  projectName: string\n): Promise<{\n  isLastPage: boolean;\n  repositories: BitbucketRepository[];\n}> {\n  return getJSON('/api/alm_integrations/search_bitbucketserver_repos', {\n    almSetting,\n    projectName\n  });\n}\n\nexport function importBitbucketServerProject(\n  almSetting: string,\n  projectKey: string,\n  repositorySlug: string\n): Promise<{ project: ProjectBase }> {\n  return postJSON('/api/alm_integrations/import_bitbucketserver_project', {\n    almSetting,\n    projectKey,\n    repositorySlug\n  }).catch(throwGlobalError);\n}\n\nexport function searchForBitbucketServerRepositories(\n  almSetting: string,\n  repositoryName: string\n): Promise<{\n  isLastPage: boolean;\n  repositories: BitbucketRepository[];\n}> {\n  return getJSON('/api/alm_integrations/search_bitbucketserver_repos', {\n    almSetting,\n    repositoryName\n  });\n}\n\nexport function getGithubClientId(almSetting: string): Promise<{ clientId?: string }> {\n  return getJSON('/api/alm_integrations/get_github_client_id', { almSetting });\n}\n\nexport function importGithubRepository(\n  almSetting: string,\n  organization: string,\n  repositoryKey: string\n): Promise<{ project: ProjectBase }> {\n  return postJSON('/api/alm_integrations/import_github_project', {\n    almSetting,\n    organization,\n    repositoryKey\n  }).catch(throwGlobalError);\n}\n\nexport function getGithubOrganizations(\n  almSetting: string,\n  token: string\n): Promise<{ organizations: GithubOrganization[] }> {\n  return getJSON('/api/alm_integrations/list_github_organizations', {\n    almSetting,\n    token\n  }).catch((response?: Response) => {\n    if (response && response.status !== 400) {\n      throwGlobalError(response);\n    }\n  });\n}\n\nexport function getGithubRepositories(data: {\n  almSetting: string;\n  organization: string;\n  ps: number;\n  p?: number;\n  query?: string;\n}): Promise<{ repositories: GithubRepository[]; paging: T.Paging }> {\n  const { almSetting, organization, ps, p = 1, query } = data;\n  return getJSON('/api/alm_integrations/list_github_repositories', {\n    almSetting,\n    organization,\n    p,\n    ps,\n    q: query || undefined\n  }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum CreateProjectModes {\n  Manual = 'manual',\n  BitbucketServer = 'bitbucket',\n  GitHub = 'github'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport BoxedGroupAccordion from 'sonar-ui-common/components/controls/BoxedGroupAccordion';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport CheckIcon from 'sonar-ui-common/components/icons/CheckIcon';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { colors } from '../../../app/theme';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BitbucketProject, BitbucketRepository } from '../../../types/alm-integration';\nimport { CreateProjectModes } from './types';\n\nexport interface BitbucketProjectAccordionProps {\n  disableRepositories: boolean;\n  onClick?: () => void;\n  onSelectRepository: (repo: BitbucketRepository) => void;\n  open: boolean;\n  project: BitbucketProject;\n  repositories: BitbucketRepository[];\n  selectedRepository?: BitbucketRepository;\n  showingAllRepositories: boolean;\n}\n\nexport default function BitbucketProjectAccordion(props: BitbucketProjectAccordionProps) {\n  const {\n    disableRepositories,\n    open,\n    project,\n    repositories,\n    selectedRepository,\n    showingAllRepositories\n  } = props;\n\n  const repositoryCount = repositories.length;\n\n  return (\n    <BoxedGroupAccordion\n      className={classNames('big-spacer-bottom', {\n        open,\n        'not-clickable': !props.onClick,\n        'no-hover': !props.onClick\n      })}\n      key={project.key}\n      onClick={\n        props.onClick\n          ? props.onClick\n          : () => {\n              /* noop */\n            }\n      }\n      open={open}\n      title={<h3>{project.name}</h3>}>\n      {open && (\n        <div className=\"display-flex-wrap\">\n          {repositoryCount === 0 && (\n            <Alert variant=\"warning\">\n              <FormattedMessage\n                defaultMessage={translate('onboarding.create_project.no_bbs_repos')}\n                id=\"onboarding.create_project.no_bbs_repos\"\n                values={{\n                  link: (\n                    <Link\n                      to={{\n                        pathname: '/projects/create',\n                        query: { mode: CreateProjectModes.BitbucketServer, resetPat: 1 }\n                      }}>\n                      {translate('onboarding.create_project.update_your_token')}\n                    </Link>\n                  )\n                }}\n              />\n            </Alert>\n          )}\n\n          {repositories.map(repo =>\n            repo.sqProjectKey ? (\n              <div\n                className=\"display-flex-start spacer-right spacer-bottom create-project-import-bbs-repo\"\n                key={repo.id}>\n                <CheckIcon className=\"spacer-right\" fill={colors.green} size={14} />\n                <div className=\"overflow-hidden\">\n                  <div className=\"little-spacer-bottom text-ellipsis\">\n                    <strong title={repo.name}>\n                      <Link to={getProjectUrl(repo.sqProjectKey)}>{repo.name}</Link>\n                    </strong>\n                  </div>\n                  <em>{translate('onboarding.create_project.repository_imported')}</em>\n                </div>\n              </div>\n            ) : (\n              <Radio\n                checked={selectedRepository?.id === repo.id}\n                className={classNames(\n                  'display-flex-start spacer-right spacer-bottom create-project-import-bbs-repo overflow-hidden',\n                  {\n                    disabled: disableRepositories,\n                    'text-muted': disableRepositories,\n                    'link-no-underline': disableRepositories\n                  }\n                )}\n                key={repo.id}\n                onCheck={() => props.onSelectRepository(repo)}\n                value={String(repo.id)}>\n                <strong className=\"text-ellipsis\" title={repo.name}>\n                  {repo.name}\n                </strong>\n              </Radio>\n            )\n          )}\n\n          {!showingAllRepositories && repositoryCount > 0 && (\n            <Alert variant=\"warning\">\n              {translateWithParameters(\n                'onboarding.create_project.only_showing_X_first_repos',\n                repositoryCount\n              )}\n            </Alert>\n          )}\n        </div>\n      )}\n    </BoxedGroupAccordion>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq, without } from 'lodash';\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  BitbucketProject,\n  BitbucketProjectRepositories,\n  BitbucketRepository\n} from '../../../types/alm-integration';\nimport BitbucketProjectAccordion from './BitbucketProjectAccordion';\n\nexport interface BitbucketRepositoriesProps {\n  disableRepositories: boolean;\n  onSelectRepository: (repo: BitbucketRepository) => void;\n  projects: BitbucketProject[];\n  projectRepositories: BitbucketProjectRepositories;\n  selectedRepository?: BitbucketRepository;\n}\n\nexport default function BitbucketRepositories(props: BitbucketRepositoriesProps) {\n  const { disableRepositories, projects, projectRepositories, selectedRepository } = props;\n\n  const [openProjectKeys, setOpenProjectKeys] = React.useState(\n    projects.length > 0 ? [projects[0].key] : []\n  );\n\n  const allAreExpanded = projects.length <= openProjectKeys.length;\n\n  const handleClick = (isOpen: boolean, projectKey: string) => {\n    setOpenProjectKeys(\n      isOpen ? without(openProjectKeys, projectKey) : uniq([...openProjectKeys, projectKey])\n    );\n  };\n\n  return (\n    <>\n      <div className=\"overflow-hidden spacer-bottom\">\n        <ButtonLink\n          className=\"pull-right\"\n          onClick={() => setOpenProjectKeys(allAreExpanded ? [] : projects.map(p => p.key))}>\n          {allAreExpanded ? translate('collapse_all') : translate('expand_all')}\n        </ButtonLink>\n      </div>\n\n      {projects.map(project => {\n        const isOpen = openProjectKeys.includes(project.key);\n        const { allShown, repositories = [] } = projectRepositories[project.key] || {};\n\n        return (\n          <BitbucketProjectAccordion\n            disableRepositories={disableRepositories}\n            key={project.key}\n            onClick={() => handleClick(isOpen, project.key)}\n            onSelectRepository={props.onSelectRepository}\n            open={isOpen}\n            project={project}\n            repositories={repositories}\n            selectedRepository={selectedRepository}\n            showingAllRepositories={allShown}\n          />\n        );\n      })}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { BitbucketProject, BitbucketRepository } from '../../../types/alm-integration';\nimport BitbucketProjectAccordion from './BitbucketProjectAccordion';\n\nexport interface BitbucketSearchResultsProps {\n  disableRepositories: boolean;\n  onSelectRepository: (repo: BitbucketRepository) => void;\n  projects: BitbucketProject[];\n  searching: boolean;\n  searchResults?: BitbucketRepository[];\n  selectedRepository?: BitbucketRepository;\n}\n\nexport default function BitbucketSearchResults(props: BitbucketSearchResultsProps) {\n  const {\n    disableRepositories,\n    projects,\n    searching,\n    searchResults = [],\n    selectedRepository\n  } = props;\n\n  const filteredProjects = uniq(\n    searchResults.map(r => projects.find(p => p.key === r.projectKey)).filter(isDefined)\n  );\n\n  return filteredProjects.length === 0 && !searching ? (\n    <Alert className=\"big-spacer-top\" variant=\"warning\">\n      {translate('onboarding.create_project.no_bbs_repos.filter')}\n    </Alert>\n  ) : (\n    <div className=\"big-spacer-top\">\n      <DeferredSpinner loading={searching}>\n        {filteredProjects.map(project => {\n          const repositories = searchResults.filter(r => r.projectKey === project.key);\n\n          return (\n            <BitbucketProjectAccordion\n              disableRepositories={disableRepositories}\n              key={project.key}\n              onSelectRepository={props.onSelectRepository}\n              open={true}\n              project={project}\n              repositories={repositories}\n              selectedRepository={selectedRepository}\n              showingAllRepositories={true}\n            />\n          );\n        })}\n      </DeferredSpinner>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  BitbucketProject,\n  BitbucketProjectRepositories,\n  BitbucketRepository\n} from '../../../types/alm-integration';\nimport BitbucketRepositories from './BitbucketRepositories';\nimport BitbucketSearchResults from './BitbucketSearchResults';\nimport { CreateProjectModes } from './types';\n\nexport interface BitbucketImportRepositoryFormProps {\n  disableRepositories: boolean;\n  onSearch: (query: string) => void;\n  onSelectRepository: (repo: BitbucketRepository) => void;\n  projects?: BitbucketProject[];\n  projectRepositories?: BitbucketProjectRepositories;\n  searching: boolean;\n  searchResults?: BitbucketRepository[];\n  selectedRepository?: BitbucketRepository;\n}\n\nexport default function BitbucketImportRepositoryForm(props: BitbucketImportRepositoryFormProps) {\n  const {\n    disableRepositories,\n    projects = [],\n    projectRepositories = {},\n    searchResults,\n    searching,\n    selectedRepository\n  } = props;\n\n  if (projects.length === 0) {\n    return (\n      <Alert className=\"spacer-top\" variant=\"warning\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.create_project.no_bbs_projects')}\n          id=\"onboarding.create_project.no_bbs_projects\"\n          values={{\n            link: (\n              <Link\n                to={{\n                  pathname: '/projects/create',\n                  query: { mode: CreateProjectModes.BitbucketServer, resetPat: 1 }\n                }}>\n                {translate('onboarding.create_project.update_your_token')}\n              </Link>\n            )\n          }}\n        />\n      </Alert>\n    );\n  }\n\n  return (\n    <div className=\"create-project-import-bbs\">\n      <SearchBox\n        onChange={props.onSearch}\n        placeholder={translate('onboarding.create_project.search_repositories_by_name')}\n      />\n\n      {searching || searchResults ? (\n        <BitbucketSearchResults\n          disableRepositories={disableRepositories}\n          onSelectRepository={props.onSelectRepository}\n          projects={projects}\n          searchResults={searchResults}\n          searching={searching}\n          selectedRepository={selectedRepository}\n        />\n      ) : (\n        <BitbucketRepositories\n          disableRepositories={disableRepositories}\n          onSelectRepository={props.onSelectRepository}\n          projectRepositories={projectRepositories}\n          projects={projects}\n          selectedRepository={selectedRepository}\n        />\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport ValidationInput from 'sonar-ui-common/components/controls/ValidationInput';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { AlmSettingsInstance } from '../../../types/alm-settings';\n\nexport interface BitbucketPersonalAccessTokenFormProps {\n  bitbucketSetting: AlmSettingsInstance;\n  onPersonalAccessTokenCreate: (token: string) => void;\n  submitting?: boolean;\n  validationFailed: boolean;\n}\n\nexport default function BitbucketPersonalAccessTokenForm(\n  props: BitbucketPersonalAccessTokenFormProps\n) {\n  const {\n    bitbucketSetting: { url },\n    submitting = false,\n    validationFailed\n  } = props;\n  const [touched, setTouched] = React.useState(false);\n\n  React.useEffect(() => {\n    setTouched(false);\n  }, [submitting]);\n\n  const isInvalid = validationFailed && !touched;\n\n  return (\n    <div className=\"display-flex-start\">\n      <form\n        onSubmit={(e: React.SyntheticEvent<HTMLFormElement>) => {\n          e.preventDefault();\n          const value = new FormData(e.currentTarget).get('personal_access_token') as string;\n          props.onPersonalAccessTokenCreate(value);\n        }}>\n        <h2 className=\"big\">{translate('onboarding.create_project.grant_access_to_bbs.title')}</h2>\n        <p className=\"big-spacer-top big-spacer-bottom\">\n          {translate('onboarding.create_project.grant_access_to_bbs.help')}\n        </p>\n\n        <ValidationInput\n          error={isInvalid ? translate('onboarding.create_project.pat_incorrect') : undefined}\n          id=\"personal_access_token\"\n          isInvalid={isInvalid}\n          isValid={false}\n          label={translate('onboarding.create_project.enter_pat')}\n          required={true}>\n          <input\n            autoFocus={true}\n            className={classNames('input-super-large', {\n              'is-invalid': isInvalid\n            })}\n            id=\"personal_access_token\"\n            minLength={1}\n            name=\"personal_access_token\"\n            onChange={() => {\n              setTouched(true);\n            }}\n            type=\"text\"\n          />\n        </ValidationInput>\n\n        <SubmitButton disabled={isInvalid || submitting || !touched}>\n          {translate('save')}\n        </SubmitButton>\n        <DeferredSpinner className=\"spacer-left\" loading={submitting} />\n      </form>\n\n      <Alert className=\"big-spacer-left big-spacer-top\" display=\"block\" variant=\"info\">\n        <h3>{translate('onboarding.create_project.pat_help.title')}</h3>\n\n        <p className=\"big-spacer-top big-spacer-bottom\">\n          {translate('onboarding.create_project.pat_help.bbs_help_1')}\n        </p>\n\n        {url && (\n          <div className=\"text-middle\">\n            <img\n              alt=\"\" // Should be ignored by screen readers\n              className=\"spacer-right\"\n              height=\"16\"\n              src={`${getBaseUrl()}/images/alm/bitbucket.svg`}\n            />\n            <a\n              href={`${url.replace(/\\/$/, '')}/plugins/servlet/access-tokens/add`}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\">\n              {translate('onboarding.create_project.pat_help.link')}\n            </a>\n          </div>\n        )}\n\n        <p className=\"big-spacer-top big-spacer-bottom\">\n          {translate('onboarding.create_project.pat_help.bbs_help_2')}\n        </p>\n\n        <ul>\n          <li>\n            <FormattedMessage\n              defaultMessage={translate(\n                'onboarding.create_project.pat_help.bbs_permission_projects'\n              )}\n              id=\"onboarding.create_project.pat_help.bbs_permission_projects\"\n              values={{\n                perm: (\n                  <strong>{translate('onboarding.create_project.pat_help.read_permission')}</strong>\n                )\n              }}\n            />\n          </li>\n          <li>\n            <FormattedMessage\n              defaultMessage={translate('onboarding.create_project.pat_help.bbs_permission_repos')}\n              id=\"onboarding.create_project.pat_help.bbs_permission_repos\"\n              values={{\n                perm: (\n                  <strong>{translate('onboarding.create_project.pat_help.read_permission')}</strong>\n                )\n              }}\n            />\n          </li>\n        </ul>\n      </Alert>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport interface CreateProjectPageHeaderProps {\n  additionalActions?: React.ReactNode;\n  title: React.ReactNode;\n}\n\nexport default function CreateProjectPageHeader(props: CreateProjectPageHeaderProps) {\n  const { additionalActions, title } = props;\n\n  return (\n    <header className=\"huge-spacer-bottom bordered-bottom overflow-hidden\">\n      <h1 className=\"pull-left huge big-spacer-bottom\">{title}</h1>\n\n      {additionalActions}\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport {\n  BitbucketProject,\n  BitbucketProjectRepositories,\n  BitbucketRepository\n} from '../../../types/alm-integration';\nimport { AlmSettingsInstance } from '../../../types/alm-settings';\nimport { ALM_INTEGRATION } from '../../settings/components/AdditionalCategoryKeys';\nimport BitbucketImportRepositoryForm from './BitbucketImportRepositoryForm';\nimport BitbucketPersonalAccessTokenForm from './BitbucketPersonalAccessTokenForm';\nimport CreateProjectPageHeader from './CreateProjectPageHeader';\n\nexport interface BitbucketProjectCreateRendererProps {\n  bitbucketSetting?: AlmSettingsInstance;\n  canAdmin?: boolean;\n  importing: boolean;\n  loading: boolean;\n  onImportRepository: () => void;\n  onSearch: (query: string) => void;\n  onSelectRepository: (repo: BitbucketRepository) => void;\n  onPersonalAccessTokenCreate: (token: string) => void;\n  onProjectCreate: (projectKeys: string[]) => void;\n  projects?: BitbucketProject[];\n  projectRepositories?: BitbucketProjectRepositories;\n  searching: boolean;\n  searchResults?: BitbucketRepository[];\n  selectedRepository?: BitbucketRepository;\n  showPersonalAccessTokenForm?: boolean;\n  submittingToken?: boolean;\n  tokenValidationFailed: boolean;\n}\n\nexport default function BitbucketProjectCreateRenderer(props: BitbucketProjectCreateRendererProps) {\n  const {\n    bitbucketSetting,\n    canAdmin,\n    importing,\n    loading,\n    projects,\n    projectRepositories,\n    selectedRepository,\n    searching,\n    searchResults,\n    showPersonalAccessTokenForm,\n    submittingToken,\n    tokenValidationFailed\n  } = props;\n\n  return (\n    <>\n      <CreateProjectPageHeader\n        additionalActions={\n          !showPersonalAccessTokenForm && (\n            <div className=\"display-flex-center pull-right\">\n              <DeferredSpinner className=\"spacer-right\" loading={importing} />\n              <Button\n                className=\"button-large button-primary\"\n                disabled={!selectedRepository || importing}\n                onClick={props.onImportRepository}>\n                {translate('onboarding.create_project.import_selected_repo')}\n              </Button>\n            </div>\n          )\n        }\n        title={\n          <span className=\"text-middle\">\n            <img\n              alt=\"\" // Should be ignored by screen readers\n              className=\"spacer-right\"\n              height=\"24\"\n              src={`${getBaseUrl()}/images/alm/bitbucket.svg`}\n            />\n            {translate('onboarding.create_project.from_bbs')}\n          </span>\n        }\n      />\n\n      {loading && <i className=\"spinner\" />}\n\n      {!loading && !bitbucketSetting && (\n        <Alert variant=\"error\">\n          {canAdmin ? (\n            <FormattedMessage\n              defaultMessage={translate('onboarding.create_project.no_bbs_binding.admin')}\n              id=\"onboarding.create_project.no_bbs_binding.admin\"\n              values={{\n                url: (\n                  <Link\n                    to={{\n                      pathname: '/admin/settings',\n                      query: { category: ALM_INTEGRATION }\n                    }}>\n                    {translate('settings.page')}\n                  </Link>\n                )\n              }}\n            />\n          ) : (\n            translate('onboarding.create_project.no_bbs_binding')\n          )}\n        </Alert>\n      )}\n\n      {!loading &&\n        bitbucketSetting &&\n        (showPersonalAccessTokenForm ? (\n          <BitbucketPersonalAccessTokenForm\n            bitbucketSetting={bitbucketSetting}\n            onPersonalAccessTokenCreate={props.onPersonalAccessTokenCreate}\n            submitting={submittingToken}\n            validationFailed={tokenValidationFailed}\n          />\n        ) : (\n          <BitbucketImportRepositoryForm\n            disableRepositories={importing}\n            onSearch={props.onSearch}\n            onSelectRepository={props.onSelectRepository}\n            projectRepositories={projectRepositories}\n            projects={projects}\n            searchResults={searchResults}\n            searching={searching}\n            selectedRepository={selectedRepository}\n          />\n        ))}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport {\n  checkPersonalAccessTokenIsValid,\n  getBitbucketServerProjects,\n  getBitbucketServerRepositories,\n  importBitbucketServerProject,\n  searchForBitbucketServerRepositories,\n  setAlmPersonalAccessToken\n} from '../../../api/alm-integrations';\nimport {\n  BitbucketProject,\n  BitbucketProjectRepositories,\n  BitbucketRepository\n} from '../../../types/alm-integration';\nimport { AlmSettingsInstance } from '../../../types/alm-settings';\nimport BitbucketCreateProjectRenderer from './BitbucketProjectCreateRenderer';\n\ninterface Props extends Pick<WithRouterProps, 'location'> {\n  canAdmin: boolean;\n  bitbucketSettings: AlmSettingsInstance[];\n  loadingBindings: boolean;\n  onProjectCreate: (projectKeys: string[]) => void;\n}\n\ninterface State {\n  bitbucketSetting?: AlmSettingsInstance;\n  importing: boolean;\n  loading: boolean;\n  patIsValid?: boolean;\n  projects?: BitbucketProject[];\n  projectRepositories?: BitbucketProjectRepositories;\n  searching: boolean;\n  searchResults?: BitbucketRepository[];\n  selectedRepository?: BitbucketRepository;\n  submittingToken?: boolean;\n  tokenValidationFailed: boolean;\n}\n\nexport default class BitbucketProjectCreate extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      // For now, we only handle a single instance. So we always use the first\n      // one from the list.\n      bitbucketSetting: props.bitbucketSettings[0],\n      importing: false,\n      loading: false,\n      searching: false,\n      tokenValidationFailed: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchInitialData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.bitbucketSettings.length === 0 && this.props.bitbucketSettings.length > 0) {\n      this.setState({ bitbucketSetting: this.props.bitbucketSettings[0] }, () =>\n        this.fetchInitialData()\n      );\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchInitialData = async () => {\n    this.setState({ loading: true });\n\n    const patIsValid = await this.checkPersonalAccessToken().catch(() => false);\n\n    let projects;\n    if (patIsValid) {\n      projects = await this.fetchBitbucketProjects().catch(() => undefined);\n    }\n\n    let projectRepositories;\n    if (projects && projects.length > 0) {\n      projectRepositories = await this.fetchBitbucketRepositories(projects).catch(() => undefined);\n    }\n\n    if (this.mounted) {\n      this.setState({\n        patIsValid,\n        projects,\n        projectRepositories,\n        loading: false\n      });\n    }\n  };\n\n  checkPersonalAccessToken = () => {\n    const { bitbucketSetting } = this.state;\n\n    if (!bitbucketSetting) {\n      return Promise.resolve(false);\n    }\n\n    return checkPersonalAccessTokenIsValid(bitbucketSetting.key);\n  };\n\n  fetchBitbucketProjects = (): Promise<BitbucketProject[] | undefined> => {\n    const { bitbucketSetting } = this.state;\n\n    if (!bitbucketSetting) {\n      return Promise.resolve(undefined);\n    }\n\n    return getBitbucketServerProjects(bitbucketSetting.key).then(({ projects }) => projects);\n  };\n\n  fetchBitbucketRepositories = (\n    projects: BitbucketProject[]\n  ): Promise<BitbucketProjectRepositories | undefined> => {\n    const { bitbucketSetting } = this.state;\n\n    if (!bitbucketSetting) {\n      return Promise.resolve(undefined);\n    }\n\n    return Promise.all(\n      projects.map(p => {\n        return getBitbucketServerRepositories(bitbucketSetting.key, p.name).then(\n          ({ isLastPage, repositories }) => ({\n            isLastPage,\n            repositories,\n            projectKey: p.key\n          })\n        );\n      })\n    ).then(results => {\n      return results.reduce(\n        (acc: BitbucketProjectRepositories, { isLastPage, projectKey, repositories }) => {\n          return { ...acc, [projectKey]: { allShown: isLastPage, repositories } };\n        },\n        {}\n      );\n    });\n  };\n\n  handlePersonalAccessTokenCreate = (token: string) => {\n    const { bitbucketSetting } = this.state;\n\n    if (!bitbucketSetting || token.length < 1) {\n      return;\n    }\n\n    this.setState({ submittingToken: true, tokenValidationFailed: false });\n    setAlmPersonalAccessToken(bitbucketSetting.key, token)\n      .then(this.checkPersonalAccessToken)\n      .then(patIsValid => {\n        if (this.mounted) {\n          this.setState({ submittingToken: false, patIsValid, tokenValidationFailed: !patIsValid });\n          if (patIsValid) {\n            this.fetchInitialData();\n          }\n        }\n      })\n      .catch(() => {\n        if (this.mounted) {\n          this.setState({ submittingToken: false });\n        }\n      });\n  };\n\n  handleImportRepository = () => {\n    const { bitbucketSetting, selectedRepository } = this.state;\n\n    if (!bitbucketSetting || !selectedRepository) {\n      return;\n    }\n\n    this.setState({ importing: true });\n    importBitbucketServerProject(\n      bitbucketSetting.key,\n      selectedRepository.projectKey,\n      selectedRepository.slug\n    )\n      .then(({ project: { key } }) => {\n        if (this.mounted) {\n          this.setState({ importing: false });\n          this.props.onProjectCreate([key]);\n        }\n      })\n      .catch(() => {\n        if (this.mounted) {\n          this.setState({ importing: false });\n        }\n      });\n  };\n\n  handleSearch = (query: string) => {\n    const { bitbucketSetting } = this.state;\n\n    if (!bitbucketSetting) {\n      return;\n    }\n\n    if (!query) {\n      this.setState({ searching: false, searchResults: undefined, selectedRepository: undefined });\n      return;\n    }\n\n    this.setState({ searching: true, selectedRepository: undefined });\n    searchForBitbucketServerRepositories(bitbucketSetting.key, query)\n      .then(({ repositories }) => {\n        if (this.mounted) {\n          this.setState({ searching: false, searchResults: repositories });\n        }\n      })\n      .catch(() => {\n        if (this.mounted) {\n          this.setState({ searching: false });\n        }\n      });\n  };\n\n  handleSelectRepository = (selectedRepository: BitbucketRepository) => {\n    this.setState({ selectedRepository });\n  };\n\n  render() {\n    const { canAdmin, loadingBindings, location } = this.props;\n    const {\n      bitbucketSetting,\n      importing,\n      loading,\n      patIsValid,\n      projectRepositories,\n      projects,\n      searching,\n      searchResults,\n      selectedRepository,\n      submittingToken,\n      tokenValidationFailed\n    } = this.state;\n\n    return (\n      <BitbucketCreateProjectRenderer\n        bitbucketSetting={bitbucketSetting}\n        canAdmin={canAdmin}\n        importing={importing}\n        loading={loading || loadingBindings}\n        onImportRepository={this.handleImportRepository}\n        onPersonalAccessTokenCreate={this.handlePersonalAccessTokenCreate}\n        onProjectCreate={this.props.onProjectCreate}\n        onSearch={this.handleSearch}\n        onSelectRepository={this.handleSelectRepository}\n        projectRepositories={projectRepositories}\n        projects={projects}\n        searchResults={searchResults}\n        searching={searching}\n        selectedRepository={selectedRepository}\n        showPersonalAccessTokenForm={!patIsValid || Boolean(location.query.resetPat)}\n        submittingToken={submittingToken}\n        tokenValidationFailed={tokenValidationFailed}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { AlmKeys } from '../../../types/alm-settings';\nimport { CreateProjectModes } from './types';\n\nexport interface CreateProjectModeSelectionProps {\n  almCounts: { [key in AlmKeys]: number };\n  loadingBindings: boolean;\n  onSelectMode: (mode: CreateProjectModes) => void;\n}\n\nfunction renderAlmOption(\n  props: CreateProjectModeSelectionProps,\n  alm: AlmKeys,\n  mode: CreateProjectModes\n) {\n  const { almCounts, loadingBindings } = props;\n\n  const count = almCounts[alm];\n  const disabled = count !== 1 || loadingBindings;\n\n  return (\n    <button\n      className={classNames(\n        'button button-huge big-spacer-left display-flex-column create-project-mode-type-bbs',\n        { disabled }\n      )}\n      disabled={disabled}\n      onClick={() => props.onSelectMode(mode)}\n      type=\"button\">\n      <img\n        alt=\"\" // Should be ignored by screen readers\n        height={80}\n        src={`${getBaseUrl()}/images/alm/${alm}.svg`}\n      />\n      <div className=\"medium big-spacer-top\">\n        {translate('onboarding.create_project.select_method', alm)}\n      </div>\n\n      {loadingBindings && (\n        <span>\n          {translate('onboarding.create_project.check_alm_supported')}\n          <i className=\"little-spacer-left spinner\" />\n        </span>\n      )}\n\n      {!loadingBindings && disabled && (\n        <div className=\"text-muted small spacer-top\" style={{ lineHeight: 1.5 }}>\n          {translate('onboarding.create_project.alm_not_configured')}\n          <HelpTooltip\n            className=\"little-spacer-left\"\n            overlay={\n              count === 0\n                ? translate('onboarding.create_project.zero_alm_instances', alm)\n                : `${translate('onboarding.create_project.too_many_alm_instances', alm)} \n                  ${translateWithParameters(\n                    'onboarding.create_project.alm_instances_count_X',\n                    count\n                  )}`\n            }\n          />\n        </div>\n      )}\n    </button>\n  );\n}\n\nexport default function CreateProjectModeSelection(props: CreateProjectModeSelectionProps) {\n  return (\n    <>\n      <header className=\"huge-spacer-top big-spacer-bottom padded\">\n        <h1 className=\"text-center huge big-spacer-bottom\">\n          {translate('my_account.create_new.TRK')}\n        </h1>\n        <p className=\"text-center big\">{translate('onboarding.create_project.select_method')}</p>\n      </header>\n\n      <div className=\"create-project-modes huge-spacer-top display-flex-justify-center\">\n        <button\n          className=\"button button-huge display-flex-column create-project-mode-type-manual\"\n          onClick={() => props.onSelectMode(CreateProjectModes.Manual)}\n          type=\"button\">\n          <img\n            alt=\"\" // Should be ignored by screen readers\n            height={80}\n            src={`${getBaseUrl()}/images/sonarcloud/analysis/manual.svg`}\n          />\n          <div className=\"medium big-spacer-top\">\n            {translate('onboarding.create_project.select_method.manual')}\n          </div>\n        </button>\n\n        {renderAlmOption(props, AlmKeys.Bitbucket, CreateProjectModes.BitbucketServer)}\n        {renderAlmOption(props, AlmKeys.GitHub, CreateProjectModes.GitHub)}\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport SearchSelect from 'sonar-ui-common/components/controls/SearchSelect';\nimport CheckIcon from 'sonar-ui-common/components/icons/CheckIcon';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from '../../../helpers/system';\nimport { GithubOrganization, GithubRepository } from '../../../types/alm-integration';\nimport CreateProjectPageHeader from './CreateProjectPageHeader';\n\nexport interface GitHubProjectCreateRendererProps {\n  canAdmin: boolean;\n  error: boolean;\n  importing: boolean;\n  loadingBindings: boolean;\n  loadingOrganizations: boolean;\n  loadingRepositories: boolean;\n  onImportRepository: () => void;\n  onLoadMore: () => void;\n  onSearch: (q: string) => void;\n  onSelectOrganization: (key: string) => void;\n  onSelectRepository: (key: string) => void;\n  organizations: GithubOrganization[];\n  repositories?: GithubRepository[];\n  repositoryPaging: T.Paging;\n  searchQuery: string;\n  selectedOrganization?: GithubOrganization;\n  selectedRepository?: GithubRepository;\n}\n\nfunction orgToOption({ key, name }: GithubOrganization) {\n  return { value: key, label: name };\n}\n\nconst handleSearch = (organizations: GithubOrganization[]) => (q: string) =>\n  Promise.resolve(organizations.filter(o => !q || o.name.includes(q)).map(orgToOption));\n\nfunction renderRepositoryList(props: GitHubProjectCreateRendererProps) {\n  const {\n    importing,\n    loadingRepositories,\n    repositories,\n    repositoryPaging,\n    searchQuery,\n    selectedOrganization,\n    selectedRepository\n  } = props;\n\n  const isChecked = (repository: GithubRepository) =>\n    !!repository.sqProjectKey ||\n    (!!selectedRepository && selectedRepository.key === repository.key);\n\n  const isDisabled = (repository: GithubRepository) =>\n    !!repository.sqProjectKey || loadingRepositories || importing;\n\n  return (\n    selectedOrganization &&\n    repositories && (\n      <div className=\"boxed-group padded display-flex-wrap\">\n        <div className=\"width-100\">\n          <SearchBox\n            className=\"big-spacer-bottom\"\n            onChange={props.onSearch}\n            placeholder={translate('onboarding.create_project.search_repositories')}\n            value={searchQuery}\n          />\n        </div>\n\n        {repositories.length === 0 ? (\n          <div className=\"padded\">\n            <DeferredSpinner loading={loadingRepositories}>\n              {translate('no_results')}\n            </DeferredSpinner>\n          </div>\n        ) : (\n          repositories.map(r => (\n            <Radio\n              className=\"spacer-top spacer-bottom padded create-project-github-repository\"\n              key={r.key}\n              checked={isChecked(r)}\n              disabled={isDisabled(r)}\n              value={r.key}\n              onCheck={props.onSelectRepository}>\n              <div className=\"big overflow-hidden\" title={r.name}>\n                <div className=\"text-ellipsis\">{r.name}</div>\n                {r.sqProjectKey && (\n                  <em className=\"notice text-muted-2 small display-flex-center\">\n                    {translate('onboarding.create_project.repository_imported')}\n                    <CheckIcon className=\"little-spacer-left\" size={12} />\n                  </em>\n                )}\n              </div>\n            </Radio>\n          ))\n        )}\n\n        <div className=\"display-flex-justify-center width-100\">\n          <ListFooter\n            count={repositories.length}\n            total={repositoryPaging.total}\n            loadMore={props.onLoadMore}\n            loading={loadingRepositories}\n          />\n        </div>\n      </div>\n    )\n  );\n}\n\nexport default function GitHubProjectCreateRenderer(props: GitHubProjectCreateRendererProps) {\n  const {\n    canAdmin,\n    error,\n    importing,\n    loadingBindings,\n    loadingOrganizations,\n    organizations,\n    selectedOrganization,\n    selectedRepository\n  } = props;\n\n  if (loadingBindings) {\n    return <DeferredSpinner />;\n  }\n\n  return (\n    <div>\n      <CreateProjectPageHeader\n        additionalActions={\n          selectedOrganization && (\n            <div className=\"display-flex-center pull-right\">\n              <DeferredSpinner className=\"spacer-right\" loading={importing} />\n              <Button\n                className=\"button-large button-primary\"\n                disabled={!selectedRepository || importing}\n                onClick={props.onImportRepository}>\n                {translate('onboarding.create_project.import_selected_repo')}\n              </Button>\n            </div>\n          )\n        }\n        title={\n          <span className=\"text-middle display-flex-center\">\n            <img\n              alt=\"\" // Should be ignored by screen readers\n              className=\"spacer-right\"\n              height={24}\n              src={`${getBaseUrl()}/images/alm/github.svg`}\n            />\n            {translate('onboarding.create_project.github.title')}\n          </span>\n        }\n      />\n\n      {error ? (\n        <div className=\"display-flex-justify-center\">\n          <div className=\"boxed-group padded width-50 huge-spacer-top\">\n            <h2 className=\"big-spacer-bottom\">\n              {translate('onboarding.create_project.github.warning.title')}\n            </h2>\n            <Alert variant=\"warning\">\n              {canAdmin ? (\n                <FormattedMessage\n                  id=\"onboarding.create_project.github.warning.message_admin\"\n                  defaultMessage={translate(\n                    'onboarding.create_project.github.warning.message_admin'\n                  )}\n                  values={{\n                    link: (\n                      <Link to=\"/admin/settings?category=almintegration\">\n                        {translate('onboarding.create_project.github.warning.message_admin.link')}\n                      </Link>\n                    )\n                  }}\n                />\n              ) : (\n                translate('onboarding.create_project.github.warning.message')\n              )}\n            </Alert>\n          </div>\n        </div>\n      ) : (\n        <DeferredSpinner loading={loadingOrganizations}>\n          <div className=\"form-field\">\n            <label>{translate('onboarding.create_project.github.choose_organization')}</label>\n            {organizations.length > 0 ? (\n              <SearchSelect\n                defaultOptions={organizations.map(orgToOption)}\n                onSearch={handleSearch(organizations)}\n                minimumQueryLength={0}\n                onSelect={({ value }) => props.onSelectOrganization(value)}\n                value={selectedOrganization && orgToOption(selectedOrganization)}\n              />\n            ) : (\n              !loadingOrganizations && (\n                <Alert className=\"spacer-top\" variant=\"error\">\n                  {canAdmin ? (\n                    <FormattedMessage\n                      id=\"onboarding.create_project.github.no_orgs_admin\"\n                      defaultMessage={translate('onboarding.create_project.github.no_orgs_admin')}\n                      values={{\n                        link: (\n                          <Link to=\"/admin/settings?category=almintegration\">\n                            {translate(\n                              'onboarding.create_project.github.warning.message_admin.link'\n                            )}\n                          </Link>\n                        )\n                      }}\n                    />\n                  ) : (\n                    translate('onboarding.create_project.github.no_orgs')\n                  )}\n                </Alert>\n              )\n            )}\n          </div>\n        </DeferredSpinner>\n      )}\n\n      {renderRepositoryList(props)}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport { getHostUrl } from 'sonar-ui-common/helpers/urls';\nimport {\n  getGithubClientId,\n  getGithubOrganizations,\n  getGithubRepositories,\n  importGithubRepository\n} from '../../../api/alm-integrations';\nimport { GithubOrganization, GithubRepository } from '../../../types/alm-integration';\nimport { AlmKeys, AlmSettingsInstance } from '../../../types/alm-settings';\nimport GitHubProjectCreateRenderer from './GitHubProjectCreateRenderer';\n\ninterface Props extends Pick<WithRouterProps, 'location' | 'router'> {\n  canAdmin: boolean;\n  loadingBindings: boolean;\n  onProjectCreate: (projectKeys: string[]) => void;\n  settings: AlmSettingsInstance[];\n}\n\ninterface State {\n  error: boolean;\n  importing: boolean;\n  loadingOrganizations: boolean;\n  loadingRepositories: boolean;\n  organizations: GithubOrganization[];\n  repositoryPaging: T.Paging;\n  repositories: GithubRepository[];\n  searchQuery: string;\n  selectedOrganization?: GithubOrganization;\n  selectedRepository?: GithubRepository;\n  settings?: AlmSettingsInstance;\n}\n\nconst REPOSITORY_PAGE_SIZE = 30;\n\nexport default class GitHubProjectCreate extends React.Component<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      error: false,\n      importing: false,\n      loadingOrganizations: true,\n      loadingRepositories: false,\n      organizations: [],\n      repositories: [],\n      repositoryPaging: { pageSize: REPOSITORY_PAGE_SIZE, total: 0, pageIndex: 1 },\n      searchQuery: '',\n      settings: props.settings[0]\n    };\n\n    this.triggerSearch = debounce(this.triggerSearch, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    this.initialize();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.settings.length === 0 && this.props.settings.length > 0) {\n      this.setState({ settings: this.props.settings[0] }, () => this.initialize());\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  async initialize() {\n    const { location, router } = this.props;\n    const { settings } = this.state;\n\n    if (!settings || !settings.url) {\n      this.setState({ error: true });\n      return;\n    } else {\n      this.setState({ error: false });\n    }\n\n    const code = location.query?.code;\n\n    try {\n      if (!code) {\n        await this.redirectToGithub(settings);\n      } else {\n        delete location.query.code;\n        router.replace(location);\n        await this.fetchOrganizations(settings, code);\n      }\n    } catch (e) {\n      if (this.mounted) {\n        this.setState({ error: true });\n      }\n    }\n  }\n\n  async redirectToGithub(settings: AlmSettingsInstance) {\n    if (!settings.url) {\n      return;\n    }\n\n    const { clientId } = await getGithubClientId(settings.key);\n\n    if (!clientId) {\n      this.setState({ error: true });\n      return;\n    }\n\n    const queryParams = [\n      { param: 'client_id', value: clientId },\n      { param: 'redirect_uri', value: `${getHostUrl()}/projects/create?mode=${AlmKeys.GitHub}` }\n    ]\n      .map(({ param, value }) => `${param}=${value}`)\n      .join('&');\n\n    let instanceRootUrl;\n    // Strip the api section from the url, since we're not hitting the api here.\n    if (settings.url.includes('/api/v3')) {\n      // GitHub Enterprise\n      instanceRootUrl = settings.url.replace('/api/v3', '');\n    } else {\n      // github.com\n      instanceRootUrl = settings.url.replace('api.', '');\n    }\n\n    // strip the trailing /\n    instanceRootUrl = instanceRootUrl.replace(/\\/$/, '');\n    window.location.replace(`${instanceRootUrl}/login/oauth/authorize?${queryParams}`);\n  }\n\n  async fetchOrganizations(settings: AlmSettingsInstance, token: string) {\n    const { organizations } = await getGithubOrganizations(settings.key, token);\n\n    if (this.mounted) {\n      this.setState({ loadingOrganizations: false, organizations });\n    }\n  }\n\n  async fetchRepositories(params: { organizationKey: string; page?: number; query?: string }) {\n    const { organizationKey, page = 1, query } = params;\n    const { settings } = this.state;\n\n    if (!settings) {\n      this.setState({ error: true });\n      return;\n    }\n\n    this.setState({ loadingRepositories: true });\n\n    try {\n      const data = await getGithubRepositories({\n        almSetting: settings.key,\n        organization: organizationKey,\n        ps: REPOSITORY_PAGE_SIZE,\n        p: page,\n        query\n      });\n\n      if (this.mounted) {\n        this.setState(({ repositories }) => ({\n          loadingRepositories: false,\n          repositoryPaging: data.paging,\n          repositories: page === 1 ? data.repositories : [...repositories, ...data.repositories]\n        }));\n      }\n    } catch (_) {\n      if (this.mounted) {\n        this.setState({\n          loadingRepositories: false,\n          repositoryPaging: { pageIndex: 1, pageSize: REPOSITORY_PAGE_SIZE, total: 0 },\n          repositories: []\n        });\n      }\n    }\n  }\n\n  triggerSearch = (query: string) => {\n    const { selectedOrganization } = this.state;\n    if (selectedOrganization) {\n      this.setState({ selectedRepository: undefined });\n      this.fetchRepositories({ organizationKey: selectedOrganization.key, query });\n    }\n  };\n\n  handleSelectOrganization = (key: string) => {\n    this.setState(({ organizations }) => ({\n      searchQuery: '',\n      selectedRepository: undefined,\n      selectedOrganization: organizations.find(o => o.key === key)\n    }));\n    this.fetchRepositories({ organizationKey: key });\n  };\n\n  handleSelectRepository = (key: string) => {\n    this.setState(({ repositories }) => ({\n      selectedRepository: repositories?.find(r => r.key === key)\n    }));\n  };\n\n  handleSearch = (searchQuery: string) => {\n    this.setState({ searchQuery });\n    this.triggerSearch(searchQuery);\n  };\n\n  handleLoadMore = () => {\n    const { repositoryPaging, searchQuery, selectedOrganization } = this.state;\n\n    if (selectedOrganization) {\n      this.fetchRepositories({\n        organizationKey: selectedOrganization.key,\n        page: repositoryPaging.pageIndex + 1,\n        query: searchQuery\n      });\n    }\n  };\n\n  handleImportRepository = async () => {\n    const { selectedOrganization, selectedRepository, settings } = this.state;\n\n    if (settings && selectedOrganization && selectedRepository) {\n      this.setState({ importing: true });\n\n      try {\n        const { project } = await importGithubRepository(\n          settings.key,\n          selectedOrganization.key,\n          selectedRepository.key\n        );\n\n        this.props.onProjectCreate([project.key]);\n      } finally {\n        if (this.mounted) {\n          this.setState({ importing: false });\n        }\n      }\n    }\n  };\n\n  render() {\n    const { canAdmin, loadingBindings } = this.props;\n    const {\n      error,\n      importing,\n      loadingOrganizations,\n      loadingRepositories,\n      organizations,\n      repositoryPaging,\n      repositories,\n      searchQuery,\n      selectedOrganization,\n      selectedRepository\n    } = this.state;\n\n    return (\n      <GitHubProjectCreateRenderer\n        canAdmin={canAdmin}\n        error={error}\n        importing={importing}\n        loadingBindings={loadingBindings}\n        loadingOrganizations={loadingOrganizations}\n        loadingRepositories={loadingRepositories}\n        onImportRepository={this.handleImportRepository}\n        onLoadMore={this.handleLoadMore}\n        onSearch={this.handleSearch}\n        onSelectOrganization={this.handleSelectOrganization}\n        onSelectRepository={this.handleSelectRepository}\n        organizations={organizations}\n        repositoryPaging={repositoryPaging}\n        searchQuery={searchQuery}\n        repositories={repositories}\n        selectedOrganization={selectedOrganization}\n        selectedRepository={selectedRepository}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { debounce } from 'lodash';\nimport * as React from 'react';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport ValidationInput from 'sonar-ui-common/components/controls/ValidationInput';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { createProject, doesComponentExists } from '../../../api/components';\nimport ProjectKeyInput from '../../../components/common/ProjectKeyInput';\nimport { validateProjectKey } from '../../../helpers/projects';\nimport { ProjectKeyValidationResult } from '../../../types/component';\nimport { PROJECT_NAME_MAX_LEN } from './constants';\nimport CreateProjectPageHeader from './CreateProjectPageHeader';\nimport './ManualProjectCreate.css';\n\ninterface Props {\n  onProjectCreate: (projectKeys: string[]) => void;\n}\n\ninterface State {\n  projectName: string;\n  projectNameChanged: boolean;\n  projectNameError?: string;\n  projectKey: string;\n  projectKeyError?: string;\n  submitting: boolean;\n  touched: boolean;\n  validating: boolean;\n}\n\ntype ValidState = State & Required<Pick<State, 'projectKey' | 'projectName'>>;\n\nexport default class ManualProjectCreate extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      projectKey: '',\n      projectName: '',\n      projectNameChanged: false,\n      submitting: false,\n      touched: false,\n      validating: false\n    };\n    this.checkFreeKey = debounce(this.checkFreeKey, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  checkFreeKey = (key: string) => {\n    return doesComponentExists({ component: key })\n      .then(alreadyExist => {\n        if (this.mounted && key === this.state.projectKey) {\n          if (!alreadyExist) {\n            this.setState({ projectKeyError: undefined, validating: false });\n          } else {\n            this.setState({\n              projectKeyError: translate('onboarding.create_project.project_key.taken'),\n              touched: true,\n              validating: false\n            });\n          }\n        }\n      })\n      .catch(() => {\n        if (this.mounted && key === this.state.projectKey) {\n          this.setState({ projectKeyError: undefined, validating: false });\n        }\n      });\n  };\n\n  canSubmit(state: State): state is ValidState {\n    const { projectKey, projectKeyError, projectName, projectNameError } = state;\n    return Boolean(\n      projectKeyError === undefined &&\n        projectNameError === undefined &&\n        projectKey.length > 0 &&\n        projectName.length > 0\n    );\n  }\n\n  handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const { state } = this;\n    if (this.canSubmit(state)) {\n      this.setState({ submitting: true });\n      createProject({\n        project: state.projectKey,\n        name: (state.projectName || state.projectKey).trim()\n      }).then(\n        ({ project }) => this.props.onProjectCreate([project.key]),\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleProjectKeyChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const projectKey = event.currentTarget.value || '';\n    const projectKeyError = this.validateKey(projectKey);\n\n    this.setState(prevState => {\n      const projectName = prevState.projectNameChanged ? prevState.projectName : projectKey;\n      return {\n        projectKey,\n        projectKeyError,\n        projectName,\n        projectNameError: this.validateName(projectName),\n        touched: true,\n        validating: projectKeyError === undefined\n      };\n    });\n\n    if (projectKeyError === undefined) {\n      this.checkFreeKey(projectKey);\n    }\n  };\n\n  handleProjectNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const projectName = event.currentTarget.value;\n    this.setState({\n      projectName,\n      projectNameChanged: true,\n      projectNameError: this.validateName(projectName)\n    });\n  };\n\n  validateKey = (projectKey: string) => {\n    const result = validateProjectKey(projectKey);\n    return result === ProjectKeyValidationResult.Valid\n      ? undefined\n      : translate('onboarding.create_project.project_key.error', result);\n  };\n\n  validateName = (projectName: string) => {\n    if (projectName.length === 0) {\n      return translate('onboarding.create_project.display_name.error.empty');\n    } else if (projectName.length > PROJECT_NAME_MAX_LEN) {\n      return translate('onboarding.create_project.display_name.error.too_long');\n    }\n    return undefined;\n  };\n\n  render() {\n    const {\n      projectKey,\n      projectKeyError,\n      projectName,\n      projectNameError,\n      submitting,\n      touched,\n      validating\n    } = this.state;\n    const projectNameIsInvalid = touched && projectNameError !== undefined;\n    const projectNameIsValid = touched && projectNameError === undefined;\n\n    return (\n      <>\n        <CreateProjectPageHeader title={translate('onboarding.create_project.setup_manually')} />\n\n        <div className=\"create-project-manual\">\n          <div className=\"flex-1 huge-spacer-right\">\n            <form className=\"manual-project-create\" onSubmit={this.handleFormSubmit}>\n              <ProjectKeyInput\n                error={projectKeyError}\n                help={translate('onboarding.create_project.project_key.help')}\n                label={translate('onboarding.create_project.project_key')}\n                onProjectKeyChange={this.handleProjectKeyChange}\n                projectKey={projectKey}\n                touched={touched}\n                validating={validating}\n              />\n\n              <ValidationInput\n                className=\"form-field\"\n                description={translate('onboarding.create_project.display_name.description')}\n                error={projectNameError}\n                help={translate('onboarding.create_project.display_name.help')}\n                id=\"project-name\"\n                isInvalid={projectNameIsInvalid}\n                isValid={projectNameIsValid}\n                label={translate('onboarding.create_project.display_name')}\n                required={true}>\n                <input\n                  className={classNames('input-super-large', {\n                    'is-invalid': projectNameIsInvalid,\n                    'is-valid': projectNameIsValid\n                  })}\n                  id=\"project-name\"\n                  maxLength={PROJECT_NAME_MAX_LEN}\n                  minLength={1}\n                  onChange={this.handleProjectNameChange}\n                  type=\"text\"\n                  value={projectName}\n                />\n              </ValidationInput>\n\n              <SubmitButton disabled={!this.canSubmit(this.state) || submitting}>\n                {translate('set_up')}\n              </SubmitButton>\n              <DeferredSpinner className=\"spacer-left\" loading={submitting} />\n            </form>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nexport const PROJECT_NAME_MAX_LEN = 255;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { WithRouterProps } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getAlmSettings } from '../../../api/alm-settings';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport { whenLoggedIn } from '../../../components/hoc/whenLoggedIn';\nimport { withAppState } from '../../../components/hoc/withAppState';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { AlmKeys, AlmSettingsInstance } from '../../../types/alm-settings';\nimport BitbucketProjectCreate from './BitbucketProjectCreate';\nimport CreateProjectModeSelection from './CreateProjectModeSelection';\nimport GitHubProjectCreate from './GitHubProjectCreate';\nimport ManualProjectCreate from './ManualProjectCreate';\nimport './style.css';\nimport { CreateProjectModes } from './types';\n\ninterface Props extends Pick<WithRouterProps, 'router' | 'location'> {\n  appState: Pick<T.AppState, 'branchesEnabled' | 'canAdmin'>;\n  currentUser: T.LoggedInUser;\n}\n\ninterface State {\n  bitbucketSettings: AlmSettingsInstance[];\n  githubSettings: AlmSettingsInstance[];\n  loading: boolean;\n}\n\nexport class CreateProjectPage extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { bitbucketSettings: [], githubSettings: [], loading: true };\n\n  componentDidMount() {\n    const {\n      appState: { branchesEnabled }\n    } = this.props;\n    this.mounted = true;\n    if (branchesEnabled) {\n      this.fetchAlmBindings();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchAlmBindings = () => {\n    this.setState({ loading: true });\n    getAlmSettings()\n      .then(almSettings => {\n        if (this.mounted) {\n          this.setState({\n            bitbucketSettings: almSettings.filter(s => s.alm === AlmKeys.Bitbucket),\n            githubSettings: almSettings.filter(s => s.alm === AlmKeys.GitHub),\n            loading: false\n          });\n        }\n      })\n      .catch(() => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      });\n  };\n\n  handleModeSelect = (mode: CreateProjectModes) => {\n    const { router, location } = this.props;\n    router.push({\n      pathname: location.pathname,\n      query: { mode }\n    });\n  };\n\n  handleProjectCreate = (projectKeys: string[]) => {\n    if (projectKeys.length === 1) {\n      this.props.router.push(getProjectUrl(projectKeys[0]));\n    }\n  };\n\n  renderForm(mode?: CreateProjectModes) {\n    const {\n      appState: { canAdmin },\n      location,\n      router\n    } = this.props;\n    const { bitbucketSettings, githubSettings, loading } = this.state;\n\n    switch (mode) {\n      case CreateProjectModes.BitbucketServer: {\n        return (\n          <BitbucketProjectCreate\n            canAdmin={!!canAdmin}\n            bitbucketSettings={bitbucketSettings}\n            loadingBindings={loading}\n            location={location}\n            onProjectCreate={this.handleProjectCreate}\n          />\n        );\n      }\n      case CreateProjectModes.GitHub: {\n        return (\n          <GitHubProjectCreate\n            canAdmin={!!canAdmin}\n            loadingBindings={loading}\n            location={location}\n            onProjectCreate={this.handleProjectCreate}\n            router={router}\n            settings={githubSettings}\n          />\n        );\n      }\n      case CreateProjectModes.Manual: {\n        return <ManualProjectCreate onProjectCreate={this.handleProjectCreate} />;\n      }\n      default: {\n        const almCounts = {\n          [AlmKeys.Azure]: 0,\n          [AlmKeys.Bitbucket]: bitbucketSettings.length,\n          [AlmKeys.GitHub]: githubSettings.length,\n          [AlmKeys.GitLab]: 0\n        };\n        return (\n          <CreateProjectModeSelection\n            almCounts={almCounts}\n            loadingBindings={loading}\n            onSelectMode={this.handleModeSelect}\n          />\n        );\n      }\n    }\n  }\n\n  render() {\n    const {\n      appState: { branchesEnabled },\n      location\n    } = this.props;\n    const mode: CreateProjectModes | undefined = location.query?.mode;\n\n    return (\n      <>\n        <Helmet title={translate('my_account.create_new.TRK')} titleTemplate=\"%s\" />\n        <A11ySkipTarget anchor=\"create_project_main\" />\n        <div className=\"page page-limited huge-spacer-bottom position-relative\" id=\"create-project\">\n          {this.renderForm(branchesEnabled ? mode : CreateProjectModes.Manual)}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default whenLoggedIn(withAppState(CreateProjectPage));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar HelpIcon_1 = require(\"../icons/HelpIcon\");\nvar theme_1 = require(\"../theme\");\nrequire(\"./HelpTooltip.css\");\nvar Tooltip_1 = require(\"./Tooltip\");\nfunction HelpTooltip(props) {\n    var _a = props.tagName, tagName = _a === void 0 ? 'div' : _a;\n    return React.createElement(tagName, { className: classNames('help-tooltip', props.className) }, React.createElement(Tooltip_1.default, { mouseLeaveDelay: 0.25, onShow: props.onShow, overlay: props.overlay, placement: props.placement },\n        React.createElement(\"span\", { className: \"display-inline-flex-center\" }, props.children || (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return React.createElement(HelpIcon_1.default, { fill: theme.colors.gray71, size: 12 }); })))));\n}\nexports.default = HelpTooltip;\n//# sourceMappingURL=HelpTooltip.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nvar buttons_1 = require(\"./buttons\");\nfunction ListFooter(props) {\n    var className = props.className, count = props.count, loading = props.loading, needReload = props.needReload, total = props.total, _a = props.ready, ready = _a === void 0 ? true : _a;\n    var hasMore = total && total > count;\n    var button;\n    if (needReload && props.reload) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", \"data-test\": \"reload\", disabled: loading, onClick: props.reload }, l10n_1.translate('reload')));\n    }\n    else if (hasMore && props.loadMore) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", disabled: loading, \"data-test\": \"show-more\", onClick: props.loadMore }, l10n_1.translate('show_more')));\n    }\n    return (React.createElement(\"footer\", { className: classNames('spacer-top note text-center', { 'new-loading': !ready }, className) },\n        l10n_1.translateWithParameters('x_of_y_shown', measures_1.formatMeasure(count, 'INT', null), measures_1.formatMeasure(total, 'INT', null)),\n        button,\n        loading && React.createElement(DeferredSpinner_1.default, { className: \"text-bottom spacer-left position-absolute\" })));\n}\nexports.default = ListFooter;\n//# sourceMappingURL=ListFooter.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ChevronDownIcon_1 = require(\"./ChevronDownIcon\");\nvar ChevronRightIcon_1 = require(\"./ChevronRightIcon\");\nfunction OpenCloseIcon(_a) {\n    var open = _a.open, iconProps = __rest(_a, [\"open\"]);\n    return open ? React.createElement(ChevronDownIcon_1.default, __assign({}, iconProps)) : React.createElement(ChevronRightIcon_1.default, __assign({}, iconProps));\n}\nexports.default = OpenCloseIcon;\n//# sourceMappingURL=OpenCloseIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const enum AlmKeys {\n  Azure = 'azure',\n  Bitbucket = 'bitbucket',\n  GitHub = 'github',\n  GitLab = 'gitlab'\n}\n\nexport interface AlmBindingDefinition {\n  key: string;\n}\n\nexport interface AzureBindingDefinition extends AlmBindingDefinition {\n  personalAccessToken: string;\n}\n\nexport interface BitbucketBindingDefinition extends AlmBindingDefinition {\n  personalAccessToken: string;\n  url: string;\n}\n\nexport interface GithubBindingDefinition extends AlmBindingDefinition {\n  appId: string;\n  clientId: string;\n  clientSecret: string;\n  privateKey: string;\n  url: string;\n}\n\nexport interface GitlabBindingDefinition extends AlmBindingDefinition {\n  personalAccessToken: string;\n  url?: string;\n}\n\nexport interface ProjectAlmBindingResponse {\n  alm: AlmKeys;\n  key: string;\n  repository?: string;\n  slug?: string;\n  summaryCommentEnabled?: boolean;\n}\n\nexport interface ProjectBitbucketBindingResponse extends ProjectAlmBindingResponse {\n  alm: AlmKeys.Bitbucket;\n  repository: string;\n  slug: string;\n}\n\nexport interface ProjectAlmBindingParams {\n  almSetting: string;\n  project: string;\n}\n\nexport interface AzureProjectAlmBindingParams extends ProjectAlmBindingParams {}\n\nexport interface BitbucketProjectAlmBindingParams extends ProjectAlmBindingParams {\n  repository: string;\n  slug: string;\n}\n\nexport interface GithubProjectAlmBindingParams extends ProjectAlmBindingParams {\n  repository: string;\n  summaryCommentEnabled: boolean;\n}\n\nexport interface GitlabProjectAlmBindingParams extends ProjectAlmBindingParams {\n  repository?: string;\n}\n\nexport interface AlmSettingsInstance {\n  alm: AlmKeys;\n  key: string;\n  url?: string;\n}\n\nexport interface AlmSettingsBindingDefinitions {\n  [AlmKeys.Azure]: AzureBindingDefinition[];\n  [AlmKeys.Bitbucket]: BitbucketBindingDefinition[];\n  [AlmKeys.GitHub]: GithubBindingDefinition[];\n  [AlmKeys.GitLab]: GitlabBindingDefinition[];\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction CheckIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M14.92 4.804q0 0.357-0.25 0.607l-7.679 7.679q-0.25 0.25-0.607 0.25t-0.607-0.25l-4.446-4.446q-0.25-0.25-0.25-0.607t0.25-0.607l1.214-1.214q0.25-0.25 0.607-0.25t0.607 0.25l2.625 2.634 5.857-5.866q0.25-0.25 0.607-0.25t0.607 0.25l1.214 1.214q0.25 0.25 0.25 0.607z\", style: { fill: fill } })));\n}\nexports.default = CheckIcon;\n//# sourceMappingURL=CheckIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport {\n  AlmSettingsBindingDefinitions,\n  AlmSettingsInstance,\n  AzureBindingDefinition,\n  AzureProjectAlmBindingParams,\n  BitbucketBindingDefinition,\n  BitbucketProjectAlmBindingParams,\n  GithubBindingDefinition,\n  GithubProjectAlmBindingParams,\n  GitlabBindingDefinition,\n  GitlabProjectAlmBindingParams,\n  ProjectAlmBindingResponse\n} from '../types/alm-settings';\n\nexport function getAlmDefinitions(): Promise<AlmSettingsBindingDefinitions> {\n  return getAlmDefinitionsNoCatch().catch(throwGlobalError);\n}\n\nexport function getAlmDefinitionsNoCatch(): Promise<AlmSettingsBindingDefinitions> {\n  return getJSON('/api/alm_settings/list_definitions');\n}\n\nexport function getAlmSettings(project?: string): Promise<AlmSettingsInstance[]> {\n  return getJSON('/api/alm_settings/list', { project })\n    .then(({ almSettings }) => almSettings)\n    .catch(throwGlobalError);\n}\n\nexport function createGithubConfiguration(data: GithubBindingDefinition) {\n  return post('/api/alm_settings/create_github', data).catch(throwGlobalError);\n}\n\nexport function updateGithubConfiguration(data: GithubBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_github', data).catch(throwGlobalError);\n}\n\nexport function createAzureConfiguration(data: AzureBindingDefinition) {\n  return post('/api/alm_settings/create_azure', data).catch(throwGlobalError);\n}\n\nexport function updateAzureConfiguration(data: AzureBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_azure', data).catch(throwGlobalError);\n}\n\nexport function createBitbucketConfiguration(data: BitbucketBindingDefinition) {\n  return post('/api/alm_settings/create_bitbucket', data).catch(throwGlobalError);\n}\n\nexport function updateBitbucketConfiguration(\n  data: BitbucketBindingDefinition & { newKey: string }\n) {\n  return post('/api/alm_settings/update_bitbucket', data).catch(throwGlobalError);\n}\n\nexport function createGitlabConfiguration(data: GitlabBindingDefinition) {\n  return post('/api/alm_settings/create_gitlab', data).catch(throwGlobalError);\n}\n\nexport function updateGitlabConfiguration(data: GitlabBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_gitlab', data).catch(throwGlobalError);\n}\n\nexport function deleteConfiguration(key: string) {\n  return post('/api/alm_settings/delete', { key }).catch(throwGlobalError);\n}\n\nexport function countBindedProjects(almSetting: string) {\n  return getJSON('/api/alm_settings/count_binding', { almSetting })\n    .then(({ projects }) => projects)\n    .catch(throwGlobalError);\n}\n\nexport function getProjectAlmBinding(project: string): Promise<ProjectAlmBindingResponse> {\n  return getJSON('/api/alm_settings/get_binding', { project });\n}\n\nexport function deleteProjectAlmBinding(project: string): Promise<void> {\n  return post('/api/alm_settings/delete_binding', { project }).catch(throwGlobalError);\n}\n\nexport function setProjectAzureBinding(data: AzureProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_azure_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectBitbucketBinding(data: BitbucketProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_bitbucket_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectGithubBinding(data: GithubProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_github_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectGitlabBinding(data: GitlabProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_gitlab_binding', data).catch(throwGlobalError);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar AlertErrorIcon_1 = require(\"../icons/AlertErrorIcon\");\nvar AlertSuccessIcon_1 = require(\"../icons/AlertSuccessIcon\");\nvar HelpTooltip_1 = require(\"./HelpTooltip\");\nfunction ValidationInput(props) {\n    var hasError = props.isInvalid && props.error !== undefined;\n    return (React.createElement(\"div\", { className: props.className },\n        React.createElement(\"label\", { htmlFor: props.id },\n            React.createElement(\"span\", { className: \"text-middle\" },\n                React.createElement(\"strong\", null, props.label),\n                props.required && React.createElement(\"em\", { className: \"mandatory\" }, \"*\")),\n            props.help && React.createElement(HelpTooltip_1.default, { className: \"spacer-left\", overlay: props.help })),\n        React.createElement(\"div\", { className: \"little-spacer-top spacer-bottom\" },\n            props.children,\n            props.isInvalid && React.createElement(AlertErrorIcon_1.default, { className: \"spacer-left text-middle\" }),\n            hasError && (React.createElement(\"span\", { className: \"little-spacer-left text-danger text-middle\" }, props.error)),\n            props.isValid && React.createElement(AlertSuccessIcon_1.default, { className: \"spacer-left text-middle\" })),\n        props.description && React.createElement(\"div\", { className: \"note abs-width-400\" }, props.description)));\n}\nexports.default = ValidationInput;\n//# sourceMappingURL=ValidationInput.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar OpenCloseIcon_1 = require(\"../icons/OpenCloseIcon\");\nvar BoxedGroupAccordion = (function (_super) {\n    __extends(BoxedGroupAccordion, _super);\n    function BoxedGroupAccordion() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { hoveringInner: false };\n        _this.handleClick = function () {\n            _this.props.onClick(_this.props.data);\n        };\n        _this.onDetailEnter = function () {\n            _this.setState({ hoveringInner: true });\n        };\n        _this.onDetailLeave = function () {\n            _this.setState({ hoveringInner: false });\n        };\n        return _this;\n    }\n    BoxedGroupAccordion.prototype.render = function () {\n        var _a = this.props, className = _a.className, open = _a.open, renderHeader = _a.renderHeader, title = _a.title;\n        return (React.createElement(\"div\", { className: classNames('boxed-group boxed-group-accordion', className, {\n                'no-hover': this.state.hoveringInner,\n            }) },\n            React.createElement(\"div\", { className: \"boxed-group-header\", onClick: this.handleClick, role: \"listitem\" },\n                React.createElement(\"span\", { className: \"boxed-group-accordion-title\" },\n                    React.createElement(OpenCloseIcon_1.default, { className: \"little-spacer-right\", open: open }),\n                    title),\n                renderHeader && renderHeader()),\n            open && (React.createElement(\"div\", { className: \"boxed-group-inner\", onMouseEnter: this.onDetailEnter, onMouseLeave: this.onDetailLeave }, this.props.children))));\n    };\n    return BoxedGroupAccordion;\n}(React.PureComponent));\nexports.default = BoxedGroupAccordion;\n//# sourceMappingURL=BoxedGroupAccordion.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar Select_1 = require(\"./Select\");\nvar SearchSelect = (function (_super) {\n    __extends(SearchSelect, _super);\n    function SearchSelect(props) {\n        var _this = _super.call(this, props) || this;\n        _this.mounted = false;\n        _this.handleSearch = function (query) {\n            var currentQuery = query;\n            _this.props.onSearch(currentQuery).then(function (options) {\n                if (_this.mounted) {\n                    _this.setState(function (state) { return ({\n                        loading: false,\n                        options: state.query === currentQuery ? options : state.options,\n                    }); });\n                }\n            }, function () {\n                if (_this.mounted) {\n                    _this.setState({ loading: false });\n                }\n            });\n        };\n        _this.handleChange = function (option) {\n            if (Array.isArray(option)) {\n                if (_this.props.onMultiSelect) {\n                    _this.props.onMultiSelect(option);\n                }\n            }\n            else if (_this.props.onSelect) {\n                _this.props.onSelect(option);\n            }\n        };\n        _this.handleInputChange = function (query) {\n            if (query.length >= _this.minimumQueryLength) {\n                _this.setState({ loading: true, query: query });\n                _this.handleSearch(query);\n            }\n            else {\n                var options = (query.length === 0 && _this.props.defaultOptions) || [];\n                _this.setState({ options: options, query: query });\n            }\n        };\n        _this.handleFilterOption = function () { return true; };\n        _this.state = { loading: false, options: props.defaultOptions || [], query: '' };\n        _this.handleSearch = lodash_1.debounce(_this.handleSearch, 250);\n        return _this;\n    }\n    SearchSelect.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SearchSelect.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Object.defineProperty(SearchSelect.prototype, \"autofocus\", {\n        get: function () {\n            return this.props.autofocus !== undefined ? this.props.autofocus : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"minimumQueryLength\", {\n        get: function () {\n            return this.props.minimumQueryLength !== undefined ? this.props.minimumQueryLength : 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"resetOnBlur\", {\n        get: function () {\n            return this.props.resetOnBlur !== undefined ? this.props.resetOnBlur : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SearchSelect.prototype.render = function () {\n        var Component = this.props.canCreate ? Select_1.Creatable : Select_1.default;\n        return (React.createElement(Component, { autoFocus: this.autofocus, className: this.props.className, clearable: this.props.clearable, escapeClearsValue: false, filterOption: this.handleFilterOption, isLoading: this.state.loading, multi: this.props.multi, noResultsText: this.state.query.length < this.minimumQueryLength\n                ? l10n_1.translateWithParameters('select2.tooShort', this.minimumQueryLength)\n                : l10n_1.translate('select2.noMatches'), onBlurResetsInput: this.resetOnBlur, onChange: this.handleChange, onInputChange: this.handleInputChange, optionRenderer: this.props.renderOption, options: this.state.options, placeholder: l10n_1.translate('search_verb'), promptTextCreator: this.props.promptTextCreator, searchable: true, value: this.props.value, valueRenderer: this.props.renderOption }));\n    };\n    return SearchSelect;\n}(React.PureComponent));\nexports.default = SearchSelect;\n//# sourceMappingURL=SearchSelect.js.map"],"sourceRoot":""}