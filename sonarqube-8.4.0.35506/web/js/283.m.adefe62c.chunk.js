(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{1100:function(e,t,n){"use strict";var a=n(329),r=n.n(a),s=n(2),i=n(311),c=n(312),o=n(600),l=n.n(o),d=n(31),u=n(316),p=n.n(u),h=n(699),m=n(784),b=n(785);function f({event:e}){if(Object(b.b)(e))return s.createElement(b.a,{event:e});if(Object(m.b)(e))return s.createElement(h.a.Consumer,null,({branchLike:t})=>s.createElement(m.a,{branchLike:t,event:e}));{const t=s.createElement("span",{className:"text-middle"},s.createElement("span",{className:"note little-spacer-right"},Object(d.translate)("event.category",e.category),":"),s.createElement("strong",{className:"spacer-right"},e.name));return e.description?s.createElement(p.a,{overlay:e.description},t):t}}var g=n(348),y=n.n(g);class v extends s.PureComponent{constructor(e){super(e),this.changeInput=e=>{this.setState({name:e.target.value})},this.handleSubmit=()=>this.props.changeEvent(this.props.event.key,this.state.name),this.state={name:e.event.name}}render(){const{name:e}=this.state;return s.createElement(y.a,{confirmButtonText:Object(d.translate)("change_verb"),confirmDisable:!e||e===this.props.event.name,header:this.props.header,onClose:this.props.onClose,onConfirm:this.handleSubmit,size:"small"},s.createElement("div",{className:"modal-field"},s.createElement("label",null,Object(d.translate)("name")),s.createElement("input",{autoFocus:!0,onChange:this.changeInput,type:"text",value:e})))}}function O(e){const{analysisKey:t,event:n,header:a,removeEventQuestion:r}=e;return s.createElement(y.a,{confirmButtonText:Object(d.translate)("delete"),header:a,isDestructive:!0,onClose:e.onClose,onConfirm:()=>e.onConfirm(t,n.key)},r)}var E=s.memo((function(e){const{analysisKey:t,event:n,canAdmin:a,isFirst:r}=e,[o,u]=s.useState(!1),[p,h]=s.useState(!1),m="OTHER"===n.category,b="VERSION"===n.category,g=(m||b)&&e.onChange,y=(m||b&&!r)&&e.onDelete,E=a&&(g||y);return s.createElement("div",{className:"project-activity-event"},s.createElement(l.a,{className:i("project-activity-event-icon little-spacer-right text-middle",n.category)}),s.createElement(f,{event:n}),E&&s.createElement("span",{className:"nowrap"},g&&s.createElement(c.EditButton,{"aria-label":Object(d.translate)("project_activity.events.tooltip.edit"),className:"button-small","data-test":"project-activity__edit-event",onClick:()=>u(!0),stopPropagation:!0}),y&&s.createElement(c.DeleteButton,{"aria-label":Object(d.translate)("project_activity.events.tooltip.delete"),className:"button-small","data-test":"project-activity__delete-event",onClick:()=>h(!0),stopPropagation:!0})),o&&e.onChange&&s.createElement(v,{changeEvent:e.onChange,event:n,header:b?Object(d.translate)("project_activity.change_version"):Object(d.translate)("project_activity.change_custom_event"),onClose:()=>u(!1)}),p&&e.onDelete&&s.createElement(O,{analysisKey:t,event:n,header:b?Object(d.translate)("project_activity.remove_version"):Object(d.translate)("project_activity.remove_custom_event"),onClose:()=>h(!1),onConfirm:e.onDelete,removeEventQuestion:Object(d.translate)("project_activity.".concat(b?"remove_version":"remove_custom_event",".question"))}))}));t.a=s.memo((function(e){const{analysisKey:t,canAdmin:n,events:a,isFirst:i}=e,c=r()(a,e=>"VERSION"===e.category?1:0,"category");return s.createElement("div",{className:"big-spacer-top"},c.map(a=>s.createElement(E,{analysisKey:t,canAdmin:n,event:a,isFirst:i,key:a.key,onChange:e.onChange,onDelete:e.onDelete})))}))},1788:function(e,t,n){var a=n(313),r=n(1789);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},1789:function(e,t,n){(t=n(314)(!1)).push([e.i,".project-baseline{padding:32px}.project-baseline-setting{display:flex;flex-direction:column;max-height:60vh;padding-top:2px}.project-baseline-selector .general-setting{margin-left:7px}.branch-baseline-selector>hr{margin:0 -32px 32px}.branch-baseline-setting-modal{min-height:450px;display:flex;flex-direction:column}.branch-analysis-list-wrapper{display:flex;flex-direction:column;overflow:hidden;position:relative;min-height:200px}.branch-analysis-list{overflow-y:auto;padding-left:12px;padding-right:15px;min-height:50px}.branch-analysis-list>ul{padding-top:18px}.branch-analysis-date{margin-bottom:16px;font-size:15px;font-weight:700}.branch-analysis-day{margin-top:8px;margin-bottom:24px}.branch-analysis{display:flex;justify-content:space-between;cursor:pointer;padding:8px;border-top:1px solid #e6e6e6;border-bottom:1px solid #e6e6e6}.branch-analysis+.branch-analysis{border-top:none}.branch-analysis:hover{background-color:#cae3f2}.branch-analysis>.project-activity-events{flex:1 0 50%}.branch-analysis-time{width:150px}.branch-analysis-version-badge{margin-left:-12px;padding-top:8px;padding-bottom:8px;background-color:#fff}.branch-analysis-version-badge.sticky+.branch-analysis-days-list{padding-top:36px}.branch-analysis-version-badge.first,.branch-analysis-version-badge.sticky{position:absolute;top:1px;left:13px;right:16px;padding-top:24px;z-index:1}.branch-analysis-version-badge .badge{max-width:385px;border-radius:0 2px 2px 0;font-weight:700;font-size:12px;letter-spacing:0;overflow:hidden;text-overflow:ellipsis}.branch-setting-warning{background-color:#fcf8e3!important}.project-activity-event-icon.VERSION{color:#4b9fd5}.project-activity-event-icon.QUALITY_GATE{color:#9139d4}.project-activity-event-icon.QUALITY_PROFILE{color:#ccc}.project-activity-event-icon.DEFINITION_CHANGE{color:#33a759}.project-activity-event-icon.OTHER{color:#442d1b}",""]),e.exports=t},1888:function(e,t,n){"use strict";n.r(t);var a=n(321),r=n(323),s=n(368),i=n.n(s),c=n(311),o=n(2),l=n(434),d=n.n(l),u=n(318),p=n.n(u),h=n(31),m=n(787),b=n(333),f=n(331),g=(n(1788),n(788)),y=n(319),v=n(317);function O(e){const{canAdmin:t}=e;return o.createElement("header",{className:"page-header"},o.createElement("h1",{className:"page-title"},Object(h.translate)("project_baseline.page")),o.createElement("p",{className:"page-description"},o.createElement(y.FormattedMessage,{defaultMessage:Object(h.translate)("project_baseline.page.description"),id:"project_baseline.page.description",values:{link:o.createElement(v.Link,{to:"/documentation/project-administration/new-code-period/"},Object(h.translate)("project_baseline.page.description.link"))}}),o.createElement("br",null),t&&o.createElement(y.FormattedMessage,{defaultMessage:Object(h.translate)("project_baseline.page.description2"),id:"project_baseline.page.description2",values:{link:o.createElement(v.Link,{to:"/admin/settings?category=new_code_period"},Object(h.translate)("project_baseline.page.description2.link"))}})))}var E=n(312),S=n(330),j=n.n(S),_=n(26),C=n(518),N=n.n(C);function x({disabled:e,onSelect:t,selected:n}){return o.createElement(N.a,{disabled:e,onClick:()=>t("SPECIFIC_ANALYSIS"),selected:n,title:Object(h.translate)("baseline.specific_analysis")},o.createElement("p",{className:"big-spacer-bottom"},Object(h.translate)("baseline.specific_analysis.description")))}var P=n(840),k=n(841),w=n(647),A=n.n(w),L=n(316),I=n.n(L),B=n(483),R=n.n(B);function D(e){return e.isInvalid?o.createElement(I.a,{overlay:Object(h.translateWithParameters)("baseline.reference_branch.does_not_exist",e.value)},o.createElement("span",null,e.value," ",o.createElement(R.a,null))):o.createElement(o.Fragment,null,o.createElement("span",{title:e.disabled?Object(h.translate)("baseline.reference_branch.cannot_be_itself"):void 0},e.value),e.isMain&&o.createElement("div",{className:"badge spacer-left"},Object(h.translate)("branches.main_branch")))}function M(e){const{branchList:t,className:n,disabled:a,referenceBranch:r,selected:s,settingLevel:i}=e,c=t.find(e=>e.value===r)||{value:r,isMain:!1,isInvalid:!0};return o.createElement(N.a,{className:n,disabled:a,onClick:()=>e.onSelect("REFERENCE_BRANCH"),selected:s,title:Object(h.translate)("baseline.reference_branch")},o.createElement(o.Fragment,null,o.createElement("p",null,Object(h.translate)("baseline.reference_branch.description")),s&&o.createElement(o.Fragment,null,"project"===i&&o.createElement("p",{className:"spacer-top"},Object(h.translate)("baseline.reference_branch.description2")),o.createElement("div",{className:"big-spacer-top display-flex-column"},o.createElement("label",{className:"text-middle",htmlFor:"reference_branch"},o.createElement("strong",null,Object(h.translate)("baseline.reference_branch.choose")),o.createElement("em",{className:"mandatory"},"*")),o.createElement(A.a,{autofocus:!1,className:"little-spacer-top spacer-bottom",defaultOptions:t,minimumQueryLength:1,onSearch:e=>Promise.resolve(t.filter(t=>t.value.includes(e))),onSelect:t=>e.onChangeReferenceBranch(t.value),renderOption:D,value:c})))))}var F=n(758),T=n.n(F),V=n(726),z=n(419),U=n(782),Y=n(430),G=n.n(Y),q=n(343),H=n.n(q),Q=n(356),W=n.n(Q),K=n(563),J=n.n(K),Z=n(1100),X=n(688);function $(e){const{analyses:t,loading:n,range:a,selectedAnalysisKey:r}=e,s=o.useMemo(()=>Object(X.f)(t,{category:""}),[t]),i=s.length>1||1===s.length&&Object.keys(s[0].byDay).length>0;return o.createElement(o.Fragment,null,o.createElement("div",{className:"spacer-bottom"},Object(h.translate)("baseline.analysis_from"),o.createElement(H.a,{autoBlur:!0,className:"input-medium spacer-left",clearable:!1,onChange:e.handleRangeChange,options:[{label:Object(h.translate)("baseline.branch_analyses.ranges.30days"),value:30},{label:Object(h.translate)("baseline.branch_analyses.ranges.allTime"),value:0}],searchable:!1,value:a})),o.createElement("div",{className:"branch-analysis-list-wrapper"},o.createElement("div",{className:"bordered branch-analysis-list",onScroll:e.handleScroll,ref:e.registerScrollableNode},n&&o.createElement(p.a,{className:"big-spacer-top"}),n||i?o.createElement("ul",null,s.map((n,a)=>{const s=Object.keys(n.byDay);return s.length<=0?null:o.createElement("li",{key:n.key||"noversion"},n.version&&o.createElement("div",{className:c("branch-analysis-version-badge",{first:0===a,sticky:e.shouldStick(n.version)}),ref:e.registerBadgeNode(n.version)},o.createElement(I.a,{mouseEnterDelay:.5,overlay:"".concat(Object(h.translate)("version")," ").concat(n.version)},o.createElement("span",{className:"badge"},n.version))),o.createElement("ul",{className:"branch-analysis-days-list"},s.map(a=>o.createElement("li",{className:"branch-analysis-day","data-day":Object(_.toShortNotSoISOString)(Number(a)),key:a},o.createElement("div",{className:"branch-analysis-date"},o.createElement(W.a,{date:Number(a),long:!0})),o.createElement("ul",{className:"branch-analysis-analyses-list"},null!=n.byDay[a]&&n.byDay[a].map(n=>function(e){const{analysis:t,isFirst:n,onSelectAnalysis:a,selectedAnalysisKey:r}=e;return o.createElement("li",{className:c("branch-analysis",{selected:t.key===r}),"data-date":Object(_.parseDate)(t.date).valueOf(),key:t.key,onClick:()=>a(t)},o.createElement("div",{className:"branch-analysis-time spacer-right"},o.createElement(J.a,{date:Object(_.parseDate)(t.date),long:!1},e=>o.createElement("time",{className:"text-middle",dateTime:Object(_.parseDate)(t.date).toISOString()},e))),t.events.length>0&&o.createElement(Z.a,{analysisKey:t.key,events:t.events,isFirst:n}),o.createElement("div",{className:"analysis-selection-button"},o.createElement(G.a,{checked:t.key===r,onCheck:()=>{},value:""})))}({analysis:n,selectedAnalysisKey:r,isFirst:t[0].key===n.key,onSelectAnalysis:e.onSelectAnalysis})))))))})):o.createElement("div",{className:"big-spacer-top big-spacer-bottom strong"},Object(h.translate)("baseline.no_analyses")))))}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ne extends o.PureComponent{constructor(e){super(e),this.mounted=!1,this.badges={},this.state={analyses:[],loading:!0,range:30,scroll:0},this.handleScroll=e=>{e.currentTarget&&this.updateScroll(e.currentTarget.scrollTop)},this.updateScroll=e=>{this.setState({scroll:e})},this.registerBadgeNode=e=>t=>{t&&(t.getAttribute("originOffsetTop")||t.setAttribute("originOffsetTop",String(t.offsetTop)),this.badges[e]=t)},this.shouldStick=e=>{const t=this.badges[e];return!!t&&Number(t.getAttribute("originOffsetTop"))<this.state.scroll+10},this.handleRangeChange=({value:e})=>{this.setState({range:e},()=>this.fetchAnalyses())},this.updateScroll=T()(this.updateScroll,20)}componentDidMount(){this.mounted=!0,this.fetchAnalyses(!0)}componentWillUnmount(){this.mounted=!1}scrollToSelected(){const e=document.querySelector(".branch-analysis.selected");this.scrollableNode&&e&&Object(z.scrollToElement)(e,{parent:this.scrollableNode,bottomOffset:40})}fetchAnalyses(e=!1){const{analysis:t,branch:n,component:a}=this.props,{range:r}=this.state;return this.setState({loading:!0}),Object(U.e)({branch:n,project:a,from:r?Object(_.toShortNotSoISOString)(Object(V.subDays)(new Date,r)):void 0}).then(n=>{e&&t&&!n.analyses.find(e=>e.key===t)?this.handleRangeChange({value:0}):this.setState({analyses:n.analyses.map(e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{date:Object(_.parseDate)(e.date)})),loading:!1},()=>{this.scrollToSelected()})})}render(){const{analysis:e,onSelectAnalysis:t}=this.props,{analyses:n,loading:a,range:r}=this.state;return o.createElement($,{analyses:n,handleRangeChange:this.handleRangeChange,handleScroll:this.handleScroll,loading:a,onSelectAnalysis:t,range:r,registerBadgeNode:this.registerBadgeNode,registerScrollableNode:e=>{this.scrollableNode=e},selectedAnalysisKey:e,shouldStick:this.shouldStick})}}class ae extends o.PureComponent{constructor(e){super(e),this.mounted=!1,this.branchToOption=e=>({value:e.name,isMain:e.isMain,disabled:e.name===this.props.branch.name}),this.handleSubmit=e=>{e.preventDefault();const{branch:t,component:n}=this.props,{analysis:a,analysisDate:r,days:s,referenceBranch:i,selected:c}=this.state,o=Object(g.a)({type:c,analysis:a,days:s,referenceBranch:i});c&&(this.setState({saving:!0}),Object(m.d)({project:n,type:c,value:o,branch:t.name}).then(()=>{this.setState({saving:!1}),this.props.onClose(t.name,{type:c,value:o,effectiveValue:r&&Object(_.toNotSoISOString)(r)})},()=>{this.setState({saving:!1})}))},this.requestClose=()=>this.props.onClose(),this.handleSelectAnalysis=e=>this.setState({analysis:e.key,analysisDate:e.date}),this.handleSelectDays=e=>this.setState({days:e}),this.handleSelectReferenceBranch=e=>this.setState({referenceBranch:e}),this.handleSelectSetting=e=>this.setState({selected:e});const t=e.branchList.filter(t=>t.name!==e.branch.name),n=t.length>0?t[0].name:"";this.state={analysis:this.getValueFromProps("SPECIFIC_ANALYSIS")||"",days:this.getValueFromProps("NUMBER_OF_DAYS")||"30",referenceBranch:this.getValueFromProps("REFERENCE_BRANCH")||n,saving:!1,selected:this.props.branch.newCodePeriod&&this.props.branch.newCodePeriod.type}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}getValueFromProps(e){return this.props.branch.newCodePeriod&&this.props.branch.newCodePeriod.type===e?this.props.branch.newCodePeriod.value:null}render(){const{branch:e,branchList:t}=this.props,{analysis:n,days:a,referenceBranch:r,saving:s,selected:i}=this.state,c=Object(h.translateWithParameters)("baseline.new_code_period_for_branch_x",e.name),l=e.newCodePeriod&&e.newCodePeriod.type,d=e.newCodePeriod&&e.newCodePeriod.value,{isChanged:u,isValid:m}=Object(g.c)({analysis:n,currentSetting:l,currentSettingValue:d,days:a,referenceBranch:r,selected:i});return o.createElement(j.a,{contentLabel:c,onRequestClose:this.requestClose,size:"large"},o.createElement("header",{className:"modal-head"},o.createElement("h2",null,c)),o.createElement("form",{onSubmit:this.handleSubmit},o.createElement("div",{className:"modal-body modal-container branch-baseline-setting-modal"},o.createElement("div",{className:"display-flex-row huge-spacer-bottom",role:"radiogroup"},o.createElement(k.a,{isDefault:!1,onSelect:this.handleSelectSetting,selected:"PREVIOUS_VERSION"===i}),o.createElement(P.a,{days:a,isChanged:u,isValid:m,onChangeDays:this.handleSelectDays,onSelect:this.handleSelectSetting,selected:"NUMBER_OF_DAYS"===i}),o.createElement(x,{onSelect:this.handleSelectSetting,selected:"SPECIFIC_ANALYSIS"===i}),o.createElement(M,{branchList:t.map(this.branchToOption),onChangeReferenceBranch:this.handleSelectReferenceBranch,onSelect:this.handleSelectSetting,referenceBranch:r,selected:"REFERENCE_BRANCH"===i,settingLevel:"branch"})),"SPECIFIC_ANALYSIS"===i&&o.createElement(ne,{analysis:n,branch:e.name,component:this.props.component,onSelectAnalysis:this.handleSelectAnalysis})),o.createElement("footer",{className:"modal-foot"},o.createElement(p.a,{className:"spacer-right",loading:s}),o.createElement(E.SubmitButton,{disabled:!u||s||!m},Object(h.translate)("save")),o.createElement(E.ResetButtonLink,{onClick:this.props.onClose},Object(h.translate)("cancel")))))}}var re=n(380),se=n.n(re),ie=n(655),ce=n.n(ie),oe=n(354),le=n.n(oe),de=n(586);function ue(e){var t;const{branch:n,existingBranches:a,inheritedSetting:r}=e;let s;return!function(e,t){return!e.newCodePeriod&&"REFERENCE_BRANCH"===t.type&&e.name===t.value}(n,r)?function(e,t){return e.newCodePeriod&&e.newCodePeriod.value&&"REFERENCE_BRANCH"===e.newCodePeriod.type&&!t.includes(e.newCodePeriod.value)}(n,a)&&(s=Object(h.translateWithParameters)("baseline.reference_branch.does_not_exist",(null===(t=n.newCodePeriod)||void 0===t?void 0:t.value)||"")):s=Object(h.translateWithParameters)("baseline.reference_branch.invalid_branch_setting",n.name),o.createElement("tr",{className:s?"branch-setting-warning":""},o.createElement("td",{className:"nowrap"},o.createElement(de.a,{branchLike:n,className:"little-spacer-right"}),n.name,n.isMain&&o.createElement("div",{className:"badge spacer-left"},Object(h.translate)("branches.main_branch"))),o.createElement("td",{className:"huge-spacer-right nowrap"},o.createElement(I.a,{overlay:s},o.createElement("span",null,s&&o.createElement(ce.a,{className:"little-spacer-right"}),n.newCodePeriod?function(e){switch(e.type){case"SPECIFIC_ANALYSIS":return o.createElement(o.Fragment,null,"".concat(Object(h.translate)("baseline.specific_analysis"),": "),e.effectiveValue?o.createElement(le.a,{date:e.effectiveValue}):"?");case"NUMBER_OF_DAYS":return"".concat(Object(h.translate)("baseline.number_days"),": ").concat(e.value);case"PREVIOUS_VERSION":return Object(h.translate)("baseline.previous_version");case"REFERENCE_BRANCH":return"".concat(Object(h.translate)("baseline.reference_branch"),": ").concat(e.value);default:return e.type}}(n.newCodePeriod):Object(h.translate)("branch_list.default_setting")))),o.createElement("td",{className:"text-right"},o.createElement(se.a,null,o.createElement(re.ActionsDropdownItem,{onClick:()=>e.onOpenEditModal(n)},Object(h.translate)("edit")),n.newCodePeriod&&o.createElement(re.ActionsDropdownItem,{onClick:()=>e.onResetToDefault(n.name)},Object(h.translate)("reset_to_default")))))}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class me extends o.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={branches:[],loading:!0},this.updateBranchNewCodePeriod=(e,t)=>{const{branches:n}=this.state,a=n.find(t=>t.name===e);return a&&(a.newCodePeriod=t),n.slice(0)},this.openEditModal=e=>{this.setState({editedBranch:e})},this.closeEditModal=(e,t)=>{e?this.setState({branches:this.updateBranchNewCodePeriod(e,t),editedBranch:void 0}):this.setState({editedBranch:void 0})},this.resetToDefault=e=>Object(m.c)({project:this.props.component.key,branch:e}).then(()=>{this.setState({branches:this.updateBranchNewCodePeriod(e,void 0)})})}componentDidMount(){this.mounted=!0,this.fetchBranches()}componentWillUnmount(){this.mounted=!1}sortAndFilterBranches(e=[]){return Object(f.j)(e.filter(f.f))}fetchBranches(){const e=this.props.component.key;this.setState({loading:!0}),Object(m.b)({project:e}).then(e=>{const t=e.newCodePeriods?e.newCodePeriods.filter(e=>!e.inherited):[],n=this.props.branchList.map(e=>{const n=t.find(t=>t.branchKey===e.name);if(!n)return e;const{type:a="PREVIOUS_VERSION",value:r,effectiveValue:s}=n;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{newCodePeriod:{type:a,value:r,effectiveValue:s}})});this.setState({branches:n,loading:!1})},()=>{this.setState({loading:!1})})}render(){const{branchList:e,inheritedSetting:t}=this.props,{branches:n,editedBranch:a,loading:r}=this.state;return n.length<1?null:r?o.createElement(p.a,null):o.createElement(o.Fragment,null,o.createElement("table",{className:"data zebra"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,Object(h.translate)("branch_list.branch")),o.createElement("th",{className:"nowrap huge-spacer-right"},Object(h.translate)("branch_list.current_setting")),o.createElement("th",{className:"thin nowrap"},Object(h.translate)("branch_list.actions")))),o.createElement("tbody",null,n.map(n=>o.createElement(ue,{branch:n,existingBranches:e.map(e=>e.name),inheritedSetting:t,key:n.name,onOpenEditModal:this.openEditModal,onResetToDefault:this.resetToDefault})))),a&&o.createElement(ae,{branch:a,branchList:e,component:this.props.component.key,onClose:this.closeEditModal}))}}var be=n(325);function fe(e){return{value:e.name,isMain:e.isMain}}function ge(e){const{analysis:t,branchList:n,branchesEnabled:a,component:r,currentSetting:s,currentSettingValue:i,days:l,generalSetting:d,overrideGeneralSetting:u,referenceBranch:m,saving:b,selected:f}=e,{isChanged:y,isValid:v}=Object(g.c)({analysis:t,currentSetting:s,currentSettingValue:i,days:l,overrideGeneralSetting:u,referenceBranch:m,selected:f});return o.createElement("form",{className:"project-baseline-selector",onSubmit:e.onSubmit},o.createElement("div",{className:"big-spacer-top spacer-bottom",role:"radiogroup"},o.createElement(G.a,{checked:!u,className:"big-spacer-bottom",onCheck:()=>e.onToggleSpecificSetting(!1),value:"general"},Object(h.translate)("project_baseline.general_setting")),o.createElement("div",{className:"big-spacer-left"},function(e){let t,n;return"NUMBER_OF_DAYS"===e.type?(t="".concat(Object(h.translate)("baseline.number_days")," (").concat(Object(h.translateWithParameters)("duration.days",e.value||"?"),")"),n=Object(h.translate)("baseline.number_days.description")):(t=Object(h.translate)("baseline.previous_version"),n=Object(h.translate)("baseline.previous_version.description")),o.createElement("div",{className:"general-setting"},o.createElement("strong",null,t),": ",n)}(d)),o.createElement(G.a,{checked:u,className:"huge-spacer-top",onCheck:()=>e.onToggleSpecificSetting(!0),value:"specific"},Object(h.translate)("project_baseline.specific_setting"))),o.createElement("div",{className:"big-spacer-left big-spacer-right project-baseline-setting"},o.createElement("div",{className:"display-flex-row big-spacer-bottom",role:"radiogroup"},o.createElement(k.a,{disabled:!u,onSelect:e.onSelectSetting,selected:u&&"PREVIOUS_VERSION"===f}),o.createElement(P.a,{days:l,disabled:!u,isChanged:y,isValid:v,onChangeDays:e.onSelectDays,onSelect:e.onSelectSetting,selected:u&&"NUMBER_OF_DAYS"===f}),a?o.createElement(M,{branchList:n.map(fe),disabled:!u,onChangeReferenceBranch:e.onSelectReferenceBranch,onSelect:e.onSelectSetting,referenceBranch:m||"",selected:u&&"REFERENCE_BRANCH"===f,settingLevel:"project"}):o.createElement(x,{disabled:!u,onSelect:e.onSelectSetting,selected:u&&"SPECIFIC_ANALYSIS"===f})),"SPECIFIC_ANALYSIS"===f&&o.createElement(ne,{analysis:t||"",branch:"master",component:r,onSelectAnalysis:e.onSelectAnalysis})),o.createElement("div",{className:c("big-spacer-top",{invisible:!y})},o.createElement(be.Alert,{variant:"info",className:"spacer-bottom"},Object(h.translate)("baseline.next_analysis_notice")),o.createElement(p.a,{className:"spacer-right",loading:b}),o.createElement(E.SubmitButton,{disabled:b||!v||!y},Object(h.translate)("save")),o.createElement(E.ResetButtonLink,{className:"spacer-left",onClick:e.onCancel},Object(h.translate)("cancel"))))}const ye={type:"PREVIOUS_VERSION"};class ve extends o.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={branchList:[],days:"30",loading:!0,saving:!1},this.resetSuccess=i()(()=>this.setState({success:void 0}),3e3),this.resetSetting=()=>{this.setState({saving:!0}),Object(m.c)({project:this.props.component.key}).then(()=>{this.setState({saving:!1,currentSetting:void 0,selected:void 0,success:!0}),this.resetSuccess()},()=>{this.setState({saving:!1})})},this.handleSelectAnalysis=e=>this.setState({analysis:e.key}),this.handleSelectDays=e=>this.setState({days:e}),this.handleSelectReferenceBranch=e=>{this.setState({referenceBranch:e})},this.handleCancel=()=>this.setState(({generalSetting:e=ye,currentSetting:t,currentSettingValue:n})=>this.getUpdatedState({generalSetting:e,currentSetting:t,currentSettingValue:n})),this.handleSelectSetting=e=>this.setState({selected:e}),this.handleToggleSpecificSetting=e=>this.setState({overrideGeneralSetting:e}),this.handleSubmit=e=>{e.preventDefault();const{component:t}=this.props,{analysis:n,days:a,selected:r,referenceBranch:s,overrideGeneralSetting:i}=this.state;if(!i)return void this.resetSetting();const c=Object(g.a)({type:r,analysis:n,days:a,referenceBranch:s});r&&(this.setState({saving:!0}),Object(m.d)({project:t.key,type:r,value:c}).then(()=>{this.setState({saving:!1,currentSetting:r,currentSettingValue:c||void 0,success:!0}),this.resetSuccess()},()=>{this.setState({saving:!1})}))}}componentDidMount(){this.mounted=!0,this.fetchLeakPeriodSetting(),this.sortAndFilterBranches(this.props.branchLikes)}componentDidUpdate(e){e.branchLikes!==this.props.branchLikes&&this.sortAndFilterBranches(this.props.branchLikes)}componentWillUnmount(){this.mounted=!1}getUpdatedState(e){const{currentSetting:t,currentSettingValue:n,generalSetting:a}=e,{referenceBranch:r}=this.state,s="NUMBER_OF_DAYS"===a.type&&a.value||"30";return{loading:!1,currentSetting:t,currentSettingValue:n,generalSetting:a,selected:t||a.type,overrideGeneralSetting:Boolean(t),days:"NUMBER_OF_DAYS"===t&&n||s,analysis:"SPECIFIC_ANALYSIS"===t&&n||"",referenceBranch:"REFERENCE_BRANCH"===t&&n||r}}sortAndFilterBranches(e=[]){const t=Object(f.j)(e.filter(f.f));this.setState({branchList:t,referenceBranch:t[0].name})}fetchLeakPeriodSetting(){this.setState({loading:!0}),Promise.all([Object(m.a)(),Object(m.a)({branch:this.props.branchesEnabled?void 0:"master",project:this.props.component.key})]).then(([e,t])=>{if(this.mounted){e.type||(e=ye);const n=t.value,a=t.inherited?void 0:t.type||"PREVIOUS_VERSION";this.setState(this.getUpdatedState({generalSetting:e,currentSetting:a,currentSettingValue:n}))}},()=>{this.setState({loading:!1})})}render(){const{branchesEnabled:e,canAdmin:t,component:n}=this.props,{analysis:a,branchList:r,currentSetting:s,days:i,generalSetting:l,loading:u,currentSettingValue:m,overrideGeneralSetting:f,referenceBranch:g,saving:y,selected:v,success:E}=this.state;return o.createElement(o.Fragment,null,o.createElement(b.a,{suggestions:"project_baseline"}),o.createElement("div",{className:"page page-limited"},o.createElement(O,{canAdmin:!!t}),u?o.createElement(p.a,null):o.createElement("div",{className:"panel-white project-baseline"},e&&o.createElement("h2",null,Object(h.translate)("project_baseline.default_setting")),l&&void 0!==f&&o.createElement(ge,{analysis:a,branchList:r,branchesEnabled:e,component:n.key,currentSetting:s,currentSettingValue:m,days:i,generalSetting:l,onCancel:this.handleCancel,onSelectAnalysis:this.handleSelectAnalysis,onSelectDays:this.handleSelectDays,onSelectReferenceBranch:this.handleSelectReferenceBranch,onSelectSetting:this.handleSelectSetting,onSubmit:this.handleSubmit,onToggleSpecificSetting:this.handleToggleSpecificSetting,overrideGeneralSetting:f,referenceBranch:g,saving:y,selected:v}),o.createElement("div",{className:c("spacer-top",{invisible:y||!E})},o.createElement("span",{className:"text-success"},o.createElement(d.a,{className:"spacer-right"}),Object(h.translate)("settings.state.saved"))),l&&e&&o.createElement("div",{className:"huge-spacer-top branch-baseline-selector"},o.createElement("hr",null),o.createElement("h2",null,Object(h.translate)("project_baseline.configure_branches")),o.createElement(me,{branchList:r,component:n,inheritedSetting:s?{type:s,value:m}:l})))))}}t.default=Object(a.connect)(e=>({branchesEnabled:Object(r.getAppState)(e).branchesEnabled,canAdmin:Object(r.getAppState)(e).canAdmin}))(ve)},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(311),r=n(2),s=n(370),i=n(340);n(341);var c=n(316);t.default=function(e){var t=e.tagName,n=void 0===t?"div":t;return r.createElement(n,{className:a("help-tooltip",e.className)},r.createElement(c.default,{mouseLeaveDelay:.25,onShow:e.onShow,overlay:e.overlay,placement:e.placement},r.createElement("span",{className:"display-inline-flex-center"},e.children||r.createElement(i.ThemeConsumer,null,(function(e){return r.createElement(s.default,{fill:e.colors.gray71,size:12})})))))}},333:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(360);function s({suggestions:e}){return a.createElement(r.a.Consumer,null,({addSuggestions:t,removeSuggestions:n})=>a.createElement(i,{addSuggestions:t,removeSuggestions:n,suggestions:e}))}class i extends a.PureComponent{componentDidMount(){this.props.addSuggestions(this.props.suggestions)}componentDidUpdate(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))}componentWillUnmount(){this.props.removeSuggestions(this.props.suggestions)}render(){return null}}},341:function(e,t,n){var a=n(313),r=n(342);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},342:function(e,t,n){(t=n(314)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""]),e.exports=t},351:function(e,t,n){var a=n(372),r=n(345),s=n(416),i=n(363);e.exports=function(e,t){return(i(e)?a:s)(e,r(t,3))}},354:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(319),i=n(26);t.formatterOption={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},t.default=function(e){var n=e.children,c=e.date;return r.createElement(s.FormattedDate,a({value:i.parseDate(c)},t.formatterOption),n)}},355:function(e,t,n){var a=n(408);e.exports=function(e){return e?(e=a(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(311),r=n(2),s=n(320);n(410),t.default=function(e){var t=s.formatMeasure(e.level,"LEVEL"),n=a(e.className,"level","level-"+e.level,{"level-small":e.small,"level-muted":e.muted});return r.createElement("span",{"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],className:n},t)}},380:function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(311),i=n(2),c=n(33),o=n(31),l=n(334),d=n(381),u=n(312),p=n(373),h=n(328),m=n(316);t.default=function(e){var t=e.children,n=e.className,a=e.overlayPlacement,r=e.small,c=e.toggleClassName;return i.createElement(h.default,{className:n,onOpen:e.onOpen,overlay:i.createElement("ul",{className:"menu"},t),overlayPlacement:a},i.createElement(u.Button,{className:s("dropdown-toggle",c,{"button-small":r})},i.createElement(d.default,{size:r?12:14}),i.createElement(l.default,{className:"little-spacer-left"})))};var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.props.onClick&&t.props.onClick()},t}return r(t,e),t.prototype.render=function(){var e=this,t=s(this.props.className,{"text-danger":this.props.destructive});return this.props.download&&"string"==typeof this.props.to?i.createElement("li",null,i.createElement("a",{className:t,download:this.props.download,href:this.props.to,id:this.props.id},this.props.children)):this.props.to?i.createElement("li",null,i.createElement(c.Link,{className:t,id:this.props.id,to:this.props.to},this.props.children)):this.props.copyValue?i.createElement(p.ClipboardBase,null,(function(n){var a=n.setCopyButton,r=n.copySuccess;return i.createElement(m.default,{overlay:o.translate("copied_action"),visible:r},i.createElement("li",{"data-clipboard-text":e.props.copyValue,ref:a},i.createElement("a",{className:t,href:"#",id:e.props.id,onClick:e.handleClick},e.props.children)))})):i.createElement("li",null,i.createElement("a",{className:t,href:"#",id:this.props.id,onClick:this.handleClick},this.props.children))},t}(i.PureComponent);t.ActionsDropdownItem=b,t.ActionsDropdownDivider=function(){return i.createElement("li",{className:"divider"})}},381:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=n(315);t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,c=e.size,o=void 0===c?14:c,l=r(e,["fill","size"]);return s.createElement(i.default,a({size:o,viewBox:"0 0 14 14"},l),s.createElement("g",{transform:"matrix(0.0364583,0,0,0.0364583,0,-1.16667)"},s.createElement("path",{d:"M256,224C256,206.333 249.75,191.25 237.25,178.75C224.75,166.25 209.667,160 192,160C174.333,160 159.25,166.25 146.75,178.75C134.25,191.25 128,206.333 128,224C128,241.667 134.25,256.75 146.75,269.25C159.25,281.75 174.333,288 192,288C209.667,288 224.75,281.75 237.25,269.25C249.75,256.75 256,241.667 256,224ZM384,196.75L384,252.25C384,254.25 383.333,256.167 382,258C380.667,259.833 379,260.917 377,261.25L330.75,268.25C327.583,277.25 324.333,284.833 321,291C326.833,299.333 335.75,310.833 347.75,325.5C349.417,327.5 350.25,329.583 350.25,331.75C350.25,333.917 349.5,335.833 348,337.5C343.5,343.667 335.25,352.667 323.25,364.5C311.25,376.333 303.417,382.25 299.75,382.25C297.75,382.25 295.583,381.5 293.25,380L258.75,353C251.417,356.833 243.833,360 236,362.5C233.333,385.167 230.917,400.667 228.75,409C227.583,413.667 224.583,416 219.75,416L164.25,416C161.917,416 159.875,415.292 158.125,413.875C156.375,412.458 155.417,410.667 155.25,408.5L148.25,362.5C140.083,359.833 132.583,356.75 125.75,353.25L90.5,380C88.833,381.5 86.75,382.25 84.25,382.25C81.917,382.25 79.833,381.333 78,379.5C57,360.5 43.25,346.5 36.75,337.5C35.583,335.833 35,333.917 35,331.75C35,329.75 35.667,327.833 37,326C39.5,322.5 43.75,316.958 49.75,309.375C55.75,301.792 60.25,295.917 63.25,291.75C58.75,283.417 55.333,275.167 53,267L7.25,260.25C5.083,259.917 3.333,258.875 2,257.125C0.667,255.375 0,253.417 0,251.25L0,195.75C0,193.75 0.667,191.833 2,190C3.333,188.167 4.917,187.083 6.75,186.75L53.25,179.75C55.583,172.083 58.833,164.417 63,156.75C56.333,147.25 47.417,135.75 36.25,122.25C34.583,120.25 33.75,118.25 33.75,116.25C33.75,114.583 34.5,112.667 36,110.5C40.333,104.5 48.542,95.542 60.625,83.625C72.708,71.708 80.583,65.75 84.25,65.75C86.417,65.75 88.583,66.583 90.75,68.25L125.25,95C132.583,91.167 140.167,88 148,85.5C150.667,62.833 153.083,47.333 155.25,39C156.417,34.333 159.417,32 164.25,32L219.75,32C222.083,32 224.125,32.708 225.875,34.125C227.625,35.542 228.583,37.333 228.75,39.5L235.75,85.5C243.917,88.167 251.417,91.25 258.25,94.75L293.75,68C295.25,66.5 297.25,65.75 299.75,65.75C301.917,65.75 304,66.583 306,68.25C327.5,88.083 341.25,102.25 347.25,110.75C348.417,112.083 349,113.917 349,116.25C349,118.25 348.333,120.167 347,122C344.5,125.5 340.25,131.042 334.25,138.625C328.25,146.208 323.75,152.083 320.75,156.25C325.083,164.583 328.5,172.75 331,180.75L376.75,187.75C378.917,188.083 380.667,189.125 382,190.875C383.333,192.625 384,194.583 384,196.75Z",style:{fill:n}})))}},382:function(e,t,n){var a=n(355);e.exports=function(e){var t=a(e),n=t%1;return t==t?n?t-n:t:0}},383:function(e,t,n){var a=n(446),r=n(400),s=Object.prototype.hasOwnProperty,i=r((function(e,t,n){s.call(e,n)?e[n].push(t):a(e,n,[t])}));e.exports=i},407:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return v})),n.d(t,"e",(function(){return O})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return S})),n.d(t,"g",(function(){return j})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return C})),n.d(t,"l",(function(){return N})),n.d(t,"b",(function(){return x})),n.d(t,"k",(function(){return P})),n.d(t,"c",(function(){return k}));var a=n(329),r=n.n(a),s=n(383),i=n.n(s),c=n(526),o=n.n(c),l=n(653),d=n.n(l),u=n(31),p=n(16),h=n(349),m=n(395),b=n(506);const f=b.a.issues,g={[b.a.issues]:[m.a.bugs,m.a.code_smells,m.a.vulnerabilities],[b.a.coverage]:[m.a.lines_to_cover,m.a.uncovered_lines],[b.a.duplications]:[m.a.ncloc,m.a.duplicated_lines]},y={[b.a.issues]:g[b.a.issues].concat([m.a.reliability_rating,m.a.security_rating,m.a.sqale_rating]),[b.a.coverage]:[...g[b.a.coverage],m.a.coverage],[b.a.duplications]:[...g[b.a.duplications],m.a.duplicated_lines_density]};function v(e){return e===b.a.custom}function O(e=!1){const t=[b.a.issues,b.a.coverage,b.a.duplications];return e?t:[...t,b.a.custom]}function E(e){return e.data.some(e=>Boolean(e.y||0===e.y))}function S(e){return e.some(e=>e.data&&e.data.length>1)}function j(e){return e.length>0?e[0].type:"INT"}function _(e,t){return v(e)?t:g[e]}function C(e,t){return v(e)?t:y[e]}function N(e,t,n){return o()(i()(e,e=>e.type),e=>d()(e,n)).slice(0,t)}function x(e,t,n,a){return a.length<=0||void 0===e?[]:r()(e.filter(e=>a.indexOf(e.metric)>=0).map(a=>{if(a.metric===m.a.uncovered_lines&&!v(t))return function(e,t){const n=t.find(e=>e.metric===m.a.lines_to_cover);return{data:n?e.history.map((e,t)=>({x:e.date,y:Number(n.history[t].value)-Number(e.value)})):[],name:"covered_lines",translatedName:Object(u.translate)("project_activity.custom_metric.covered_lines"),type:"INT"}}(a,e);const r=function(e,t){if(Array.isArray(t))return t.find(t=>t.key===e);return t[e]}(a.metric,n);return{data:a.history.map(e=>({x:e.date,y:r&&"LEVEL"===r.type?e.value:Number(e.value)})),name:a.metric,translatedName:r?Object(u.getLocalizedMetricName)(r):Object(h.localizeMetric)(a.metric),type:r?r.type:"INT"}}),e=>a.indexOf("covered_lines"===e.name?"uncovered_lines":e.name))}function P(e,t,n,a=[]){Object(p.save)(e,n,t),v(n)&&Object(p.save)("".concat(e,".custom"),a.join(","),t)}function k(e,t){const n=Object(p.get)("".concat(e,".custom"),t);return{graph:Object(p.get)(e,t)||f,customGraphs:n?n.split(","):[]}}},409:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=n(315);t.default=function(e){var t=e.fill,n=r(e,["fill"]);return s.createElement(i.ThemedIcon,a({},n),(function(e){var n=e.theme;return s.createElement("path",{d:"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z",style:{fill:t||n.colors.blue}})}))}},410:function(e,t,n){var a=n(313),r=n(411);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},411:function(e,t,n){(t=n(314)(!1)).push([e.i,".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:20px;line-height:20px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}",""]),e.exports=t},415:function(e,t,n){var a=n(313),r=n(431);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},430:function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(311),i=n(2);n(415);var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),t.props.disabled||t.props.onCheck(t.props.value)},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.checked,a=e.children,r=e.disabled;return i.createElement("a",{"aria-checked":n,className:s("display-inline-flex-center link-radio",t,{disabled:r}),href:"#",onClick:this.handleClick,role:"radio"},i.createElement("i",{className:s("icon-radio","spacer-right",{"is-checked":n})}),a)},t}(i.PureComponent);t.default=c},431:function(e,t,n){(t=n(314)(!1)).push([e.i,'.icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:"";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}',""]),e.exports=t},506:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.issues="issues",e.coverage="coverage",e.duplications="duplications",e.custom="custom"}(a||(a={}))},518:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(311),r=n(2),s=n(319),i=n(31),c=n(650);n(415),n(651),t.default=function(e){var t=e.className,n=e.disabled,o=e.onClick,l=e.recommended,d=e.selected,u=e.titleInfo,p=Boolean(o);return r.createElement("div",{"aria-checked":d,className:a("radio-card",{"radio-card-actionable":p,disabled:n,selected:d},t),onClick:p&&!n?o:void 0,role:"radio",tabIndex:0},r.createElement("h2",{className:"radio-card-header big-spacer-bottom"},r.createElement("span",{className:"display-flex-center link-radio"},p&&r.createElement("i",{className:a("icon-radio","spacer-right",{"is-checked":d})}),e.title),u),r.createElement("div",{className:"radio-card-body"},e.children),l&&r.createElement("div",{className:"radio-card-recommended"},r.createElement(c.default,{className:"spacer-right"}),r.createElement(s.FormattedMessage,{defaultMessage:l,id:l,values:{recommended:r.createElement("strong",null,i.translate("recommended"))}})))}},526:function(e,t,n){var a=n(425),r=n(351);e.exports=function(e,t){return a(r(e,t),1)}},546:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=n(315);t.default=function(e){var t=e.fill,n=r(e,["fill"]);return s.createElement(i.ThemedIcon,a({},n),(function(e){var n=e.theme;return s.createElement("path",{d:"M13,11.9L13,5.5C13,5.4 13.232,1.996 7.9,2L9.1,0.8L8.5,0.1L5.9,2.6L8.5,5.1L9.2,4.4L7.905,3.008C12.256,2.99 12,5.4 12,5.5L12,11.9C11.1,12.1 10.5,12.9 10.5,13.8C10.5,14.9 11.4,15.8 12.5,15.8C13.6,15.8 14.5,14.9 14.5,13.8C14.5,12.9 13.9,12.2 13,11.9ZM4,11.9C4.9,12.2 5.5,12.9 5.5,13.8C5.5,14.9 4.6,15.8 3.5,15.8C2.4,15.8 1.5,14.9 1.5,13.8C1.5,12.9 2.1,12.1 3,11.9L3,4.1C2.1,3.9 1.5,3.1 1.5,2.2C1.5,1.1 2.4,0.2 3.5,0.2C4.6,0.2 5.5,1.1 5.5,2.2C5.5,3.1 4.9,3.9 4,4.1L4,11.9ZM12.5,14.9C11.9,14.9 11.5,14.5 11.5,13.9C11.5,13.3 11.9,12.9 12.5,12.9C13.1,12.9 13.5,13.3 13.5,13.9C13.5,14.5 13.1,14.9 12.5,14.9ZM3.5,14.9C2.9,14.9 2.5,14.5 2.5,13.9C2.5,13.3 2.9,12.9 3.5,12.9C4.1,12.9 4.5,13.3 4.5,13.9C4.5,14.5 4.1,14.9 3.5,14.9ZM2.5,2.2C2.5,1.6 2.9,1.2 3.5,1.2C4.1,1.2 4.5,1.6 4.5,2.2C4.5,2.8 4.1,3.2 3.5,3.2C2.9,3.2 2.5,2.8 2.5,2.2Z",style:{fill:t||n.colors.blue}})}))}},561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(483),s=n(434),i=n(324);t.default=function(e){var t=e.isInvalid&&void 0!==e.error;return a.createElement("div",{className:e.className},a.createElement("label",{htmlFor:e.id},a.createElement("span",{className:"text-middle"},a.createElement("strong",null,e.label),e.required&&a.createElement("em",{className:"mandatory"},"*")),e.help&&a.createElement(i.default,{className:"spacer-left",overlay:e.help})),a.createElement("div",{className:"little-spacer-top spacer-bottom"},e.children,e.isInvalid&&a.createElement(r.default,{className:"spacer-left text-middle"}),t&&a.createElement("span",{className:"little-spacer-left text-danger text-middle"},e.error),e.isValid&&a.createElement(s.default,{className:"spacer-left text-middle"})),e.description&&a.createElement("div",{className:"note abs-width-400"},e.description))}},563:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(319),i=n(26);t.formatterOption={hour:"numeric",minute:"numeric"},t.longFormatterOption={hour:"numeric",minute:"numeric",second:"numeric"},t.default=function(e){var n=e.children,c=e.date,o=e.long;return r.createElement(s.FormattedTime,a({value:i.parseDate(c)},o?t.longFormatterOption:t.formatterOption),n)}},580:function(e,t,n){var a=n(662);e.exports=function(e,t){return a(e,t)}},586:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(2),r=n(409),s=n.n(r),i=n(546),c=n.n(i),o=n(331);function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e){let{branchLike:t}=e,n=l(e,["branchLike"]);return Object(o.h)(t)?a.createElement(c.a,Object.assign({},n)):a.createElement(s.a,Object.assign({},n))}},600:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=n(315);t.default=function(e){var t=e.fill,n=void 0===t?"#fff":t,c=e.size,o=void 0===c?14:c,l=r(e,["fill","size"]);return s.createElement(i.default,a({size:o},l),s.createElement("path",{d:"M8 2 L14 8 L8 14 L2 8 L8 2 L14 8",style:{fill:n,stroke:"currentColor",strokeWidth:"2px"}}))}},647:function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(27),i=n(2),c=n(31),o=n(343),l=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleSearch=function(e){var t=e;n.props.onSearch(t).then((function(e){n.mounted&&n.setState((function(n){return{loading:!1,options:n.query===t?e:n.options}}))}),(function(){n.mounted&&n.setState({loading:!1})}))},n.handleChange=function(e){Array.isArray(e)?n.props.onMultiSelect&&n.props.onMultiSelect(e):n.props.onSelect&&n.props.onSelect(e)},n.handleInputChange=function(e){if(e.length>=n.minimumQueryLength)n.setState({loading:!0,query:e}),n.handleSearch(e);else{var t=0===e.length&&n.props.defaultOptions||[];n.setState({options:t,query:e})}},n.handleFilterOption=function(){return!0},n.state={loading:!1,options:t.defaultOptions||[],query:""},n.handleSearch=s.debounce(n.handleSearch,250),n}return r(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},Object.defineProperty(t.prototype,"autofocus",{get:function(){return void 0===this.props.autofocus||this.props.autofocus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumQueryLength",{get:function(){return void 0!==this.props.minimumQueryLength?this.props.minimumQueryLength:2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resetOnBlur",{get:function(){return void 0===this.props.resetOnBlur||this.props.resetOnBlur},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.canCreate?o.Creatable:o.default;return i.createElement(e,{autoFocus:this.autofocus,className:this.props.className,clearable:this.props.clearable,escapeClearsValue:!1,filterOption:this.handleFilterOption,isLoading:this.state.loading,multi:this.props.multi,noResultsText:this.state.query.length<this.minimumQueryLength?c.translateWithParameters("select2.tooShort",this.minimumQueryLength):c.translate("select2.noMatches"),onBlurResetsInput:this.resetOnBlur,onChange:this.handleChange,onInputChange:this.handleInputChange,optionRenderer:this.props.renderOption,options:this.state.options,placeholder:c.translate("search_verb"),promptTextCreator:this.props.promptTextCreator,searchable:!0,value:this.props.value,valueRenderer:this.props.renderOption})},t}(i.PureComponent);t.default=l},650:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=n(315);t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,c=r(e,["fill"]);return s.createElement(i.default,a({},c),s.createElement("path",{d:"M15.089 13.199l-1.742-3.736c-0.962 1.401-2.464 2.398-4.203 2.701l1.459 3.128c0.186 0.4 0.764 0.373 0.914-0.040l0.748-2.054 0.154-0.072 2.054 0.748c0.412 0.151 0.804-0.276 0.618-0.675zM8.040 0.384c-3.003 0-5.446 2.443-5.446 5.446s2.443 5.446 5.446 5.446c3.003 0 5.446-2.443 5.446-5.446s-2.443-5.446-5.446-5.446zM10.689 5.429l-0.966 0.941 0.228 1.33c0.070 0.406-0.358 0.711-0.718 0.522l-1.194-0.628-1.194 0.628c-0.363 0.19-0.788-0.118-0.718-0.522l0.228-1.33-0.966-0.941c-0.293-0.286-0.131-0.786 0.274-0.844l1.335-0.194 0.597-1.209c0.181-0.367 0.707-0.368 0.888 0l0.597 1.209 1.335 0.194c0.405 0.059 0.568 0.558 0.274 0.844zM2.732 9.463l-1.742 3.736c-0.187 0.4 0.208 0.825 0.618 0.674l2.054-0.748 0.154 0.072 0.748 2.054c0.15 0.412 0.727 0.441 0.914 0.040l1.459-3.128c-1.739-0.302-3.241-1.3-4.203-2.701z",style:{fill:n}}))}},651:function(e,t,n){var a=n(313),r=n(652);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(a(r,s),r.locals?r.locals:{});e.exports=i},652:function(e,t,n){(t=n(314)(!1)).push([e.i,".radio-card{display:flex;flex-direction:column;width:450px;min-height:210px;background-color:#fff;border:1px solid #e6e6e6;border-radius:3px;box-sizing:border-box;margin-right:16px;transition:all .2s ease}.radio-card.animated{height:0;border-width:0;overflow:hidden}.radio-card.animated.open{height:210px;border-width:1px}.radio-card.highlight{box-shadow:0 6px 12px rgba(0,0,0,.175)}.radio-card:last-child{margin-right:0}.radio-card:focus{outline:none}.radio-card-actionable{cursor:pointer}.radio-card-actionable:not(.disabled):hover{box-shadow:0 6px 12px rgba(0,0,0,.175);transform:translateY(-2px)}.radio-card-actionable.selected{border-color:#236a97}.radio-card-actionable.selected .radio-card-recommended{border:1px solid #236a97;border-top:none}.radio-card-actionable.disabled{cursor:not-allowed;background-color:#ebebeb;border-color:#ddd}.radio-card-actionable.disabled h2,.radio-card-actionable.disabled ul{color:#bbb}.radio-card-header{align-items:center;padding:16px 16px 0}.radio-card-body,.radio-card-header{display:flex;justify-content:space-between}.radio-card-body{flex-grow:1;flex-direction:column;padding:0 16px 16px}.radio-card-body .alert{margin-bottom:0}.radio-card-recommended{position:relative;padding:6px 16px;left:-1px;bottom:-1px;width:450px;color:#fff;background-color:#4b9fd5;border-radius:0 0 3px 3px;box-sizing:border-box;font-size:12px}",""]),e.exports=t},653:function(e,t,n){var a=n(697),r=n(485),s=n(382),i=Math.ceil,c=Math.max;e.exports=function(e,t,n){t=(n?r(e,t,n):void 0===t)?1:c(s(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var l=0,d=0,u=Array(i(o/t));l<o;)u[d++]=a(e,l,l+=t);return u}},655:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),i=n(315);t.default=function(e){var t=e.fill,n=r(e,["fill"]);return s.createElement(i.ThemedIcon,a({},n),(function(e){var n=e.theme;return s.createElement("path",{d:"M9 12.242v-1.484c0-.14-.11-.258-.25-.258h-1.5c-.14 0-.25.117-.25.258v1.484c0 .14.11.258.25.258h1.5c.14 0 .25-.117.25-.258zM8.984 9.32l.141-3.586a.189.189 0 0 0-.078-.148C9 5.546 8.93 5.5 8.859 5.5H7.141c-.07 0-.141.047-.188.086-.055.039-.078.117-.078.164l.133 3.57c0 .102.117.18.265.18H8.72c.14 0 .258-.078.265-.18zm-.109-7.297l6 11A1 1 0 0 1 14 14.5H2a1 1 0 0 1-.875-1.477l6-11a.994.994 0 0 1 1.75 0z",style:{fill:t||n.colors.warningIconColor}})}))}},688:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return v}));var a=n(580),r=n.n(a),s=n(429),i=n(26),c=n(447),o=n(407),l=n(506);const d=["VERSION","QUALITY_GATE","QUALITY_PROFILE","OTHER"],u=["QUALITY_GATE","DEFINITION_CHANGE","OTHER"];function p(e,t){return e.category!==t.category||m(e,t)}function h(e,t){return!r()(e.customMetrics,t.customMetrics)}function m(e,t){return!r()(e.from,t.from)||!r()(e.to,t.to)}function b(e,t){return e.graph!==t.graph}function f(e,t){return e.reduce((e,n)=>{let a=e[e.length-1];const r=n.events.find(e=>"VERSION"===e.category);if(r){const t={version:r.name,key:r.key,byDay:{}};!a||Object.keys(a.byDay).length>0?e.push(t):e[e.length-1]=t,a=t}else a||(a={version:null,key:null,byDay:{}},e.push(a));const c=s(Object(i.parseDate)(n.date)).getTime().toString();let o=!0;if(t.category||t.from||t.to){const e=!t.from||n.date>=t.from,a=!t.to||n.date<=t.to,r=!t.category||null!=n.events.find(e=>e.category===t.category);o=e&&a&&r}return o&&(a.byDay[c]||(a.byDay[c]=[]),a.byDay[c].push(n)),e},[])}function g(e){return{category:Object(c.parseAsString)(e.category),customMetrics:Object(c.parseAsArray)(e.custom_metrics,c.parseAsString),from:Object(c.parseAsDate)(e.from),graph:O(e.graph),project:Object(c.parseAsString)(e.id),to:Object(c.parseAsDate)(e.to),selectedDate:Object(c.parseAsDate)(e.selected_date)}}function y(e){return Object(c.cleanQuery)({category:Object(c.serializeString)(e.category),from:Object(c.serializeDate)(e.from),project:Object(c.serializeString)(e.project),to:Object(c.serializeDate)(e.to)})}function v(e){return Object(c.cleanQuery)({category:Object(c.serializeString)(e.category),custom_metrics:Object(c.serializeStringArray)(e.customMetrics),from:Object(c.serializeDate)(e.from),graph:(t=e.graph,t===o.a?void 0:t),id:Object(c.serializeString)(e.project),to:Object(c.serializeDate)(e.to),selected_date:Object(c.serializeDate)(e.selectedDate)});var t}function O(e){const t=Object(c.parseAsString)(e);return Object.keys(l.a).includes(t)?t:o.a}},699:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2);const r=a.createContext({branchLike:void 0,component:void 0})},758:function(e,t,n){var a=n(368),r=n(584);e.exports=function(e,t,n){var s=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),a(e,t,{leading:s,maxWait:t,trailing:i})}},782:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l}));var a=n(9),r=n(326);function s(e){return Object(a.getJSON)("/api/project_analyses/search",e).catch(r.a)}function i(e,t,n,s){const i={analysis:e,name:t};return n&&(i.category=n),s&&(i.description=s),Object(a.postJSON)("/api/project_analyses/create_event",i).then(e=>e.event,r.a)}function c(e){return Object(a.post)("/api/project_analyses/delete_event",{event:e}).catch(r.a)}function o(e,t,n){const s={event:e};return t&&(s.name=t),n&&(s.description=n),Object(a.postJSON)("/api/project_analyses/update_event",s).then(e=>e.event,r.a)}function l(e){return Object(a.post)("/api/project_analyses/delete",{analysis:e}).catch(r.a)}},784:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f}));var a=n(2),r=n(319),s=n(317),i=n(312),c=n(409),o=n.n(c),l=n(334),d=n.n(l),u=n(31),p=n(396),h=n(331),m=n(322);function b(e){return"DEFINITION_CHANGE"===e.category&&void 0!==e.definitionChange}class f extends a.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.stopPropagation=e=>{e.stopPropagation()},this.toggleProjectsList=()=>{this.setState(e=>({expanded:!e.expanded}))},this.renderProjectLink=(e,t)=>a.createElement(s.Link,{onClick:this.stopPropagation,title:e.name,to:Object(m.u)(e.key,t)},Object(p.limitComponentName)(e.name,28)),this.renderBranch=(e=Object(u.translate)("branches.main_branch"))=>a.createElement("span",{className:"nowrap",title:e},a.createElement(o.a,{className:"little-spacer-left text-text-top"}),e)}renderProjectChange(e){const t=!this.props.branchLike||Object(h.g)(this.props.branchLike);if("ADDED"===e.changeType){const n=t?"event.definition_change.added":"event.definition_change.branch_added";return a.createElement("div",{className:"text-ellipsis"},a.createElement(r.FormattedMessage,{defaultMessage:Object(u.translate)(n),id:n,values:{project:this.renderProjectLink(e,e.branch),branch:this.renderBranch(e.branch)}}))}if("REMOVED"===e.changeType){const n=t?"event.definition_change.removed":"event.definition_change.branch_removed";return a.createElement("div",{className:"text-ellipsis"},a.createElement(r.FormattedMessage,{defaultMessage:Object(u.translate)(n),id:n,values:{project:this.renderProjectLink(e,e.branch),branch:this.renderBranch(e.branch)}}))}return"BRANCH_CHANGED"===e.changeType?a.createElement(r.FormattedMessage,{defaultMessage:Object(u.translate)("event.definition_change.branch_replaced"),id:"event.definition_change.branch_replaced",values:{project:this.renderProjectLink(e,e.newBranch),oldBranch:this.renderBranch(e.oldBranch),newBranch:this.renderBranch(e.newBranch)}}):null}render(){const{event:e}=this.props,{expanded:t}=this.state;return a.createElement(a.Fragment,null,a.createElement("span",{className:"note"},Object(u.translate)("event.category",e.category),":"),a.createElement("div",null,a.createElement(i.ResetButtonLink,{className:"project-activity-event-inner-more-link",onClick:this.toggleProjectsList,stopPropagation:!0},t?Object(u.translate)("hide"):Object(u.translate)("more"),a.createElement(d.a,{className:"little-spacer-left",turned:t}))),t&&a.createElement("ul",{className:"spacer-left spacer-top"},e.definitionChange.projects.map(e=>a.createElement("li",{className:"display-flex-center spacer-top",key:e.key},this.renderProjectChange(e)))))}}},785:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));var a=n(2),r=n(319),s=n(317),i=n(312),c=n(334),o=n.n(c),l=n(378),d=n.n(l),u=n(31),p=n(322);function h(e){return"QUALITY_GATE"===e.category&&void 0!==e.qualityGate}class m extends a.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.stopPropagation=e=>{e.stopPropagation()},this.toggleProjectsList=()=>{this.setState(e=>({expanded:!e.expanded}))}}render(){const{event:e}=this.props,{expanded:t}=this.state;return a.createElement(a.Fragment,null,a.createElement("span",{className:"note spacer-right"},Object(u.translate)("event.category",e.category),":"),e.qualityGate.stillFailing?a.createElement(r.FormattedMessage,{defaultMessage:Object(u.translate)("event.quality_gate.still_x"),id:"event.quality_gate.still_x",values:{status:a.createElement(d.a,{level:e.qualityGate.status,small:!0})}}):a.createElement(d.a,{level:e.qualityGate.status,small:!0}),a.createElement("div",null,e.qualityGate.failing.length>0&&a.createElement(i.ResetButtonLink,{className:"project-activity-event-inner-more-link",onClick:this.toggleProjectsList,stopPropagation:!0},t?Object(u.translate)("hide"):Object(u.translate)("more"),a.createElement(o.a,{className:"little-spacer-left",turned:t}))),t&&a.createElement("ul",{className:"spacer-left spacer-top"},e.qualityGate.failing.map(t=>a.createElement("li",{className:"display-flex-center spacer-top",key:t.key},a.createElement(d.a,{"aria-label":Object(u.translate)("quality_gates.status"),className:"spacer-right",level:e.qualityGate.status,small:!0}),a.createElement("div",{className:"flex-1 text-ellipsis"},a.createElement(s.Link,{onClick:this.stopPropagation,title:t.name,to:Object(p.u)(t.key,t.branch)},a.createElement("span",{"aria-label":Object(u.translateWithParameters)("project_x",t.name)},t.name)))))))}}},787:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(9),r=n(326);function s(e){return Object(a.getJSON)("/api/new_code_periods/show",e).catch(r.a)}function i(e){return Object(a.post)("/api/new_code_periods/set",e).catch(r.a)}function c(e){return Object(a.post)("/api/new_code_periods/unset",e).catch(r.a)}function o(e){return Object(a.getJSON)("/api/new_code_periods/list",e).catch(r.a)}},788:function(e,t,n){"use strict";function a(e){const t=parseInt(e,10);return!(e.length<1||isNaN(t)||t<1||String(t)!==e)}function r({analysis:e,days:t,referenceBranch:n,type:a}){switch(a){case"NUMBER_OF_DAYS":return t;case"REFERENCE_BRANCH":return n;case"SPECIFIC_ANALYSIS":return e;default:return}}function s(e){const{analysis:t="",currentSetting:n,currentSettingValue:r,days:s,overrideGeneralSetting:i,referenceBranch:c="",selected:o}=e;let l;return l=n||void 0===i?!1===i||o!==n||"NUMBER_OF_DAYS"===o&&s!==r||"SPECIFIC_ANALYSIS"===o&&t!==r||"REFERENCE_BRANCH"===o&&c!==r:i,{isChanged:l,isValid:!1===i||"PREVIOUS_VERSION"===o||"SPECIFIC_ANALYSIS"===o&&t.length>0||"NUMBER_OF_DAYS"===o&&a(s)||"REFERENCE_BRANCH"===o&&c.length>0}}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s}))},840:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),r=n(518),s=n.n(r),i=n(561),c=n.n(i),o=n(31);function l(e){const{className:t,days:n,disabled:r,isChanged:i,isValid:l,onChangeDays:d,onSelect:u,selected:p}=e;return a.createElement(s.a,{className:t,disabled:r,onClick:()=>u("NUMBER_OF_DAYS"),selected:p,title:Object(o.translate)("baseline.number_days")},a.createElement(a.Fragment,null,a.createElement("p",{className:"big-spacer-bottom"},Object(o.translate)("baseline.number_days.description")),p&&a.createElement(c.a,{error:void 0,id:"baseline_number_of_days",isInvalid:i&&!l,isValid:i&&l,label:Object(o.translate)("baseline.specify_days"),required:!0},a.createElement("input",{onChange:e=>d(e.currentTarget.value),type:"text",value:n}))))}},841:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(2),r=n(518),s=n.n(r),i=n(31);function c(e){const{disabled:t,isDefault:n,onSelect:r,selected:c}=e;return a.createElement(s.a,{disabled:t,onClick:()=>r("PREVIOUS_VERSION"),selected:c,title:Object(i.translate)("baseline.previous_version")+(n?" (".concat(Object(i.translate)("default"),")"):"")},a.createElement("p",null,Object(i.translate)("baseline.previous_version.description")))}}}]);
//# sourceMappingURL=283.m.adefe62c.chunk.js.map